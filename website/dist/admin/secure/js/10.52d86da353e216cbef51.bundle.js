(window.webpackJsonp=window.webpackJsonp||[]).push([[10],Array(257).concat([function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},,,function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return lt})),n.d(e,"b",(function(){return At})),n.d(e,"c",(function(){return J})),n.d(e,"d",(function(){return rt})),n.d(e,"e",(function(){return be})),n.d(e,"f",(function(){return it})),n.d(e,"g",(function(){return Se})),n.d(e,"h",(function(){return V})),n.d(e,"i",(function(){return ct})),n.d(e,"j",(function(){return L})),n.d(e,"k",(function(){return X})),n.d(e,"l",(function(){return H})),n.d(e,"m",(function(){return ut})),n.d(e,"n",(function(){return ht}));var r=n(303),o=n(531),i=n.n(o),a=n(631),s=n(390),u=n(533),c=n.n(u),f=n(535),l=n(375),d=n.n(l),h=n(582),v=n.n(h),p=n(630),y=n.n(p),m=void 0,g=void 0;function k(){m=0,g=function(){return""+m++}}k();var _={create:function(t){if(null==t)return g();if("string"==typeof t)return t;throw new Error("Keys must be strings, but you passed: "+t)},setGenerator:function(t){g=t},resetGenerator:k},b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},x=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),w=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},O=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},j=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},T=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},N=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},E=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)};function B(t,e){for(var n=D(t,e),r=0;r<n;r++){var o=t.get(r),i=e.get(r);if(o<i)return-1;if(o>i)return 1}return t.size===e.size?0:null}function P(t){if(null==t)return null;if(r.List.isList(t))return t;if(Array.isArray(t))return Object(r.List)(t);throw new Error("Paths can only be created from arrays or lists, but you passed: "+t)}function F(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D(t,e),r=t.slice(0,n),o=e.slice(0,n);return[r,o]}function z(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.size-1;return C(t,0-e,n)}function C(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.size-1,r=t.get(n),o=r+e,i=t.set(n,o);return i}function I(t,e){var n=F(t,e),r=N(n,2),o=r[0],i=r[1];return t.size<e.size&&0===B(o,i)}function R(t,e){return t.equals(e)}function M(t,e){var n=t.size-1,r=F(t,e,n),o=N(r,2),i=o[0],a=o[1],s=t.get(n),u=e.get(n);return R(i,a)&&s<u}function D(t,e){return Math.min(t.size,e.size)}var L={compare:B,create:P,crop:F,decrement:z,getAncestors:function(t){return Object(r.List)().withMutations((function(e){for(var n=0;n<t.size;n++)e.push(t.slice(0,n))}))},increment:C,isAbove:I,isAfter:function(t,e){var n=F(t,e),r=N(n,2);return 1===B(r[0],r[1])},isBefore:function(t,e){var n=F(t,e),r=N(n,2);return-1===B(r[0],r[1])},isEqual:R,isOlder:function(t,e){var n=t.size-1,r=F(t,e,n),o=N(r,2),i=o[0],a=o[1],s=t.get(n),u=e.get(n);return R(i,a)&&s>u},isPath:function(t){return(r.List.isList(t)||Array.isArray(t))&&t.every((function(t){return"number"==typeof t}))},isSibling:function(t,e){if(t.size!==e.size)return!1;var n=t.butLast(),r=e.butLast();return n.equals(r)},isYounger:M,lift:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t.slice(0,-1*e);return n},drop:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t.slice(e);return n},max:function(t,e){return Math.max(t.size,e.size)},min:D,relate:function(t,e){for(var n=[],r=0;r<t.size&&r<e.size;r++){var o=t.get(r);if(o!==e.get(r))break;n.push(o)}return P(n)},transform:function(t,e){var n=e.type,o=e.position,i=e.path;if("add_mark"===n||"insert_text"===n||"remove_mark"===n||"remove_text"===n||"set_mark"===n||"set_node"===n||"set_selection"===n||"set_value"===n||0===t.size)return Object(r.List)([t]);var a=i.size-1,s=R(i,t),u=M(i,t),c=I(i,t);if("insert_node"===n&&(s||u||c)&&(t=C(t,1,a)),"remove_node"===n&&(u?t=z(t,1,a):(s||c)&&(t=[])),"merge_node"===n&&(s||u?t=z(t,1,a):c&&(t=C(t=z(t,1,a),o,a+1))),"split_node"===n&&(s?t=[t,C(t)]:u?t=C(t,1,a):c&&t.get(a+1)>=o&&(t=z(t=C(t,1,a),o,a+1))),"move_node"===n){var f=e.newPath;if(R(i,f))return Object(r.List)([t]);c||s?t=M(i,f)&&i.size<f.size?z(f,1,D(f,i)-1).concat(t.slice(i.size)):f.concat(t.slice(i.size)):(u&&(t=z(t,1,a)),(M(f,t)||R(f,t)||I(f,t))&&(t=C(t,1,f.size-1)))}var l=Array.isArray(t)?t:[t];return Object(r.List)(l)}},q={key:void 0,offset:void 0,path:void 0},K=function(t){function e(){return A(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),x(e,[{key:"isAfterPoint",value:function(t){return!this.isUnset&&(this.key===t.key&&this.offset>t.offset||1===L.compare(this.path,t.path))}},{key:"isAfterRange",value:function(t){return!this.isUnset&&this.isAfterPoint(t.end)}},{key:"isAtEndOfRange",value:function(t){return!this.isUnset&&this.equals(t.end)}},{key:"isAtStartOfRange",value:function(t){return!this.isUnset&&this.equals(t.start)}},{key:"isBeforePoint",value:function(t){return!this.isUnset&&(this.key===t.key&&this.offset<t.offset||-1===L.compare(this.path,t.path))}},{key:"isBeforeRange",value:function(t){return!this.isUnset&&this.isBeforePoint(t.start)}},{key:"isInRange",value:function(t){return!this.isUnset&&(this.equals(t.start)||this.equals(t.end)||this.isAfterPoint(t.start)&&this.isBeforePoint(t.end))}},{key:"isAtEndOfNode",value:function(t){if(this.isUnset)return!1;var e=t.getLastText();return this.key===e.key&&this.offset===e.text.length}},{key:"isAtStartOfNode",value:function(t){if(this.isUnset)return!1;if(0!==this.offset)return!1;var e=t.getFirstText();return this.key===e.key}},{key:"isInNode",value:function(t){return!this.isUnset&&("text"===t.object&&t.key===this.key||!!t.hasNode(this.key))}},{key:"moveBackward",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(0===t)return this;if(t<0)return this.moveForward(-t);var e=this.setOffset(this.offset-t);return e}},{key:"moveForward",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(0===t)return this;if(t<0)return this.moveBackward(-t);var e=this.setOffset(this.offset+t);return e}},{key:"moveTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.key;"number"==typeof t?(e=t,t=this.path):"string"==typeof t?t=(n=t)===this.key?this.path:null:n=t.equals(this.path)?this.key:null;var r=this.merge({key:n,path:t,offset:e});return r}},{key:"moveToStartOfNode",value:function(t){var e=t.getFirstText();return this.moveTo(e.key,0)}},{key:"moveToEndOfNode",value:function(t){var e=t.getLastText();return this.moveTo(e.key,e.text.length)}},{key:"normalize",value:function(t){if(null==this.key&&null==this.path)return this.setOffset(null);var n=this.key,r=this.offset,o=this.path,i=o&&t.getNode(o);if(!i&&(i=t.getNode(n)))return this.merge({path:t.getPath(n)});if(!i){Object(a.a)(!1,"A point's `path` or `key` invalid and was reset!");var s=t.getFirstText();return s?this.merge({key:s.key,offset:0,path:t.getPath(s.key)}):e.create()}if("text"!==i.object){Object(a.a)(!1,"A point should not reference a non-text node!");var u=i.getTextAtOffset(r),c=i.getOffset(u.key);return this.merge({offset:r-c,key:u.key,path:t.getPath(u.key)})}i&&o&&n&&n!==i.key&&Object(a.a)(!1,"A point's `key` did not match its `path`!");var f=this.merge({key:i.key,path:null==o?t.getPath(i.key):o,offset:null==r?0:Math.min(r,i.text.length)});if(f.offset===i.text.length){var l=t.getClosestBlock(f.path).getNextText();l&&(f=f.merge({key:l.key,path:t.getPath(l.key),offset:0}))}return f}},{key:"setKey",value:function(t){return null!=t&&(t=_.create(t)),this.set("key",t)}},{key:"setOffset",value:function(t){return this.set("offset",t)}},{key:"setPath",value:function(t){return null!=t&&(t=L.create(t)),this.set("path",t)}},{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,key:this.key,offset:this.offset,path:this.path&&this.path.toArray()};return t.preserveKeys||delete e.key,e}},{key:"unset",value:function(){return this.merge({key:null,offset:null,path:null})}},{key:"isSet",get:function(){return null!=this.key&&null!=this.offset&&null!=this.path}},{key:"isUnset",get:function(){return!this.isSet}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isPoint(t))return t;if(i()(t))return e.fromJSON(t);throw new Error("`Point.create` only accepts objects or points, but you passed it: "+t)}},{key:"createProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isPoint(t))return{key:t.key,offset:t.offset,path:t.path};if(i()(t)){var n={};return"key"in t&&(n.key=t.key),"offset"in t&&(n.offset=t.offset),"path"in t&&(n.path=L.create(t.path)),"path"in t&&!("key"in t)&&(n.key=null),"key"in t&&!("path"in t)&&(n.path=null),n}throw new Error("`Point.createProperties` only accepts objects or points, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var n=t.key,r=void 0===n?null:n,o=t.offset,i=void 0===o?null:o,a=t.path,s=void 0===a?null:a;return new e({key:r,offset:i,path:L.create(s)})}}]),e}(Object(r.Record)(q)),J=function(){function t(){A(this,t)}return x(t,null,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r.Map.isMap(e))return e;if(i()(e))return t.fromJSON(e);throw new Error("`Data.create` only accepts objects or maps, but you passed it: "+e)}},{key:"fromJSON",value:function(t){return new r.Map(t)}}]),t}();J.fromJS=J.fromJSON;var U={data:void 0,type:void 0},V=function(t){function e(){return A(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),x(e,[{key:"toJSON",value:function(){return{object:this.object,type:this.type,data:this.data.toJSON()}}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isMark(t))return t;if("string"==typeof t&&(t={type:t}),i()(t))return e.fromJSON(t);throw new Error("`Mark.create` only accepts objects, strings or marks, but you passed it: "+t)}},{key:"createSet",value:function(t){if(r.Set.isSet(t)||Array.isArray(t))return new r.Set(t.map(e.create));if(null==t)return Object(r.Set)();throw new Error("`Mark.createSet` only accepts sets, arrays or null, but you passed it: "+t)}},{key:"createProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isMark(t))return{data:t.data,type:t.type};if("string"==typeof t)return{type:t};if(i()(t)){var n={};return"type"in t&&(n.type=t.type),"data"in t&&(n.data=J.create(t.data)),n}throw new Error("`Mark.createProperties` only accepts objects, strings or marks, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var n=t.data,o=void 0===n?{}:n,i=t.type;if("string"!=typeof i)throw new Error("`Mark.fromJS` requires a `type` string.");return new e({type:i,data:new r.Map(o)})}},{key:"isMarkSet",value:function(t){return r.Set.isSet(t)&&t.every((function(t){return e.isMark(t)}))}}]),e}(Object(r.Record)(U)),W={type:void 0,data:void 0,anchor:void 0,focus:void 0},$=function(t){function e(){return A(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),x(e,[{key:"setProperties",value:function(t){return t=e.createProperties(t),this.merge(t)}},{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,type:this.type,data:this.data.toJSON(),anchor:this.anchor.toJSON(t),focus:this.focus.toJSON(t)};return e}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isDecoration(t))return t;if(X.isRange(t))return e.fromJSON(X.createProperties(t));if(i()(t))return e.fromJSON(t);throw new Error("`Decoration.create` only accepts objects or decorations, but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(r.List.isList(t)||Array.isArray(t)){var n=new r.List(t.map(e.create));return n}throw new Error("`Decoration.createList` only accepts arrays or lists, but you passed it: "+t)}},{key:"createProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isDecoration(t))return{type:t.type,data:t.data,anchor:K.createProperties(t.anchor),focus:K.createProperties(t.focus),mark:V.create(t.mark)};if(i()(t)){var n={};return"type"in t&&(n.type=t.type),"data"in t&&(n.data=J.create(t.data)),"anchor"in t&&(n.anchor=K.create(t.anchor)),"focus"in t&&(n.focus=K.create(t.focus)),n}throw new Error("`Decoration.createProperties` only accepts objects or decorations, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var n=t.anchor,r=t.focus,o=t.type,i=t.data;if(t.mark&&!o&&(Object(a.a)(!1,"As of slate@0.47 the `decoration.mark` property has been changed to `decoration.type` and `decoration.data` directly."),o=t.mark.type,i=t.mark.data),!o)throw new Error("Decorations must be created with a `type`, but you passed: "+JSON.stringify(t));return new e({type:o,data:J.create(i||{}),anchor:K.fromJSON(n||{}),focus:K.fromJSON(r||{})})}}]),e}(Object(r.Record)(W)),Y={anchor:void 0,focus:void 0,isFocused:void 0,marks:void 0},H=function(t){function e(){return A(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),x(e,[{key:"setIsFocused",value:function(t){return this.set("isFocused",t)}},{key:"setMarks",value:function(t){return this.set("marks",t)}},{key:"setProperties",value:function(t){var n=t=e.createProperties(t),r=n.anchor,o=n.focus,i=j(n,["anchor","focus"]);return r&&(i.anchor=K.create(r)),o&&(i.focus=K.create(o)),this.merge(i)}},{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,anchor:this.anchor.toJSON(t),focus:this.focus.toJSON(t),isFocused:this.isFocused,marks:null==this.marks?null:this.marks.toArray().map((function(t){return t.toJSON()}))};return e}},{key:"isBlurred",get:function(){return!this.isFocused}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isSelection(t))return t;if(X.isRange(t))return e.fromJSON(X.createProperties(t));if(i()(t))return e.fromJSON(t);throw new Error("`Selection.create` only accepts objects, ranges or selections, but you passed it: "+t)}},{key:"createProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isSelection(t))return{anchor:K.createProperties(t.anchor),focus:K.createProperties(t.focus),isFocused:t.isFocused,marks:t.marks};if(X.isRange(t))return{anchor:K.createProperties(t.anchor),focus:K.createProperties(t.focus)};if(i()(t)){var n={};return"anchor"in t&&(n.anchor=K.create(t.anchor)),"focus"in t&&(n.focus=K.create(t.focus)),"isFocused"in t&&(n.isFocused=t.isFocused),"marks"in t&&(n.marks=null==t.marks?null:V.createSet(t.marks)),n}throw new Error("`Selection.createProperties` only accepts objects, ranges or selections, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var n=t.anchor,o=t.focus,i=t.isFocused,a=void 0!==i&&i,s=t.marks,u=void 0===s?null:s;return new e({anchor:K.fromJSON(n||{}),focus:K.fromJSON(o||{}),isFocused:a,marks:null==u?null:new r.Set(u.map(V.fromJSON))})}}]),e}(Object(r.Record)(Y)),G={annotation:"@@__SLATE_ANNOTATION__@@",block:"@@__SLATE_BLOCK__@@",change:"@@__SLATE_CHANGE__@@",decoration:"@@__SLATE_DECORATION__@@",document:"@@__SLATE_DOCUMENT__@@",editor:"@@__SLATE_EDITOR__@@",inline:"@@__SLATE_INLINE__@@",leaf:"@@__SLATE_LEAF__@@",mark:"@@__SLATE_MARK__@@",operation:"@@__SLATE_OPERATION__@@",point:"@@__SLATE_POINT__@@",range:"@@__SLATE_RANGE__@@",selection:"@@__SLATE_SELECTION__@@",text:"@@__SLATE_TEXT__@@",value:"@@__SLATE_VALUE__@@"};function Q(t,e){return!(!e||!e[G[t]])}var Z={anchor:void 0,focus:void 0},X=function(t){function e(){return A(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),x(e,[{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,anchor:this.anchor.toJSON(t),focus:this.focus.toJSON(t)};return e}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isRange(t))return"range"===t.object?t:e.fromJSON(e.createProperties(t));if(i()(t))return e.fromJSON(t);throw new Error("`Range.create` only accepts objects or ranges, but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(r.List.isList(t)||Array.isArray(t)){var n=new r.List(t.map(e.create));return n}throw new Error("`Range.createList` only accepts arrays or lists, but you passed it: "+t)}},{key:"createProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isRange(t))return{anchor:K.createProperties(t.anchor),focus:K.createProperties(t.focus)};if(i()(t)){var n={};return"anchor"in t&&(n.anchor=K.create(t.anchor)),"focus"in t&&(n.focus=K.create(t.focus)),n}throw new Error("`Range.createProperties` only accepts objects, annotations, decorations, ranges or selections, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var n=t.anchor,r=t.focus;return new e({anchor:K.fromJSON(n||{}),focus:K.fromJSON(r||{})})}},{key:"isRange",value:function(t){return Q("range",t)||$.isDecoration(t)||H.isSelection(t)}}]),e}(Object(r.Record)(Z)),tt={key:void 0,type:void 0,data:void 0,anchor:void 0,focus:void 0},et=function(t){function e(){return A(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),x(e,[{key:"setProperties",value:function(t){return t=e.createProperties(t),this.merge(t)}},{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,key:this.key,type:this.type,data:this.data.toJSON(),anchor:this.anchor.toJSON(t),focus:this.focus.toJSON(t)};return e}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isAnnotation(t))return t;if(X.isRange(t))return e.fromJSON(X.createProperties(t));if(i()(t))return e.fromJSON(t);throw new Error("`Annotation.create` only accepts objects or annotations, but you passed it: "+t)}},{key:"createMap",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(r.Map.isMap(t))return t;if(i()(t)){var n={};for(var o in t){var a=t[o],s=e.create(a);n[o]=s}return Object(r.Map)(n)}throw new Error("`Annotation.createMap` only accepts arrays or lists, but you passed it: "+t)}},{key:"createProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isAnnotation(t))return{key:t.key,type:t.type,data:t.data,anchor:K.createProperties(t.anchor),focus:K.createProperties(t.focus)};if(i()(t)){var n={};return"key"in t&&(n.key=t.key),"type"in t&&(n.type=t.type),"data"in t&&(n.data=J.create(t.data)),"anchor"in t&&(n.anchor=K.create(t.anchor)),"focus"in t&&(n.focus=K.create(t.focus)),n}throw new Error("`Annotation.createProperties` only accepts objects or annotations, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var n=t.key,r=t.type,o=t.data,i=t.anchor,a=t.focus;if(!n)throw new Error("Annotations must be created with a `key`, but you passed: "+JSON.stringify(t));if(!r)throw new Error("Annotations must be created with a `type`, but you passed: "+JSON.stringify(t));return new e({key:n,type:r,data:J.create(o||{}),anchor:K.fromJSON(i||{}),focus:K.fromJSON(a||{})})}}]),e}(Object(r.Record)(tt)),nt={data:void 0,key:void 0,nodes:void 0},rt=function(t){function e(){return A(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),x(e,[{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,data:this.data.toJSON(),nodes:this.nodes.toArray().map((function(e){return e.toJSON(t)}))};return t.preserveKeys&&(e.key=this.key),e}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isDocument(t))return t;if((r.List.isList(t)||Array.isArray(t))&&(t={nodes:t}),i()(t))return e.fromJSON(t);throw new Error("`Document.create` only accepts objects, arrays, lists or documents, but you passed it: "+t)}},{key:"fromJSON",value:function(t){if(e.isDocument(t))return t;var n=t.data,o=void 0===n?{}:n,i=t.key,a=void 0===i?_.create():i,s=t.nodes,u=void 0===s?[]:s;return new e({key:a,data:new r.Map(o),nodes:ct.createList(u)})}}]),e}(Object(r.Record)(nt)),ot={data:void 0,key:void 0,nodes:void 0,type:void 0},it=function(t){function e(){return A(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),x(e,[{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map((function(e){return e.toJSON(t)}))};return t.preserveKeys&&(e.key=this.key),e}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isInline(t))return t;if("string"==typeof t&&(t={type:t}),i()(t))return e.fromJSON(t);throw new Error("`Inline.create` only accepts objects, strings or inlines, but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(r.List.isList(t)||Array.isArray(t)){var n=new r.List(t.map(e.create));return n}throw new Error("`Inline.createList` only accepts arrays or lists, but you passed it: "+t)}},{key:"fromJSON",value:function(t){if(e.isInline(t))return t;var n=t.data,o=void 0===n?{}:n,i=t.key,a=void 0===i?_.create():i,s=t.nodes,u=void 0===s?[]:s,c=t.type;if("string"!=typeof c)throw new Error("`Inline.fromJS` requires a `type` string.");return new e({key:a,type:c,data:new r.Map(o),nodes:ct.createList(u)})}},{key:"isInlineList",value:function(t){return r.List.isList(t)&&t.every((function(t){return e.isInline(t)}))}}]),e}(Object(r.Record)(ot)),at={key:void 0,marks:void 0,text:void 0},st=Object(r.Record)({text:void 0,marks:void 0,annotations:void 0,decorations:void 0}),ut=function(t){function e(){return A(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),x(e,[{key:"addMark",value:function(t){t=V.create(t);var e=this.marks.add(t);return this.set("marks",e)}},{key:"addMarks",value:function(t){return t=V.createSet(t),this.set("marks",this.marks.union(t))}},{key:"getLeaves",value:function(t,e){var n=[{text:this.text,marks:this.marks,annotations:[],decorations:[]}],o=function(t,e){return[{text:t.text.slice(0,e),marks:t.marks,annotations:[].concat(E(t.annotations)),decorations:[].concat(E(t.decorations))},{text:t.text.slice(e),marks:t.marks,annotations:[].concat(E(t.annotations)),decorations:[].concat(E(t.decorations))}]},i=function(r){var i="annotations"===r?t.values():e,a=!0,s=!1,u=void 0;try{for(var c,f=i[Symbol.iterator]();!(a=(c=f.next()).done);a=!0){var l=c.value,d=l.start,h=l.end,v=[],p=0,y=!0,m=!1,g=void 0;try{for(var k,_=n[Symbol.iterator]();!(y=(k=_.next()).done);y=!0){var b=k.value,A=b.text.length,x=p;if(p+=A,d.offset<=x&&h.offset>=x+A)b[r].push(l),v.push(b);else if(d.offset>x+A||h.offset<=x)v.push(b);else{var w=b,O=void 0,S=void 0;if(h.offset<x+A){var j=o(w,h.offset-x),T=N(j,2);w=T[0],S=T[1]}if(d.offset>x){var E=o(w,d.offset-x),B=N(E,2);O=B[0],w=B[1]}w[r].push(l),O&&v.push(O),v.push(w),S&&v.push(S)}}}catch(t){m=!0,g=t}finally{try{!y&&_.return&&_.return()}finally{if(m)throw g}}n=v}}catch(t){s=!0,u=t}finally{try{!a&&f.return&&f.return()}finally{if(s)throw u}}};return i("annotations"),i("decorations"),n=n.map((function(t){return new st(O({},t,{annotations:Object(r.List)(t.annotations),decorations:Object(r.List)(t.decorations)}))})),Object(r.List)(n)}},{key:"insertText",value:function(t,e){var n=this.text,r=n.slice(0,t)+e+n.slice(t);return this.set("text",r)}},{key:"removeMark",value:function(t){t=V.create(t);var e=this.marks.remove(t);return this.set("marks",e)}},{key:"removeText",value:function(t,e){var n=this.text,r=n.slice(0,t)+n.slice(t+e);return this.set("text",r)}},{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,text:this.text,marks:this.marks.toArray().map((function(t){return t.toJSON()}))};return t.preserveKeys&&(e.key=this.key),e}},{key:"setMark",value:function(t,e){var n=this.marks,r=V.create(t),o=r.merge(e),i=n.remove(r).add(o);return this.set("marks",i)}},{key:"splitText",value:function(t){var e=this.text;return[this.set("text",e.slice(0,t)),this.set("text",e.slice(t)).regenerateKey()]}},{key:"mergeText",value:function(t){var e=this.text+t.text;return this.set("text",e)}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e.isText(t))return t;if("string"==typeof t&&(t={text:t}),i()(t))return e.fromJSON(t);throw new Error("`Text.create` only accepts objects, arrays, strings or texts, but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(r.List.isList(t)||Array.isArray(t)){var n=new r.List(t.map(e.create));return n}throw new Error("`Text.createList` only accepts arrays or lists, but you passed it: "+t)}},{key:"fromJSON",value:function(t){if(e.isText(t))return t;Object(s.a)(null==t.leaves,"As of slate@0.46, the `leaves` property of text nodes has been removed! Each individual leaf should be created as a text node instead.");var n=t.text,r=void 0===n?"":n,o=t.marks,i=void 0===o?[]:o,a=t.key;return new e({key:void 0===a?_.create():a,text:r,marks:V.createSet(i)})}},{key:"isTextList",value:function(t){return r.List.isList(t)&&t.every((function(t){return e.isText(t)}))}}]),e}(Object(r.Record)(at)),ct=function(){function t(){A(this,t)}return x(t,null,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isNode(e))return e;if(i()(e)){var n=e.object;switch(!n&&e.kind&&(Object(a.a)(!1,"As of slate@0.32.0, the `kind` property of Slate objects has been renamed to `object`."),n=e.kind),n){case"block":return lt.create(e);case"document":return rt.create(e);case"inline":return it.create(e);case"text":return ut.create(e);default:throw new Error("`Node.create` requires a `object` string.")}}throw new Error("`Node.create` only accepts objects or nodes but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(r.List.isList(e)||Array.isArray(e)){var n=[];e.forEach((function(e){if(e&&"text"===e.object&&e.leaves&&Array.isArray(e.leaves)){Object(a.a)(!1,"As of slate@0.46, the `leaves` property of Text nodes has been removed. Instead, each text node contains a string of text and a unique set of marks and leaves are unnecessary.");var r=ut.createList(e.leaves).toArray();n=n.concat(r)}else{var o=t.create(e);n.push(o)}}));var o=Object(r.List)(n);return o}throw new Error("`Node.createList` only accepts lists or arrays, but you passed it: "+e)}},{key:"createProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(lt.isBlock(t)||it.isInline(t))return{data:t.data,type:t.type};if("string"==typeof t)return{type:t};if(i()(t)){var e={};return"type"in t&&(e.type=t.type),"data"in t&&(e.data=J.create(t.data)),e}throw new Error("`Node.createProperties` only accepts objects, strings, blocks or inlines, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var e=t.object;switch(!e&&t.kind&&(Object(a.a)(!1,"As of slate@0.32.0, the `kind` property of Slate objects has been renamed to `object`."),e=t.kind),e){case"block":return lt.fromJSON(t);case"document":return rt.fromJSON(t);case"inline":return it.fromJSON(t);case"text":return ut.fromJSON(t);default:throw new Error("`Node.fromJSON` requires an `object` of either 'block', 'document', 'inline' or 'text', but you passed: "+t)}}},{key:"isNode",value:function(t){return lt.isBlock(t)||rt.isDocument(t)||it.isInline(t)||ut.isText(t)}},{key:"isNodeList",value:function(e){return r.List.isList(e)&&e.every((function(e){return t.isNode(e)}))}}]),t}(),ft={data:void 0,key:void 0,nodes:void 0,type:void 0},lt=function(t){function e(){return A(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),x(e,[{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map((function(e){return e.toJSON(t)}))};return t.preserveKeys&&(e.key=this.key),e}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isBlock(t))return t;if("string"==typeof t&&(t={type:t}),i()(t))return e.fromJSON(t);throw new Error("`Block.create` only accepts objects, strings or blocks, but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(r.List.isList(t)||Array.isArray(t)){var n=new r.List(t.map(e.create));return n}throw new Error("`Block.createList` only accepts arrays or lists, but you passed it: "+t)}},{key:"fromJSON",value:function(t){if(e.isBlock(t))return t;var n=t.data,o=void 0===n?{}:n,i=t.key,a=void 0===i?_.create():i,s=t.nodes,u=void 0===s?[]:s,c=t.type;if("string"!=typeof c)throw new Error("`Block.fromJSON` requires a `type` string.");return new e({key:a,type:c,data:Object(r.Map)(o),nodes:ct.createList(u)})}},{key:"isBlockList",value:function(t){return r.List.isList(t)&&t.every((function(t){return e.isBlock(t)}))}}]),e}(Object(r.Record)(ft)),dt={annotations:void 0,data:void 0,document:void 0,selection:void 0},ht=function(t){function e(){return A(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),x(e,[{key:"addAnnotation",value:function(t){t=et.create(t);var e=this,n=e.annotations,r=t.key;return n=n.set(r,t),e=e.set("annotations",n)}},{key:"addMark",value:function(t,e){e=V.create(e);var n=this,r=n.document;return r=r.addMark(t,e),n=n.set("document",r)}},{key:"insertNode",value:function(t,e){var n=this,r=n.document;return r=r.insertNode(t,e),n=(n=n.set("document",r)).mapRanges((function(t){return t.updatePoints((function(t){return t.setPath(null)}))}))}},{key:"insertText",value:function(t,e,n){var r=this,o=r.document,i=o.assertNode(t);return o=o.insertText(t,e,n),i=o.assertNode(t),r=(r=r.set("document",o)).mapPoints((function(t){return t.key===i.key&&t.offset>=e?t.setOffset(t.offset+n.length):t}))}},{key:"mergeNode",value:function(t){var e=this,n=e.document,r=n.mergeNode(t);t=n.resolvePath(t);var o=L.decrement(t),i=n.getNode(o),a=n.getNode(t);return e=(e=e.set("document",r)).mapRanges((function(t){if("text"===a.object){var e=i.text.length;t.anchor.key===a.key&&(t=t.moveAnchorTo(i.key,e+t.anchor.offset)),t.focus.key===a.key&&(t=t.moveFocusTo(i.key,e+t.focus.offset))}return t=t.updatePoints((function(t){return t.setPath(null)}))}))}},{key:"moveNode",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this,o=r,i=o.document;return L.isEqual(t,e)?r:(i=i.moveNode(t,e,n),r=(r=r.set("document",i)).mapPoints((function(t){return t.setPath(null)})))}},{key:"removeAnnotation",value:function(t){t=et.create(t);var e=this,n=e.annotations,r=t.key;return n=n.delete(r),e=e.set("annotations",n)}},{key:"removeMark",value:function(t,e){e=V.create(e);var n=this,r=n.document;return r=r.removeMark(t,e),n=n.set("document",r)}},{key:"removeNode",value:function(t){var e=this,n=e.document,r=n.assertNode(t),o="text"===r.object?r:r.getFirstText()||r,i="text"===r.object?r:r.getLastText()||r,a=n.getPreviousText(o.key),s=n.getNextText(i.key);return n=n.removeNode(t),e=(e=e.set("document",n)).mapRanges((function(t){var e=t,n=e.start,o=e.end;return r.hasNode(n.key)&&(t=a?t.moveStartTo(a.key,a.text.length):s?t.moveStartTo(s.key,0):t.unset()),r.hasNode(o.key)&&(t=a?t.moveEndTo(a.key,a.text.length):s?t.moveEndTo(s.key,0):t.unset()),t=t.updatePoints((function(t){return t.setPath(null)}))}))}},{key:"removeText",value:function(t,e,n){var r=this,o=r.document,i=o.assertNode(t);o=o.removeText(t,e,n),r=r.set("document",o);var a=n.length,s=e,u=e+a;return r=r.mapPoints((function(t){return t.key!==i.key?t:t.offset>=u?t.setOffset(t.offset-a):t.offset>s?t.setOffset(s):t}))}},{key:"setAnnotation",value:function(t,e){e=et.createProperties(e);var n=et.create(t),r=n.merge(e),o=this,i=o.annotations,a=n.key;return i=i.set(a,r),o=o.set("annotations",i)}},{key:"setNode",value:function(t,e){var n=this,r=n.document;return r=r.setNode(t,e),n=n.set("document",r)}},{key:"setMark",value:function(t,e,n){var r=this,o=r.document;return o=o.setMark(t,e,n),r=r.set("document",o)}},{key:"setProperties",value:function(t){var e=this,n=e.document,r=t.data,o=t.annotations,i={};return r&&(i.data=r),o&&(i.annotations=o.map((function(t){return t.isSet?t:n.resolveAnnotation(t)}))),e=e.merge(i)}},{key:"setSelection",value:function(t){var e=this,n=e,r=n.document,o=n.selection,i=o.setProperties(t);return o=r.resolveSelection(i),e=e.set("selection",o)}},{key:"splitNode",value:function(t,e,n){var r=this,o=r.document,i=o.splitNode(t,e,n),a=o.assertNode(t);return r=(r=r.set("document",i)).mapRanges((function(t){var n=i.getNextText(a.key),r=t,o=r.start,s=r.end;return a.key===o.key&&e<=o.offset&&(t=t.moveStartTo(n.key,o.offset-e)),a.key===s.key&&e<=s.offset&&(t=t.moveEndTo(n.key,s.offset-e)),t=t.updatePoints((function(t){return t.setPath(null)}))}))}},{key:"mapRanges",value:function(t){var e=this,n=e,r=n.document,o=n.selection,i=n.annotations,a=o.isSet?t(o):o;a||(a=o.unset()),a!==o&&(a=r.createSelection(a)),e=e.set("selection",a);var s=i.map((function(e){var n=e.isSet?t(e):e;return n&&n!==e&&(n=r.createAnnotation(n)),n}));return s=s.filter((function(t){return!!t})),e=e.set("annotations",s)}},{key:"mapPoints",value:function(t){return this.mapRanges((function(e){return e.updatePoints(t)}))}},{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,document:this.document.toJSON(t)};return t.preserveData&&(e.data=this.data.toJSON(t)),t.preserveAnnotations&&(e.annotations=this.annotations.map((function(e){return e.toJSON(t)})).toObject()),t.preserveSelection&&(e.selection=this.selection.toJSON(t)),e}},{key:"change",value:function(){Object(s.a)(!1,"As of Slate 0.42.0, value object are no longer schema-aware, and the `value.change()` method is no longer available. Use the `editor.change()` method on the new `Editor` controller instead.")}},{key:"startBlock",get:function(){return this.selection.start.key&&this.document.getClosestBlock(this.selection.start.key)}},{key:"endBlock",get:function(){return this.selection.end.key&&this.document.getClosestBlock(this.selection.end.key)}},{key:"anchorBlock",get:function(){return this.selection.anchor.key&&this.document.getClosestBlock(this.selection.anchor.key)}},{key:"focusBlock",get:function(){return this.selection.focus.key&&this.document.getClosestBlock(this.selection.focus.key)}},{key:"startInline",get:function(){return this.selection.start.key&&this.document.getClosestInline(this.selection.start.key)}},{key:"endInline",get:function(){return this.selection.end.key&&this.document.getClosestInline(this.selection.end.key)}},{key:"anchorInline",get:function(){return this.selection.anchor.key&&this.document.getClosestInline(this.selection.anchor.key)}},{key:"focusInline",get:function(){return this.selection.focus.key&&this.document.getClosestInline(this.selection.focus.key)}},{key:"startText",get:function(){return this.selection.start.key&&this.document.getDescendant(this.selection.start.key)}},{key:"endText",get:function(){return this.selection.end.key&&this.document.getDescendant(this.selection.end.key)}},{key:"anchorText",get:function(){return this.selection.anchor.key&&this.document.getDescendant(this.selection.anchor.key)}},{key:"focusText",get:function(){return this.selection.focus.key&&this.document.getDescendant(this.selection.focus.key)}},{key:"nextBlock",get:function(){return this.selection.end.key&&this.document.getNextBlock(this.selection.end.key)}},{key:"previousBlock",get:function(){return this.selection.start.key&&this.document.getPreviousBlock(this.selection.start.key)}},{key:"nextInline",get:function(){return this.selection.end.key&&this.document.getNextInline(this.selection.end.key)}},{key:"previousInline",get:function(){return this.selection.start.key&&this.document.getPreviousInline(this.selection.start.key)}},{key:"nextText",get:function(){return this.selection.end.key&&this.document.getNextText(this.selection.end.key)}},{key:"previousText",get:function(){return this.selection.start.key&&this.document.getPreviousText(this.selection.start.key)}},{key:"marks",get:function(){return this.selection.isUnset?new r.Set:this.selection.marks||this.document.getMarksAtRange(this.selection)}},{key:"activeMarks",get:function(){return this.selection.isUnset?new r.Set:this.selection.marks||this.document.getActiveMarksAtRange(this.selection)}},{key:"blocks",get:function(){return this.selection.isUnset?new r.List:this.document.getLeafBlocksAtRange(this.selection)}},{key:"fragment",get:function(){return this.selection.isUnset?rt.create():this.document.getFragmentAtRange(this.selection)}},{key:"inlines",get:function(){return this.selection.isUnset?new r.List:this.document.getLeafInlinesAtRange(this.selection)}},{key:"texts",get:function(){return this.selection.isUnset?new r.List:this.document.getTextsAtRange(this.selection)}},{key:"history",get:function(){Object(s.a)(!1,"As of Slate 0.42.0, the `value.history` model no longer exists, and the history is stored in `value.data` instead using plugins.")}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.isValue(t))return t;if(i()(t))return e.fromJSON(t,n);throw new Error("`Value.create` only accepts objects or values, but you passed it: "+t)}},{key:"createProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isValue(t))return{annotations:t.annotations,data:t.data};if(i()(t)){var n={};return"annotations"in t&&(n.annotations=et.createList(t.annotations)),"data"in t&&(n.data=J.create(t.data)),n}throw new Error("`Value.createProperties` only accepts objects or values, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var n=t.data,r=void 0===n?{}:n,o=t.annotations,i=void 0===o?{}:o,a=t.document,s=void 0===a?{}:a,u=t.selection,c=void 0===u?{}:u;if(r=J.fromJSON(r),c=(s=rt.fromJSON(s)).createSelection(c),i=et.createMap(i),c.isUnset){var f=s.getFirstText();f&&(c=c.moveToStartOfNode(f)),c=s.createSelection(c)}return new e({annotations:i,data:r,document:s,selection:c})}}]),e}(Object(r.Record)(dt)),vt=c()("slate:operation:apply");function pt(t,e){var n=(e=_t.create(e)).type;switch(vt(n,e),n){case"add_annotation":var r=e.annotation;return t.addAnnotation(r);case"add_mark":var o=e,i=o.path,a=o.mark;return t.addMark(i,a);case"insert_node":var s=e,u=s.path,c=s.node;return t.insertNode(u,c);case"insert_text":var f=e,l=f.path,d=f.offset,h=f.text,v=f.marks;return t.insertText(l,d,h,v);case"merge_node":var p=e.path;return t.mergeNode(p);case"move_node":var y=e,m=y.path,g=y.newPath;return t.moveNode(m,g);case"remove_annotation":var k=e.annotation;return t.removeAnnotation(k);case"remove_mark":var _=e,b=_.path,A=_.mark;return t.removeMark(b,A);case"remove_node":var x=e.path;return t.removeNode(x);case"remove_text":var w=e,O=w.path,S=w.offset,j=w.text;return t.removeText(O,S,j);case"set_annotation":var T=e,N=T.properties,E=T.newProperties;return t.setAnnotation(N,E);case"set_mark":var B=e,P=B.path,F=B.properties,z=B.newProperties;return t.setMark(P,F,z);case"set_node":var C=e,I=C.path,R=C.newProperties;return t.setNode(I,R);case"set_selection":var M=e.newProperties;return t.setSelection(M);case"set_value":var D=e.newProperties;return t.setProperties(D);case"split_node":var L=e,q=L.path,K=L.position,J=L.properties;return t.splitNode(q,K,J);default:throw new Error('Unknown operation type: "'+n+'".')}}var yt=c()("slate:operation:invert");function mt(t){var e=(t=_t.create(t)).type;switch(yt(e,t),e){case"move_node":var n=t,r=n.newPath,o=n.path;if(L.isEqual(r,o))return t;var i=L.transform(o,t).first(),a=L.transform(L.increment(o),t).first();return t.set("path",i).set("newPath",a);case"merge_node":var s=t.path,u=L.decrement(s);return t.set("type","split_node").set("path",u);case"split_node":var c=t.path,f=L.increment(c);return t.set("type","merge_node").set("path",f);case"set_annotation":case"set_node":case"set_value":case"set_selection":case"set_mark":var l=t,d=l.properties,h=l.newProperties;return t.set("properties",h).set("newProperties",d);case"insert_node":case"insert_text":return t.set("type",e.replace("insert_","remove_"));case"remove_node":case"remove_text":return t.set("type",e.replace("remove_","insert_"));case"add_annotation":case"add_mark":return t.set("type",e.replace("add_","remove_"));case"remove_annotation":case"remove_mark":return t.set("type",e.replace("remove_","add_"));default:throw new Error('Unknown operation type: "'+e+'".')}}var gt={add_mark:["path","mark","data"],add_annotation:["annotation","data"],insert_node:["path","node","data"],insert_text:["path","offset","text","data"],merge_node:["path","position","properties","target","data"],move_node:["path","newPath","data"],remove_annotation:["annotation","data"],remove_mark:["path","mark","data"],remove_node:["path","node","data"],remove_text:["path","offset","text","data"],set_annotation:["properties","newProperties","data"],set_mark:["path","properties","newProperties","data"],set_node:["path","properties","newProperties","data"],set_selection:["properties","newProperties","data"],set_value:["properties","newProperties","data"],split_node:["path","position","properties","target","data"]},kt={annotation:void 0,data:void 0,length:void 0,mark:void 0,marks:void 0,newPath:void 0,newProperties:void 0,node:void 0,offset:void 0,path:void 0,position:void 0,properties:void 0,target:void 0,text:void 0,type:void 0},_t=function(t){function e(){return A(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),x(e,[{key:"apply",value:function(t){return pt(t,this)}},{key:"invert",value:function(){return mt(this)}},{key:"toJSON",value:function(){var t=this.object,e=this.type,n={object:t,type:e},r=gt[e],o=!0,i=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value,f=this[c];if("annotation"!==c&&"mark"!==c&&"marks"!==c&&"node"!==c&&"path"!==c&&"newPath"!==c||(f=f.toJSON()),"properties"===c&&"merge_node"===e){var l={};"data"in f&&(l.data=f.data.toJS()),"type"in f&&(l.type=f.type),f=l}if(("properties"===c||"newProperties"===c)&&"set_annotation"===e){var d={};"anchor"in f&&(d.anchor=f.anchor.toJS()),"focus"in f&&(d.focus=f.focus.toJS()),"key"in f&&(d.key=f.key),"mark"in f&&(d.mark=f.mark.toJS()),f=d}if(("properties"===c||"newProperties"===c)&&"set_mark"===e){var h={};"data"in f&&(h.data=f.data.toJS()),"type"in f&&(h.type=f.type),f=h}if(("properties"===c||"newProperties"===c)&&"set_node"===e){var v={};"data"in f&&(v.data=f.data.toJS()),"type"in f&&(v.type=f.type),f=v}if(("properties"===c||"newProperties"===c)&&"set_selection"===e){var p={};"anchor"in f&&(p.anchor=f.anchor.toJSON()),"focus"in f&&(p.focus=f.focus.toJSON()),"isFocused"in f&&(p.isFocused=f.isFocused),"marks"in f&&(p.marks=f.marks&&f.marks.toJSON()),f=p}if(("properties"===c||"newProperties"===c)&&"set_value"===e){var y={};"data"in f&&(y.data=f.data.toJS()),f=y}if("properties"===c&&"split_node"===e){var m={};"data"in f&&(m.data=f.data.toJS()),"type"in f&&(m.type=f.type),f=m}"data"===c&&(f=f.toJSON()),n[c]=f}}catch(t){i=!0,a=t}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}return n}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isOperation(t))return t;if(i()(t))return e.fromJSON(t);throw new Error("`Operation.create` only accepts objects or operations, but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(r.List.isList(t)||Array.isArray(t)){var n=new r.List(t.map(e.create));return n}throw new Error("`Operation.createList` only accepts arrays or lists, but you passed it: "+t)}},{key:"fromJSON",value:function(t){if(e.isOperation(t))return t;var n=t.type,o=gt[n],i={type:n};if(!o)throw new Error('`Operation.fromJSON` was passed an unrecognized operation type: "'+n+'"');var a=!0,s=!1,u=void 0;try{for(var c,f=o[Symbol.iterator]();!(a=(c=f.next()).done);a=!0){var l=c.value,d=t[l];if("data"===l&&void 0===d&&(d={}),void 0===d)throw new Error('`Operation.fromJSON` was passed a "'+n+'" operation without the required "'+l+'" attribute.');"annotation"===l&&(d=et.create(d)),"path"!==l&&"newPath"!==l||(d=L.create(d)),"mark"===l&&(d=V.create(d)),"node"===l&&(d=ct.create(d)),"properties"!==l&&"newProperties"!==l||"set_annotation"!==n||(d=et.createProperties(d)),"properties"!==l&&"newProperties"!==l||"set_mark"!==n||(d=V.createProperties(d)),"properties"!==l&&"newProperties"!==l||"set_node"!==n&&"merge_node"!==n&&"split_node"!==n||(d=ct.createProperties(d)),"properties"!==l&&"newProperties"!==l||"set_selection"!==n||(d=H.createProperties(d)),"properties"!==l&&"newProperties"!==l||"set_value"!==n||(d=ht.createProperties(d)),"data"===l&&(d=Object(r.Map)(d)),i[l]=d}}catch(t){s=!0,u=t}finally{try{!a&&f.return&&f.return()}finally{if(s)throw u}}return new e(i)}},{key:"isOperationList",value:function(t){return r.List.isList(t)&&t.every((function(t){return e.isOperation(t)}))}}]),e}(Object(r.Record)(kt)),bt={operations:void 0,value:void 0},At=function(t){function e(){return A(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),x(e,[{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,value:this.value.toJSON(t),operations:this.operations.toArray().map((function(e){return e.toJSON(t)}))};return e}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isChange(t))return t;if(i()(t))return e.fromJSON(t);throw new Error("`Change.create` only accepts objects or changes, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var n=t.value,r=t.operations,o=void 0===r?[]:r;return new e({value:ht.create(n),operations:_t.createList(o)})}}]),e}(Object(r.Record)(bt));function xt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function e(e,n,r){var o=e.type,i=e.args,a=t[o];if(!a)return r();n.command.apply(n,[a].concat(E(i)))}function n(e,n){for(var r in t)e.registerCommand(r);return n()}return{onCommand:e,onConstruct:n}}var wt=/\s/,Ot=/['\u2018\u2019]/,St=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;function jt(t){return 55296<=t&&t<=57343}function Tt(t,e){if(wt.test(t))return!1;if(Ot.test(t)){var n=e.charAt(0),r=Nt(n);if(Tt(n=e.slice(0,r),e.slice(r)))return!0}return!St.test(t)}function Nt(t){return jt(t.charCodeAt(0))?2:1}function Et(t){return Nt(t.charAt(0))}function Bt(t){for(var e=0,n=0,r=!1,o=void 0;o=t.charAt(n);){var i=Nt(o);if(Tt(o=t.slice(n,n+i),t.slice(n+i)))r=!0,e+=i;else{if(r)break;e+=i}n+=i}return e}var Pt={getCharLength:Nt,getCharOffset:Et,getCharOffsetBackward:function(t,e){return t=t.slice(0,e),Et(t=Object(f.reverse)(t))},getCharOffsetForward:function(t,e){return Et(t=t.slice(e))},getWordOffset:Bt,getWordOffsetBackward:function(t,e){return t=t.slice(0,e),Bt(t=Object(f.reverse)(t))},getWordOffsetForward:function(t,e){return Bt(t=t.slice(e))},isSurrogate:jt,isWord:Tt};function Ft(t,e){e.isExpanded&&t.deleteAtRange(e);var n=t.value.document,r=e,o=r.start,i=r.end;return e=n.hasDescendant(o.path)?e.moveToStart():e.moveTo(i.path,0).normalize(n)}var zt={addMarkAtRange:function(t,e,n){if(!e.isCollapsed){var r=t.value.document,o=e.start,i=e.end,a=r.getTextsAtRange(e);t.withoutNormalizing((function(){a.forEach((function(e){var r=e.key,a=0,s=e.text.length;r===o.key&&(a=o.offset),r===i.key&&(s=i.offset),r===o.key&&r===i.key&&(s=i.offset-o.offset),t.addMarkByKey(r,a,s,n)}))}))}},addMarksAtRange:function(t,e,n){n.forEach((function(n){return t.addMarkAtRange(e,n)}))},deleteAtRange:function(t,e){t.snapshotSelection();var n=t.value,r=e.start,o=e.end,i=r.key,a=r.offset,s=o.key,u=o.offset,c=n.document,f=c.hasVoidParent(i,t),l=c.hasVoidParent(s,t),d=c.getClosestBlock(i),h=c.getClosestBlock(s),v=0===a&&0===u&&!1===f&&i===d.getFirstText().key&&s===h.getFirstText().key&&i!==s;if(v&&l){var p=c.getPreviousText(s);s=p.key,u=p.text.length,l=c.hasVoidParent(s,t)}t.withoutNormalizing((function(){for(;f;){var e=c.getClosestVoid(i,t),n=c.getNextText(i);if(t.removeNodeByKey(e.key),i===s)return;if(!n)return;c=t.value.document,i=n.key,a=0,f=c.hasVoidParent(i,t)}for(;l;){var r=c.getClosestVoid(s,t),o=c.getPreviousText(s);t.removeNodeByKey(r.key),c=t.value.document,s=o.key,u=o.text.length,l=c.hasVoidParent(s,t)}if(i===s&&v)t.removeNodeByKey(d.key);else if(i!==s){d=c.getClosestBlock(i),h=c.getClosestBlock(s);var p=c.getNode(i),y=c.getNode(s),m=p.text.length-a,g=u,k=c.getCommonAncestor(i,s),_=k.getFurthestChild(i),b=k.getFurthestChild(s),A=c.getParent(d.key),x=A.nodes.indexOf(d),w=A.nodes.indexOf(h),O=void 0;for(O=p;O.key!==_.key;){var S=c.getParent(O.key),j=S.nodes.indexOf(O);S.nodes.slice(j+1).reverse().forEach((function(e){t.removeNodeByKey(e.key)})),O=S}var T=k.nodes.indexOf(_),E=k.nodes.indexOf(b);for(k.nodes.slice(T+1,E).reverse().forEach((function(e){t.removeNodeByKey(e.key)})),O=y;O.key!==b.key;){var B=c.getParent(O.key),P=B.nodes.indexOf(O);B.nodes.slice(0,P).reverse().forEach((function(e){t.removeNodeByKey(e.key)})),O=B}if(0!==m&&t.removeTextByKey(i,a,m),0!==g&&t.removeTextByKey(s,0,u),d.key!==h.key){c=t.value.document;var F=void 0,z=!0,C=!1,I=void 0;try{for(var R,M=c.ancestors(h.key)[Symbol.iterator]();!(z=(R=M.next()).done);z=!0){var D=R.value,L=N(D,1)[0];if(L.nodes.size>1)break;F=L}}catch(t){C=!0,I=t}finally{try{!z&&M.return&&M.return()}finally{if(C)throw I}}w!==x+1&&t.moveNodeByKey(h.key,A.key,x+1),v?t.removeNodeByKey(d.key):t.mergeNodeByKey(h.key),F&&t.removeNodeByKey(F.key)}}else{var q=a,K=u-a;t.removeTextByKey(i,q,K)}}))},deleteBackwardAtRange:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){var r=t.value,o=r.document,i=e,a=i.start,s=i.focus;if(e.isExpanded)t.deleteAtRange(e);else{var u=o.getClosestVoid(a.path,t);if(u)t.removeNodeByKey(u.key);else if(!a.isAtStartOfNode(o)){var c=o.getClosestBlock(a.path);if(1!==o.nodes.size&&c&&""===c.text&&1===c.nodes.size)t.removeNodeByKey(c.key);else{var f=o.getDescendant(a.path);if(a.isAtStartOfNode(f)){var l=o.getPreviousText(f.key),d=o.getClosestInline(f.key);d&&""===l.text&&(l=o.getPreviousText(l.key));var h=o.getClosestBlock(l.key),v=o.getClosestVoid(l.key,t);if(v)return void t.removeNodeByKey(v.key);if(1===n&&h!==c)return e=e.moveAnchorTo(l.key,l.text.length),void t.deleteAtRange(e)}if(n<s.offset)return e=e.moveFocusBackward(n),void t.deleteAtRange(e);for(var p=f,y=0,m=s.offset;n>m;){var g=m+(p=o.getPreviousText(p.key)).text.length;if(n<=g){y=g-n;break}m=g}e=e.moveAnchorTo(p.key,y),t.deleteAtRange(e)}}}}},deleteCharBackwardAtRange:function(t,e){if(e.isExpanded)t.deleteAtRange(e);else{var n=t.value.document,r=e.start,o=n.getClosestBlock(r.path),i=o.getOffset(r.key)+r.offset,a=o.text,s=Pt.getCharOffsetBackward(a,i);t.deleteBackwardAtRange(e,s)}},deleteCharForwardAtRange:function(t,e){if(e.isExpanded)t.deleteAtRange(e);else{var n=t.value.document,r=e.start,o=n.getClosestBlock(r.path),i=o.getOffset(r.key)+r.offset,a=o.text,s=Pt.getCharOffsetForward(a,i);t.deleteForwardAtRange(e,s)}},deleteForwardAtRange:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){var r=t.value,o=r.document,i=e,a=i.start,s=i.focus;if(e.isExpanded)t.deleteAtRange(e);else{var u=o.getClosestVoid(a.path,t);if(u)t.removeNodeByKey(u.key);else{var c=o.getClosestBlock(a.path);if(c&&!t.isVoid(c)&&""===c.text&&1!==o.nodes.size){var f=o.getNextBlock(c.key);return t.removeNodeByKey(c.key),void(f&&f.key&&t.moveToStartOfNode(f))}if(!a.isAtEndOfNode(o)){var l=o.getDescendant(a.path);if(a.isAtEndOfNode(l)){var d=o.getNextText(l.key),h=o.getClosestBlock(d.key),v=o.getClosestVoid(d.key,t);if(v)return void t.removeNodeByKey(v.key);if(1===n&&h!==c)return e=e.moveFocusTo(d.key,0),void t.deleteAtRange(e)}if(n<=l.text.length-s.offset)return e=e.moveFocusForward(n),void t.deleteAtRange(e);for(var p=l,y=s.offset,m=l.text.length-s.offset;n>m;){var g=m+(p=o.getNextText(p.key)).text.length;if(n<=g){y=n-m;break}m=g}e=e.moveFocusTo(p.key,y),t.deleteAtRange(e)}}}}},deleteLineBackwardAtRange:function(t,e){if(e.isExpanded)t.deleteAtRange(e);else{var n=t.value.document,r=e.start,o=n.getClosestBlock(r.path).getOffset(r.key)+r.offset;t.deleteBackwardAtRange(e,o)}},deleteLineForwardAtRange:function(t,e){if(e.isExpanded)t.deleteAtRange(e);else{var n=t.value.document,r=e.start,o=n.getClosestBlock(r.path),i=o.getOffset(r.key)+r.offset;t.deleteForwardAtRange(e,o.text.length-i)}},deleteWordBackwardAtRange:function(t,e){if(e.isExpanded)t.deleteAtRange(e);else{var n=t.value.document,r=e.start,o=n.getClosestBlock(r.path),i=o.getOffset(r.key)+r.offset,a=o.text,s=0===i?1:Pt.getWordOffsetBackward(a,i);t.deleteBackwardAtRange(e,s)}},deleteWordForwardAtRange:function(t,e){if(e.isExpanded)t.deleteAtRange(e);else{var n=t.value.document,r=e.start,o=n.getClosestBlock(r.path),i=o.getOffset(r.key)+r.offset,a=o.text,s=Pt.getWordOffsetForward(a,i),u=0===s?1:s;t.deleteForwardAtRange(e,u)}},insertBlockAtRange:function(t,e,n){e=Ft(t,e),n=lt.create(n);var r=t.value.document,o=e.start,i=o.key,a=o.offset,s=r.getClosestBlock(i),u=r.getClosestInline(i),c=r.getParent(s.key),f=c.nodes.indexOf(s),l=Ct(t,e);if("before"===l)t.insertNodeByKey(c.key,f,n);else if("behind"===l)t.insertNodeByKey(c.key,f+1,n);else{if(u&&t.isVoid(u)){var d=o.isAtEndOfNode(u),h=d?r.getNextText(i):r.getPreviousText(i),v=d?e.moveToStartOfNode(h):e.moveToEndOfNode(h);i=v.start.key,a=v.start.offset}t.withoutNormalizing((function(){t.splitDescendantsByKey(s.key,i,a),t.insertNodeByKey(c.key,f+1,n)}))}}},Ct=function(t,e){var n=t.value.document,r=e.start,o=r.key,i=n.getClosestBlock(o),a=n.getClosestInline(o);return t.isVoid(i)?r.isAtEndOfNode(i)?"behind":"before":a||""!==i.text?r.isAtStartOfNode(i)?"before":r.isAtEndOfNode(i)?"behind":"split":"behind"};zt.insertFragmentAtRange=function(t,e,n){t.withoutNormalizing((function(){if(e=Ft(t,e),n.nodes.size){n=n.mapDescendants((function(t){return t.regenerateKey()}));var o=e.start,i=t.value.document,a=i.getDescendant(o.path),s=i.getClosestBlock(a.key),u=s.getFurthestChild(a.key),c=o.isAtStartOfNode(s),f=i.getParent(s.key),l=f.nodes.indexOf(s),d=n.getBlocks(),h=n.nodes.first(),v=n.nodes.last(),p=d.first(),y=d.last(),m=It(n,i,s.key);if(p===y&&t.isVoid(p))t.insertBlockAtRange(e,p);else if(m!==n||!h.hasBlockChildren()&&!v.hasBlockChildren()){if(p!==y){var g=m.getFurthest(p.key,(function(t){return 1===t.nodes.size}))||p,k=f.nodes.indexOf(s);m.removeNode(g.key).nodes.forEach((function(e,n){var r=k+n+1;t.insertNodeByKey(f.key,r,e)}))}if(0!==o.offset&&t.splitDescendantsByKey(u.key,o.key,o.offset),a=(i=t.value.document).getDescendant(o.key),u=(s=i.getClosestBlock(o.key)).getFurthestChild(a.key),p!==y){var _=c?u:s.getNextSibling(u.key),b=_?s.nodes.skipUntil((function(t){return t.key===_.key})):Object(r.List)(),A=y.nodes.size;b.forEach((function(e,n){var r=A+n;t.moveNodeByKey(e.key,y.key,r)}))}if(t.isVoid(s)||""!==s.text||s.findDescendant((function(e){return t.isVoid(e)}))){var x=s.getFurthestChild(a.key),w=s.nodes.indexOf(x);p.nodes.forEach((function(e,n){var r=0===o.offset?0:1,i=w+n+r;t.insertNodeByKey(s.key,i,e)}))}else t.removeNodeByKey(s.key),t.insertNodeByKey(f.key,l,p)}else{("before"===Ct(t,e)?n.nodes:n.nodes.reverse()).forEach((function(n){t.insertBlockAtRange(e,n)}))}}}))};var It=function(t,e,n){var r=function(t){if(t&&"text"!==t.object)return 1===t.nodes.size},o=function(t){return t&&t.nodes.first()},i=t;if(r(t)){var a=o(t),s=e.getFurthest(n,(function(t){return t.type===a.type}));for(s===e.getParent(n)&&(i=a);r(a)&&r(s)&&(a=o(a),s=o(s),a.type===s.type);)i=a}return i};zt.insertInlineAtRange=function(t,e,n){n=it.create(n),t.withoutNormalizing((function(){e=Ft(t,e);var r=t.value.document,o=e.start,i=r.getParent(o.path),a=r.assertDescendant(o.path),s=i.nodes.indexOf(a);t.isVoid(i)||(t.splitNodeByPath(o.path,o.offset),t.insertNodeByKey(i.key,s+1,n))}))},zt.insertTextAtRange=function(t,e,n,r){t.withoutNormalizing((function(){e=Ft(t,e);var o=t.value.document,i=e.start,a=i.offset,s=o.getParent(i.path);t.isVoid(s)||t.insertTextByPath(i.path,a,n,r)}))},zt.removeMarkAtRange=function(t,e,n){if(!e.isCollapsed){var r=t.value.document.getTextsAtRange(e),o=e.start,i=e.end;t.withoutNormalizing((function(){r.forEach((function(e){var r=e.key,a=0,s=e.text.length;r===o.key&&(a=o.offset),r===i.key&&(s=i.offset),r===o.key&&r===i.key&&(s=i.offset-o.offset),t.removeMarkByKey(r,a,s,n)}))}))}},zt.setBlocksAtRange=function(t,e,n){var r=t.value.document,o=r.getLeafBlocksAtRange(e),i=e.start,a=e.end,s=e.isCollapsed,u=r.hasVoidParent(i.path,t),c=r.getClosestBlock(i.path),f=r.getClosestBlock(a.key),l=!1===s&&0===i.offset&&0===a.offset&&!1===u&&i.key===c.getFirstText().key&&a.key===f.getFirstText().key?o.slice(0,-1):o;t.withoutNormalizing((function(){l.forEach((function(e){t.setNodeByKey(e.key,n)}))}))},zt.setInlinesAtRange=function(t,e,n){var r=t.value.document.getLeafInlinesAtRange(e);t.withoutNormalizing((function(){r.forEach((function(e){t.setNodeByKey(e.key,n)}))}))},zt.splitBlockAtRange=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e=Ft(t,e),o=r.start,i=r.end,a=t.value,s=a,u=s.document,c=u.assertDescendant(o.path),f=u.getClosestBlock(c.key),l=0;f&&"block"===f.object&&l<n;)c=f,f=u.getClosestBlock(f.key),l++;t.withoutNormalizing((function(){if(t.splitDescendantsByKey(c.key,o.path,o.offset),a=t.value,u=a.document,e.isExpanded){e.isBackward&&(e=e.flip());var n=u.getNextBlock(c.key);e=(e=e.moveAnchorToStartOfNode(n)).setFocus(e.focus.setPath(null)),o.path.equals(i.path)&&(e=e.moveFocusTo(e.anchor.key,i.offset-o.offset)),e=u.resolveRange(e),t.deleteAtRange(e)}}))},zt.splitInlineAtRange=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=e=Ft(t,e),o=r.start,i=t.value,a=i.document,s=a.assertDescendant(o.path),u=a.getClosestInline(s.key),c=0;u&&"inline"===u.object&&c<n;)s=u,u=a.getClosestInline(u.key),c++;t.splitDescendantsByKey(s.key,o.path,o.offset)},zt.toggleMarkAtRange=function(t,e,n){e.isCollapsed||(n=V.create(n),t.value.document.getActiveMarksAtRange(e).some((function(t){return t.equals(n)}))?t.removeMarkAtRange(e,n):t.addMarkAtRange(e,n))},zt.unwrapBlockAtRange=function(t,e,n){n=ct.createProperties(n);var r=t.value.document,o=r.getLeafBlocksAtRange(e),i=o.map((function(t){return r.getClosest(t.key,(function(t){return"block"===t.object&&((null==n.type||t.type===n.type)&&!(null!=n.data&&!t.data.isSuperset(n.data)))}))})).filter((function(t){return t})).toOrderedSet().toList();t.withoutNormalizing((function(){i.forEach((function(e){var n=e.nodes.first(),i=e.nodes.last(),a=t.value.document.getParent(e.key),s=a.nodes.indexOf(e),u=e.nodes.filter((function(t){return o.some((function(e){return t===e||t.hasDescendant(e.key)}))})),c=u.first(),f=u.last();if(n===c&&i===f)e.nodes.forEach((function(e,n){t.moveNodeByKey(e.key,a.key,s+n)})),t.removeNodeByKey(e.key);else if(i===f)e.nodes.skipUntil((function(t){return t===c})).forEach((function(e,n){t.moveNodeByKey(e.key,a.key,s+1+n)}));else if(n===c)e.nodes.takeUntil((function(t){return t===f})).push(f).forEach((function(e,n){t.moveNodeByKey(e.key,a.key,s+n)}));else{var l=c.getFirstText();t.splitDescendantsByKey(e.key,l.key,0),r=t.value.document,u.forEach((function(e,n){if(0===n){var o=e;e=r.getNextBlock(e.key),t.removeNodeByKey(o.key)}t.moveNodeByKey(e.key,a.key,s+1+n)}))}}))}))},zt.unwrapInlineAtRange=function(t,e,n){n=ct.createProperties(n);var r=t.value.document,o=r.getTextsAtRange(e).map((function(t){return r.getClosest(t.key,(function(t){return"inline"===t.object&&((null==n.type||t.type===n.type)&&!(null!=n.data&&!t.data.isSuperset(n.data)))}))})).filter((function(t){return t})).toOrderedSet().toList();t.withoutNormalizing((function(){o.forEach((function(e){var n=t.value.document.getParent(e.key),r=n.nodes.indexOf(e);e.nodes.forEach((function(e,o){t.moveNodeByKey(e.key,n.key,r+o)})),t.removeNodeByKey(e.key)}))}))},zt.wrapBlockAtRange=function(t,e,n){n=(n=lt.create(n)).set("nodes",n.nodes.clear());var r=t.value.document,o=r.getLeafBlocksAtRange(e),i=o.first(),a=o.last(),s=void 0,u=void 0,c=void 0;if(1===o.length?(s=r.getParent(i.key),u=o):s=r.getClosest(i.key,(function(t){return!!r.getClosest(a.key,(function(e){return t===e}))})),null==s&&(s=r),null==u){var f=s.nodes.reduce((function(t,e,n){return(e===i||e.hasDescendant(i.key))&&(t[0]=n),(e===a||e.hasDescendant(a.key))&&(t[1]=n),t}),[]);c=f[0],u=s.nodes.slice(f[0],f[1]+1)}null==c&&(c=s.nodes.indexOf(u.first())),t.withoutNormalizing((function(){t.insertNodeByKey(s.key,c,n),u.forEach((function(e,r){t.moveNodeByKey(e.key,n.key,r)}))}))},zt.wrapInlineAtRange=function(t,e,n){var r=t.value.document,o=e.start,i=e.end;if(e.isCollapsed){var a=r.getClosestInline(o.path);if(!a)return;if(!t.isVoid(a))return;return t.wrapInlineByKey(a.key,n)}n=(n=it.create(n)).set("nodes",n.nodes.clear());var s=r.getLeafBlocksAtRange(e),u=r.getClosestBlock(o.path),c=r.getClosestBlock(i.path),f=r.getClosestInline(o.path),l=r.getClosestInline(i.path),d=u.getFurthestChild(o.key),h=c.getFurthestChild(i.key);t.withoutNormalizing((function(){f&&f===l||(t.splitDescendantsByKey(h.key,i.key,i.offset),t.splitDescendantsByKey(d.key,o.key,o.offset)),r=t.value.document,u=r.getDescendant(u.key),c=r.getDescendant(c.key),d=u.getFurthestChild(o.key),h=c.getFurthestChild(i.key);var a=u.nodes.indexOf(d),v=c.nodes.indexOf(h);if(f&&f===l){var p=u.getTextsAtRange(e).map((function(t){return o.key===t.key&&i.key===t.key?t.splitText(o.offset)[1].splitText(i.offset-o.offset)[0].regenerateKey():o.key===t.key?t.splitText(o.offset)[1].regenerateKey():i.key===t.key?t.splitText(i.offset)[0].regenerateKey():t.regenerateKey()}));n=n.set("nodes",p),t.insertInlineAtRange(e,n)}else if(u===c){r=t.value.document,u=r.getClosestBlock(o.key),d=u.getFurthestChild(o.key);var y=r.getNextSibling(d.key),m=u.nodes.indexOf(y),g=o.key===i.key?y:u.getFurthestChild(i.key),k=u.nodes.skipUntil((function(t){return t===y})).takeUntil((function(t){return t===g})).push(g),_=n.regenerateKey();t.insertNodeByKey(u.key,m,_),k.forEach((function(e,n){t.moveNodeByKey(e.key,_.key,n)}))}else{var b=u.nodes.slice(a+1),A=c.nodes.slice(0,v+1),x=n.regenerateKey(),w=n.regenerateKey();t.insertNodeByKey(u.key,a+1,x),t.insertNodeByKey(c.key,v,w),b.forEach((function(e,n){t.moveNodeByKey(e.key,x.key,n)})),A.forEach((function(e,n){t.moveNodeByKey(e.key,w.key,n)})),s.slice(1,-1).forEach((function(e){var r=n.regenerateKey();t.insertNodeByKey(e.key,0,r),e.nodes.forEach((function(e,n){t.moveNodeByKey(e.key,r.key,n)}))}))}}))},zt.wrapTextAtRange=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,o=e.start,i=e.end,a=e.moveToStart(),s=e.moveToEnd();o.path.equals(i.path)&&(s=s.moveForward(n.length)),t.withoutNormalizing((function(){t.insertTextAtRange(a,n),t.insertTextAtRange(s,r)}))};var Rt={addMarkByPath:function(t,e,n,r,o){o=V.create(o),t.addMarksByPath(e,n,r,[o])},addMarksByPath:function(t,e,n,r,o){if((o=V.createSet(o)).size){var i=t.value.document.assertNode(e);t.withoutNormalizing((function(){n+r<i.text.length&&t.splitNodeByPath(e,n+r),n>0&&(t.splitNodeByPath(e,n),e=L.increment(e),n=0),o.forEach((function(n){t.applyOperation({type:"add_mark",path:e,mark:V.create(n)})}))}))}},insertFragmentByPath:function(t,e,n,r){r.nodes.forEach((function(r,o){t.insertNodeByPath(e,n+o,r)}))},insertNodeByPath:function(t,e,n,r){t.applyOperation({type:"insert_node",path:e.concat(n),node:r})},insertTextByPath:function(t,e,n,r,o){o=V.createSet(o);var i=t.value,a=i.annotations;i.document.assertNode(e),t.withoutNormalizing((function(){var i=!0,s=!1,u=void 0;try{for(var c,f=a.values()[Symbol.iterator]();!(i=(c=f.next()).done);i=!0){var l=c.value,d=l.start,h=l.end;t.isAtomic(l)&&(d.path.equals(e)&&d.offset<n&&(!h.path.equals(e)||h.offset>n)&&t.removeAnnotation(l))}}catch(t){s=!0,u=t}finally{try{!i&&f.return&&f.return()}finally{if(s)throw u}}t.applyOperation({type:"insert_text",path:e,offset:n,text:r}),o.size&&t.addMarksByPath(e,n,r.length,o)}))},mergeNodeByPath:function(t,e){var n=t.value.document,r=n.getDescendant(e),o=n.getPreviousSibling(e);if(!o)throw new Error('Unable to merge node with path "'+e+'", because it has no previous sibling.');var i="text"===o.object?o.text.length:o.nodes.size;t.applyOperation({type:"merge_node",path:e,position:i,properties:{type:r.type,data:r.data},target:null})},moveNodeByPath:function(t,e,n,r){if(L.isEqual(e,n))return t;var o=n.concat(r);if(L.isEqual(e,o))return t;t.applyOperation({type:"move_node",path:e,newPath:o})},removeMarkByPath:function(t,e,n,r,o){o=V.create(o),t.removeMarksByPath(e,n,r,[o])},removeMarksByPath:function(t,e,n,r,o){if((o=V.createSet(o)).size){var i=t.value.document.assertNode(e);t.withoutNormalizing((function(){n+r<i.text.length&&t.splitNodeByPath(e,n+r),n>0&&(t.splitNodeByPath(e,n),e=L.increment(e),n=0),o.forEach((function(o){t.applyOperation({type:"remove_mark",path:e,offset:n,length:r,mark:o})}))}))}},removeAllMarksByPath:function(t,e){var n=t.state.document.assertNode(e);t.withoutNormalizing((function(){if("text"!==n.object){var r=!0,o=!1,i=void 0;try{for(var a,s=n.texts()[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,c=N(u,2),f=c[0],l=c[1],d=e.concat(l);t.removeMarksByPath(d,0,f.text.length,f.marks)}}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}}else t.removeMarksByPath(e,0,n.text.length,n.marks)}))},removeNodeByPath:function(t,e){var n=t.value.document.assertNode(e);t.applyOperation({type:"remove_node",path:e,node:n})},removeTextByPath:function(t,e,n,r){var o=t.value,i=o.document,a=o.annotations,s=i.assertNode(e).text.slice(n,n+r);t.withoutNormalizing((function(){var r=!0,o=!1,i=void 0;try{for(var u,c=a.values()[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var f=u.value,l=f.start,d=f.end;t.isAtomic(f)&&(l.path.equals(e)&&l.offset<n&&(!d.path.equals(e)||d.offset>n)&&t.removeAnnotation(f))}}catch(t){o=!0,i=t}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}t.applyOperation({type:"remove_text",path:e,offset:n,text:s})}))},replaceNodeByPath:function(t,e,n){n=ct.create(n);var r=e.last(),o=L.lift(e);t.withoutNormalizing((function(){t.removeNodeByPath(e),t.insertNodeByPath(o,r,n)}))},replaceTextByPath:function(t,e,n,r,o,i){t.withoutNormalizing((function(){t.removeTextByPath(e,n,r),t.insertTextByPath(e,n,o,i)}))},setMarkByPath:function(t,e,n,r,o,i){o=V.create(o),i=V.createProperties(i);var a=t.value.document.assertNode(e);t.withoutNormalizing((function(){n+r<a.text.length&&t.splitNodeByPath(e,n+r),n>0&&(t.splitNodeByPath(e,n),e=L.increment(e),n=0),t.applyOperation({type:"set_mark",path:e,properties:o,newProperties:i})}))},setNodeByPath:function(t,e,n){var r=t.value.document.assertNode(e);n=ct.createProperties(n);var o=d()(r,Object.keys(n));t.applyOperation({type:"set_node",path:e,properties:o,newProperties:n})},setTextByPath:function(t,e,n,r){var o=t.value.document.assertNode(e).text.length;t.replaceTextByPath(e,0,o,n,r)},splitNodeByPath:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.target,i=void 0===o?null:o,a=t.value,s=a.document,u=s.getDescendant(e);t.applyOperation({type:"split_node",path:e,position:n,target:i,properties:{type:u.type,data:u.data}})},splitDescendantsByPath:function(t,e,n,r){if(e.equals(n))t.splitNodeByPath(n,r);else{var o=t.value.document,i=r,a=n;t.withoutNormalizing((function(){t.splitNodeByKey(n,r);var s=!0,u=!1,c=void 0;try{for(var f,l=o.ancestors(n)[Symbol.iterator]();!(s=(f=l.next()).done);s=!0){var d=f.value,h=N(d,2)[1],v=i;if(i=a.last()+1,a=h,t.splitNodeByPath(h,i,{target:v}),h.equals(e))break}}catch(t){u=!0,c=t}finally{try{!s&&l.return&&l.return()}finally{if(u)throw c}}}))}},unwrapInlineByPath:function(t,e,n){var r=t.value,o=r.document,i=r.selection,a=o.assertNode(e),s=a.getFirstText(),u=a.getLastText(),c=i.moveToRangeOfNode(s,u);t.unwrapInlineAtRange(c,n)},unwrapBlockByPath:function(t,e,n){var r=t.value,o=r.document,i=r.selection,a=o.assertNode(e),s=a.getFirstText(),u=a.getLastText(),c=i.moveToRangeOfNode(s,u);t.unwrapBlockAtRange(c,n)},unwrapNodeByPath:function(t,e){var n=t.value.document;n.assertNode(e);var r=L.lift(e),o=n.assertNode(r),i=e.last(),a=r.last(),s=L.lift(r),u=0===i,c=i===o.nodes.size-1;t.withoutNormalizing((function(){if(1===o.nodes.size)t.moveNodeByPath(e,s,a+1),t.removeNodeByPath(r);else if(u)t.moveNodeByPath(e,s,a);else if(c)t.moveNodeByPath(e,s,a+1);else{var n=L.increment(e,1,r.size-1);n=n.set(n.size-1,0),t.splitNodeByPath(r,i),t.moveNodeByPath(n,s,a+1)}}))},unwrapChildrenByPath:function(t,e){e=L.create(e);var n=t.value.document.assertNode(e),r=L.lift(e),o=e.last(),i=n.nodes;t.withoutNormalizing((function(){i.reverse().forEach((function(n,a){var s=i.size-a-1,u=e.push(s);t.moveNodeByPath(u,r,o+1)})),t.removeNodeByPath(e)}))},wrapBlockByPath:function(t,e,n){n=(n=lt.create(n)).set("nodes",n.nodes.clear());var r=L.lift(e),o=e.last(),i=L.increment(e);t.withoutNormalizing((function(){t.insertNodeByPath(r,o,n),t.moveNodeByPath(i,e,0)}))},wrapInlineByPath:function(t,e,n){n=(n=it.create(n)).set("nodes",n.nodes.clear());var r=L.lift(e),o=e.last(),i=L.increment(e);t.withoutNormalizing((function(){t.insertNodeByPath(r,o,n),t.moveNodeByPath(i,e,0)}))},wrapNodeByPath:function(t,e,n){"block"===(n=ct.create(n)).object?t.wrapBlockByPath(e,n):"inline"===n.object&&t.wrapInlineByPath(e,n)}},Mt=function(t){Rt[t+"ByKey"]=function(e,n){for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=e.value,s=a.document,u=s.assertPath(n);e[t+"ByPath"].apply(e,[u].concat(o))}},Dt=!0,Lt=!1,qt=void 0;try{for(var Kt,Jt=["addMark","insertFragment","insertNode","insertText","mergeNode","removeAllMarks","removeMark","removeNode","removeText","replaceNode","replaceText","setMark","setNode","setText","splitNode","unwrapBlock","unwrapChildren","unwrapInline","unwrapNode","wrapBlock","wrapInline","wrapNode"][Symbol.iterator]();!(Dt=(Kt=Jt.next()).done);Dt=!0){Mt(Kt.value)}}catch(t){Lt=!0,qt=t}finally{try{!Dt&&Jt.return&&Jt.return()}finally{if(Lt)throw qt}}Rt.moveNodeByKey=function(t,e,n){for(var r=arguments.length,o=Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=t.value,s=a.document,u=s.assertPath(e),c=s.assertPath(n);t.moveNodeByPath.apply(t,[u,c].concat(o))},Rt.splitDescendantsByKey=function(t,e,n){for(var r=arguments.length,o=Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=t.value,s=a.document,u=s.assertPath(e),c=s.assertPath(n);t.splitDescendantsByPath.apply(t,[u,c].concat(o))};var Ut={};Ut.save=function(t,e){var n=t.operations,o=t.value.data,i=t.tmp,a=i.save,s=i.merge;if(!1!==a){var u,c,f=o.get("undos")||Object(r.List)(),l=f.last(),d=l&&l.last();if(null==s&&(0!==n.size?s=!0:(u=e,s=!!(c=d)&&("set_selection"===u.type&&"set_selection"===c.type||"insert_text"===u.type&&"insert_text"===c.type&&u.offset===c.offset+c.text.length&&u.path.equals(c.path)||"remove_text"===u.type&&"remove_text"===c.type&&u.offset+u.text.length===c.offset&&u.path.equals(c.path)))),s&&l){var h=l.push(e);f=(f=f.pop()).push(h)}else{var v=Object(r.List)([e]);f=f.push(v)}f.size>100&&(f=f.takeLast(100)),t.withoutSaving((function(){var e=Object(r.List)(),n=o.set("undos",f).set("redos",e);t.setData(n)}))}},Ut.redo=function(t){var e=t.value.data,n=e.get("redos")||Object(r.List)(),o=e.get("undos")||Object(r.List)(),i=n.last();i&&t.withoutSaving((function(){t.withoutNormalizing((function(){i.forEach((function(e){var n=e,r=n.type,o=n.properties;"set_selection"===r&&(e=e.set("properties",v()(o,"isFocused"))),t.applyOperation(e)})),n=n.pop(),o=o.push(i);var r=e.set("undos",o).set("redos",n);t.setData(r)}))}))},Ut.undo=function(t){var e=t.value.data,n=e.get("redos")||Object(r.List)(),o=e.get("undos")||Object(r.List)(),i=o.last();i&&t.withoutSaving((function(){t.withoutNormalizing((function(){i.slice().reverse().map((function(t){return t.invert()})).forEach((function(e){var n=e,r=n.type,o=n.properties;"set_selection"===r&&(e=e.set("properties",v()(o,"isFocused"))),t.applyOperation(e)})),n=n.push(i),o=o.pop();var r=e.set("undos",o).set("redos",n);t.setData(r)}))}))},Ut.withoutMerging=function(t,e){var n=t.tmp.merge;t.tmp.merge=!1,e(t),t.tmp.merge=n},Ut.withoutSaving=function(t,e){var n=t.tmp.save;t.tmp.save=!1,e(t),t.tmp.save=n};var Vt={};function Wt(t,e){for(var n,r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=(n=t.value.selection)[e].apply(n,o);t.select(a)}function $t(t,e,n,r){var o=e.slice(0,1).toUpperCase()+e.slice(1),i=n.slice(0,1).toUpperCase()+n.slice(1),a=r.slice(0,1).toUpperCase()+r.slice(1),s="move"+o+"To"+i+"OfNode",u="text"===r?"getNode":"getClosest"+a,c=t.value,f=c.document,l=c.selection[e],d=f[u](l.key);d&&t[s](d)}function Yt(t,e,n,r,o){var i=e.slice(0,1).toUpperCase()+e.slice(1),a=n.slice(0,1).toUpperCase()+n.slice(1),s=r.slice(0,1).toUpperCase()+r.slice(1),u=o.slice(0,1).toUpperCase()+o.slice(1),c="move"+i+"To"+a+"OfNode",f="text"===o?"getNode":"getClosest"+u,l="get"+s+u,d=t.value,h=d.document,v=d.selection[e],p=h[f](v.key);if(p){var y=h[l](p.key);y&&t[c](y)}}function Ht(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){if(n<0)return Gt(t,e,-n);var r=e.slice(0,1).toUpperCase()+e.slice(1),o=t.value,i=o.document,a=o.selection,s=a[e],u=i.hasVoidParent(s.path,t);if(!u&&s.offset-n>=0){var c=a["move"+r+"Backward"](n);t.select(c)}else{var f=i.getPreviousText(s.path);if(f){var l=i.getClosestBlock(s.path),d=l.hasNode(f.key),h=f&&i.hasVoidParent(f.key,t);if(t["move"+r+"ToEndOfNode"](f),!u&&!h&&d){var v=t.value.selection["move"+r+"Backward"](n);t.select(v)}}}}}function Gt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){if(n<0)return Ht(t,e,-n);var r=e.slice(0,1).toUpperCase()+e.slice(1),o=t.value,i=o.document,a=o.selection,s=a[e],u=i.getNode(s.path),c=i.hasVoidParent(s.path,t);if(!c&&s.offset+n<=u.text.length){var f=a["move"+r+"Forward"](n);t.select(f)}else{var l=i.getNextText(s.path);if(l){var d=i.getClosestBlock(s.path),h=d.hasNode(l.key),v=i.hasVoidParent(l.key,t);if(t["move"+r+"ToStartOfNode"](l),!c&&!v&&h){var p=t.value.selection["move"+r+"Forward"](n);t.select(p)}}}}}function Qt(t,e){var n=t.value,r=n.document,o=n.selection[e],i=r.getClosestBlock(o.key),a=i.getOffset(o.key)+o.offset,s=i.text,u=Pt.getWordOffsetBackward(s,a);t.command(Ht,e,u>0?u:1)}function Zt(t,e){var n=t.value,r=n.document,o=n.selection[e],i=r.getClosestBlock(o.key),a=i.getOffset(o.key)+o.offset,s=i.text,u=Pt.getWordOffsetForward(s,a);t.command(Gt,e,u>0?u:1)}Vt.blur=function(t){t.select({isFocused:!1})},Vt.deselect=function(t){var e=H.create();t.select(e)},Vt.focus=function(t){t.select({isFocused:!0})},Vt.flip=function(t){t.command(Wt,"flip")},Vt.moveAnchorBackward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Ht,"anchor"].concat(n))},Vt.moveAnchorWordBackward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Qt,"anchor"].concat(n))},Vt.moveAnchorForward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Gt,"anchor"].concat(n))},Vt.moveAnchorWordForward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"anchor"].concat(n))},Vt.moveAnchorTo=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Wt,"moveAnchorTo"].concat(n))},Vt.moveAnchorToEndOfBlock=function(t){t.command($t,"anchor","end","block")},Vt.moveAnchorToEndOfInline=function(t){t.command($t,"anchor","end","inline")},Vt.moveAnchorToEndOfDocument=function(t){t.moveAnchorToEndOfNode(t.value.document).moveToAnchor()},Vt.moveAnchorToEndOfNextBlock=function(t){t.command(Yt,"anchor","end","next","block")},Vt.moveAnchorToEndOfNextInline=function(t){t.command(Yt,"anchor","end","next","inline")},Vt.moveAnchorToEndOfNextText=function(t){t.command(Yt,"anchor","end","next","text")},Vt.moveAnchorToEndOfNode=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Wt,"moveAnchorToEndOfNode"].concat(n))},Vt.moveAnchorToEndOfPreviousBlock=function(t){t.command(Yt,"anchor","end","previous","block")},Vt.moveAnchorToEndOfPreviousInline=function(t){t.command(Yt,"anchor","end","previous","inline")},Vt.moveAnchorToEndOfPreviousText=function(t){t.command(Yt,"anchor","end","previous","text")},Vt.moveAnchorToEndOfText=function(t){t.command($t,"anchor","end","text")},Vt.moveAnchorToStartOfBlock=function(t){t.command($t,"anchor","start","block")},Vt.moveAnchorToStartOfDocument=function(t){t.moveAnchorToStartOfNode(t.value.document).moveToAnchor()},Vt.moveAnchorToStartOfInline=function(t){t.command($t,"anchor","start","inline")},Vt.moveAnchorToStartOfNextBlock=function(t){t.command(Yt,"anchor","start","next","block")},Vt.moveAnchorToStartOfNextInline=function(t){t.command(Yt,"anchor","start","next","inline")},Vt.moveAnchorToStartOfNextText=function(t){t.command(Yt,"anchor","start","next","text")},Vt.moveAnchorToStartOfNode=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Wt,"moveAnchorToStartOfNode"].concat(n))},Vt.moveAnchorToStartOfPreviousBlock=function(t){t.command(Yt,"anchor","start","previous","block")},Vt.moveAnchorToStartOfPreviousInline=function(t){t.command(Yt,"anchor","start","previous","inline")},Vt.moveAnchorToStartOfPreviousText=function(t){t.command(Yt,"anchor","start","previous","text")},Vt.moveAnchorToStartOfText=function(t){t.command($t,"anchor","start","text")},Vt.moveBackward=function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=t.moveAnchorBackward.apply(t,r)).moveFocusBackward.apply(e,r)},Vt.moveWordBackward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.moveFocusWordBackward.apply(t,n).moveToFocus()},Vt.moveEndBackward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Ht,"end"].concat(n))},Vt.moveEndWordBackward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Qt,"end"].concat(n))},Vt.moveEndForward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Gt,"end"].concat(n))},Vt.moveEndWordForward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"end"].concat(n))},Vt.moveEndTo=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Wt,"moveEndTo"].concat(n))},Vt.moveEndToEndOfBlock=function(t){t.command($t,"end","end","block")},Vt.moveEndToEndOfDocument=function(t){t.moveEndToEndOfNode(t.value.document).moveToEnd()},Vt.moveEndToEndOfInline=function(t){t.command($t,"end","end","inline")},Vt.moveEndToEndOfNextBlock=function(t){t.command(Yt,"end","end","next","block")},Vt.moveEndToEndOfNextInline=function(t){t.command(Yt,"end","end","next","inline")},Vt.moveEndToEndOfNextText=function(t){t.command(Yt,"end","end","next","text")},Vt.moveEndToEndOfNode=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Wt,"moveEndToEndOfNode"].concat(n))},Vt.moveEndToEndOfPreviousBlock=function(t){t.command(Yt,"end","end","previous","block")},Vt.moveEndToEndOfPreviousInline=function(t){t.command(Yt,"end","end","previous","inline")},Vt.moveEndToEndOfPreviousText=function(t){t.command(Yt,"end","end","previous","text")},Vt.moveEndToEndOfText=function(t){t.command($t,"end","end","text")},Vt.moveEndToStartOfBlock=function(t){t.command($t,"end","start","block")},Vt.moveEndToStartOfDocument=function(t){t.moveEndToStartOfNode(t.value.document).moveToEnd()},Vt.moveEndToStartOfInline=function(t){t.command($t,"end","start","inline")},Vt.moveEndToStartOfNextBlock=function(t){t.command(Yt,"end","start","next","block")},Vt.moveEndToStartOfNextInline=function(t){t.command(Yt,"end","start","next","inline")},Vt.moveEndToStartOfNextText=function(t){t.command(Yt,"end","start","next","text")},Vt.moveEndToStartOfNode=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Wt,"moveEndToStartOfNode"].concat(n))},Vt.moveEndToStartOfPreviousBlock=function(t){t.command(Yt,"end","start","previous","block")},Vt.moveEndToStartOfPreviousInline=function(t){t.command(Yt,"end","start","previous","inline")},Vt.moveEndToStartOfPreviousText=function(t){t.command(Yt,"end","start","previous","text")},Vt.moveEndToStartOfText=function(t){t.command($t,"end","start","text")},Vt.moveFocusBackward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Ht,"focus"].concat(n))},Vt.moveFocusWordBackward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Qt,"focus"].concat(n))},Vt.moveFocusForward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Gt,"focus"].concat(n))},Vt.moveFocusWordForward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"focus"].concat(n))},Vt.moveFocusTo=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Wt,"moveFocusTo"].concat(n))},Vt.moveFocusToEndOfBlock=function(t){t.command($t,"focus","end","block")},Vt.moveFocusToEndOfDocument=function(t){t.moveFocusToEndOfNode(t.value.document).moveToFocus()},Vt.moveFocusToEndOfInline=function(t){t.command($t,"focus","end","inline")},Vt.moveFocusToEndOfNextBlock=function(t){t.command(Yt,"focus","end","next","block")},Vt.moveFocusToEndOfNextInline=function(t){t.command(Yt,"focus","end","next","inline")},Vt.moveFocusToEndOfNextText=function(t){t.command(Yt,"focus","end","next","text")},Vt.moveFocusToEndOfNode=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Wt,"moveFocusToEndOfNode"].concat(n))},Vt.moveFocusToEndOfPreviousBlock=function(t){t.command(Yt,"focus","end","previous","block")},Vt.moveFocusToEndOfPreviousInline=function(t){t.command(Yt,"focus","end","previous","inline")},Vt.moveFocusToEndOfPreviousText=function(t){t.command(Yt,"focus","end","previous","text")},Vt.moveFocusToEndOfText=function(t){t.command($t,"focus","end","text")},Vt.moveFocusToStartOfBlock=function(t){t.command($t,"focus","start","block")},Vt.moveFocusToStartOfDocument=function(t){t.moveFocusToStartOfNode(t.value.document).moveToFocus()},Vt.moveFocusToStartOfInline=function(t){t.command($t,"focus","start","inline")},Vt.moveFocusToStartOfNextBlock=function(t){t.command(Yt,"focus","start","next","block")},Vt.moveFocusToStartOfNextInline=function(t){t.command(Yt,"focus","start","next","inline")},Vt.moveFocusToStartOfNextText=function(t){t.command(Yt,"focus","start","next","text")},Vt.moveFocusToStartOfNode=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Wt,"moveFocusToStartOfNode"].concat(n))},Vt.moveFocusToStartOfPreviousBlock=function(t){t.command(Yt,"focus","start","previous","block")},Vt.moveFocusToStartOfPreviousInline=function(t){t.command(Yt,"focus","start","previous","inline")},Vt.moveFocusToStartOfPreviousText=function(t){t.command(Yt,"focus","start","previous","text")},Vt.moveFocusToStartOfText=function(t){t.command($t,"focus","start","text")},Vt.moveForward=function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=t.moveAnchorForward.apply(t,r)).moveFocusForward.apply(e,r)},Vt.moveWordForward=function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=t.moveFocusWordForward.apply(t,r)).moveToFocus.apply(e,r)},Vt.moveStartBackward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Ht,"start"].concat(n))},Vt.moveStartWordBackward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Qt,"start"].concat(n))},Vt.moveStartForward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Gt,"start"].concat(n))},Vt.moveStartWordForward=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Zt,"start"].concat(n))},Vt.moveStartTo=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Wt,"moveStartTo"].concat(n))},Vt.moveStartToEndOfBlock=function(t){t.command($t,"start","end","block")},Vt.moveStartToEndOfDocument=function(t){t.moveStartToEndOfNode(t.value.document).moveToStart()},Vt.moveStartToEndOfInline=function(t){t.command($t,"start","end","inline")},Vt.moveStartToEndOfNextBlock=function(t){t.command(Yt,"start","end","next","block")},Vt.moveStartToEndOfNextInline=function(t){t.command(Yt,"start","end","next","inline")},Vt.moveStartToEndOfNextText=function(t){t.command(Yt,"start","end","next","text")},Vt.moveStartToEndOfNode=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Wt,"moveStartToEndOfNode"].concat(n))},Vt.moveStartToEndOfPreviousBlock=function(t){t.command(Yt,"start","end","previous","block")},Vt.moveStartToEndOfPreviousInline=function(t){t.command(Yt,"start","end","previous","inline")},Vt.moveStartToEndOfPreviousText=function(t){t.command(Yt,"start","end","previous","text")},Vt.moveStartToEndOfText=function(t){t.command($t,"start","end","text")},Vt.moveStartToStartOfBlock=function(t){t.command($t,"start","start","block")},Vt.moveStartToStartOfDocument=function(t){t.moveStartToStartOfNode(t.value.document).moveToStart()},Vt.moveStartToStartOfInline=function(t){t.command($t,"start","start","inline")},Vt.moveStartToStartOfNextBlock=function(t){t.command(Yt,"start","start","next","block")},Vt.moveStartToStartOfNextInline=function(t){t.command(Yt,"start","start","next","inline")},Vt.moveStartToStartOfNextText=function(t){t.command(Yt,"start","start","next","text")},Vt.moveStartToStartOfNode=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Wt,"moveStartToStartOfNode"].concat(n))},Vt.moveStartToStartOfPreviousBlock=function(t){t.command(Yt,"start","start","previous","block")},Vt.moveStartToStartOfPreviousInline=function(t){t.command(Yt,"start","start","previous","inline")},Vt.moveStartToStartOfPreviousText=function(t){t.command(Yt,"start","start","previous","text")},Vt.moveStartToStartOfText=function(t){t.command($t,"start","start","text")},Vt.moveTo=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Wt,"moveTo"].concat(n))},Vt.moveToAnchor=function(t){t.command(Wt,"moveToAnchor")},Vt.moveToEnd=function(t){t.command(Wt,"moveToEnd")},Vt.moveToEndOfBlock=function(t){t.moveEndToEndOfBlock().moveToEnd()},Vt.moveToEndOfDocument=function(t){t.moveEndToEndOfNode(t.value.document).moveToEnd()},Vt.moveToEndOfInline=function(t){t.moveEndToEndOfInline().moveToEnd()},Vt.moveToEndOfNextBlock=function(t){t.moveEndToEndOfNextBlock().moveToEnd()},Vt.moveToEndOfNextInline=function(t){t.moveEndToEndOfNextInline().moveToEnd()},Vt.moveToEndOfNextText=function(t){t.moveEndToEndOfNextText().moveToEnd()},Vt.moveToEndOfNode=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Wt,"moveToEndOfNode"].concat(n))},Vt.moveToEndOfPreviousBlock=function(t){t.moveStartToEndOfPreviousBlock().moveToStart()},Vt.moveToEndOfPreviousInline=function(t){t.moveStartToEndOfPreviousInline().moveToStart()},Vt.moveToEndOfPreviousText=function(t){t.moveStartToEndOfPreviousText().moveToStart()},Vt.moveToEndOfText=function(t){t.moveEndToEndOfText().moveToEnd()},Vt.moveToFocus=function(t){t.command(Wt,"moveToFocus")},Vt.moveToRangeOfDocument=function(t){t.moveToRangeOfNode(t.value.document)},Vt.moveToRangeOfNode=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Wt,"moveToRangeOfNode"].concat(n))},Vt.moveToStart=function(t){t.command(Wt,"moveToStart")},Vt.moveToStartOfBlock=function(t){t.moveStartToStartOfBlock().moveToStart()},Vt.moveToStartOfDocument=function(t){t.moveStartToStartOfNode(t.value.document).moveToStart()},Vt.moveToStartOfInline=function(t){t.moveStartToStartOfInline().moveToStart()},Vt.moveToStartOfNextBlock=function(t){t.moveEndToStartOfNextBlock().moveToEnd()},Vt.moveToStartOfNextInline=function(t){t.moveEndToStartOfNextInline().moveToEnd()},Vt.moveToStartOfNextText=function(t){t.moveEndToStartOfNextText().moveToEnd()},Vt.moveToStartOfNode=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Wt,"moveToStartOfNode"].concat(n))},Vt.moveToStartOfPreviousBlock=function(t){t.moveStartToStartOfPreviousBlock().moveToStart()},Vt.moveToStartOfPreviousInline=function(t){t.moveStartToStartOfPreviousInline().moveToStart()},Vt.moveToStartOfPreviousText=function(t){t.moveStartToStartOfPreviousText().moveToStart()},Vt.moveToStartOfText=function(t){t.moveStartToStartOfText().moveToStart()},Vt.select=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=H.createProperties(e);var o=n.snapshot,i=void 0!==o&&o,a=t.value,s=a.document,u=a.selection,c={},f=u.setProperties(e);for(var l in f=s.resolveSelection(f),e=d()(f,Object.keys(e)))!0!==i&&Object(r.is)(e[l],u[l])||(c[l]=e[l]);if(u.marks&&!c.marks&&(c.anchor||c.focus)&&(c.marks=null),0!==Object.keys(c).length){var h=d()(u.toJSON(),Object.keys(c));t.applyOperation({type:"set_selection",value:a,properties:h,newProperties:c},i?{skip:!1,merge:!1}:{})}},Vt.setAnchor=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Wt,"setAnchor"].concat(n))},Vt.setEnd=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Wt,"setEnd"].concat(n))},Vt.setFocus=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Wt,"setFocus"].concat(n))},Vt.setStart=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.command.apply(t,[Wt,"setStart"].concat(n))},Vt.snapshotSelection=function(t){t.withoutMerging((function(){t.select(t.value.selection,{snapshot:!0})}))};var Xt={};function te(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function e(e,n){for(var r in t)e.registerQuery(r);return n()}function n(e,n,r){var o=e.type,i=e.args,a=t[o];if(!a)return r();var s=a.apply(void 0,[n].concat(E(i)));return void 0===s?r():s}return{onConstruct:e,onQuery:n}}Xt.setData=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.value,r=ht.createProperties({data:e}),o=d()(n,Object.keys(r));t.applyOperation({type:"set_value",properties:o,newProperties:r})},Xt.addAnnotation=function(t,e){e=et.create(e),t.applyOperation({type:"add_annotation",annotation:e})},Xt.removeAnnotation=function(t,e){e=et.create(e),t.applyOperation({type:"remove_annotation",annotation:e})},Xt.setAnnotation=function(t,e,n){e=et.create(e),n=et.createProperties(n),t.applyOperation({type:"set_annotation",properties:e,newProperties:n})};var ee=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};A(this,e);var r=T(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));for(var o in r.code=t,n)r[o]=n[o];return Error.captureStackTrace?Error.captureStackTrace(r,r.constructor):r.stack=(new Error).stack,r}return S(e,t),e}(Error);function ne(t){var e=t.rules,n=t.document,r=t.blocks,o=t.inlines,i=t.marks,a=t.annotations,s=t.decorations,u=[];if(e&&(u=u.concat(e)),n&&u.push(O({match:[{object:"document"}]},n)),r)for(var c in r)u.push(O({match:[{object:"block",type:c}]},r[c]));if(o)for(var f in o)u.push(O({match:[{object:"inline",type:f}]},o[f]));if(i)for(var l in i)u.push(O({match:[{object:"mark",type:l}]},i[l]));if(a)for(var d in a)u.push(O({match:[{object:"annotation",type:d}]},a[d]));if(s)for(var h in s)u.push(O({match:[{object:"decoration",type:h}]},s[h]));function v(t,e,n){var r=u.filter((function(e){return re(t,e.match)})),o=oe(t,r,u,{every:!0});return o?new ee(o.code,o):n()}return[{normalizeNode:function(t,e,n){var r=v(t,e,(function(){}));return r?function(){var t=r.rule,n=e.operations.size;t.normalize&&t.normalize(e,r),e.operations.size===n&&function(t,e){var n=e.code,r=e.node,o=e.child,i=e.next,a=e.previous,s=e.key,u=e.mark;switch(n){case"child_max_invalid":case"child_object_invalid":case"child_type_invalid":case"child_unknown":case"first_child_object_invalid":case"first_child_type_invalid":case"last_child_object_invalid":case"last_child_type_invalid":return"text"===o.object&&"block"===r.object&&1===r.nodes.size?t.removeNodeByKey(r.key):t.removeNodeByKey(o.key);case"previous_sibling_object_invalid":case"previous_sibling_type_invalid":return"text"===a.object&&"block"===r.object&&1===r.nodes.size?t.removeNodeByKey(r.key):t.removeNodeByKey(a.key);case"next_sibling_object_invalid":case"next_sibling_type_invalid":return"text"===i.object&&"block"===r.object&&1===r.nodes.size?t.removeNodeByKey(r.key):t.removeNodeByKey(i.key);case"child_min_invalid":case"node_text_invalid":case"parent_object_invalid":case"parent_type_invalid":return"document"===r.object?r.nodes.forEach((function(e){return t.removeNodeByKey(e.key)})):t.removeNodeByKey(r.key);case"node_data_invalid":return void 0===r.data.get(s)&&"document"!==r.object?t.removeNodeByKey(r.key):t.setNodeByKey(r.key,{data:r.data.delete(s)});case"node_mark_invalid":return r.getTexts().forEach((function(e){return t.removeMarkByKey(e.key,0,e.text.length,u)}));default:t.removeNodeByKey(r.key)}}(e,r)}:n()},validateNode:v},te({isAtomic:function(t,e){var n=u.find((function(t){return"isAtomic"in t&&re(e,t.match)}));return n&&n.isAtomic},isVoid:function(t,e){var n=u.find((function(t){return"isVoid"in t&&re(e,t.match)}));return n&&n.isVoid}})]}function re(t,e){return!oe(t,e)}function oe(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.every,i=void 0!==o&&o,a=r.match,s=void 0===a?null:a;if("function"==typeof e){var u=e(t,s);return u?null:ye("node_invalid",{rule:e,node:t})}if(Array.isArray(e)){var c=e.length?e:[{}],f=void 0,l=!0,d=!1,h=void 0;try{for(var v,p=c[Symbol.iterator]();!(l=(v=p.next()).done);l=!0){var y=v.value,m=oe(t,y,n);if(f=f||m,i&&m)return m;if(!i&&!m)return}}catch(t){d=!0,h=t}finally{try{!l&&p.return&&p.return()}finally{if(d)throw h}}return f}var g=ie(t,e)||ae(t,e)||se(t,e)||ue(t,e)||ce(t,e)||fe(t,e)||le(t,e)||de(t,e,n);return g}function ie(t,e){if(null!=e.object&&e.object!==t.object&&("function"!=typeof e.object||!e.object(t.object)))return ye("node_object_invalid",{rule:e,node:t})}function ae(t,e){if(null!=e.type&&e.type!==t.type&&("function"!=typeof e.type||!e.type(t.type)))return ye("node_type_invalid",{rule:e,node:t})}function se(t,e){if(null!=e.data&&null!=t.data){if("function"==typeof e.data){if(e.data(t.data))return;return ye("node_data_invalid",{rule:e,node:t})}for(var n in e.data){var r=e.data[n],o=t.data&&t.data.get(n);if(!("function"==typeof r?r(o):r===o))return ye("node_data_invalid",{rule:e,node:t,key:n,value:o})}}}function ue(t,e){if(null!=e.marks){var n="text"===t.object?t.marks.toArray():t.getMarks().toArray(),r=function(n){return e.marks.some((function(t){return"function"==typeof t.type?t.type(n.type):t.type===n.type}))?"continue":{v:ye("node_mark_invalid",{rule:e,node:t,mark:n})}},o=!0,i=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=r(s.value);switch(c){case"continue":continue;default:if("object"===(void 0===c?"undefined":b(c)))return c.v}}}catch(t){i=!0,a=t}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}}}function ce(t,e){if(null!=e.text){var n=t.text;if(!("function"==typeof e.text?e.text(n):e.text.test(n)))return ye("node_text_invalid",{rule:e,node:t,text:n})}}function fe(t,e){if(null!=e.first){var n=t.nodes.first();if(n){var r=oe(n,e.first);if(r)return r.rule=e,r.node=t,r.child=n,r.code=r.code.replace("node_","first_child_"),r}}}function le(t,e){if(null!=e.last){var n=t.nodes.last();if(n){var r=oe(n,e.last);if(r)return r.rule=e,r.node=t,r.child=n,r.code=r.code.replace("node_","last_child_"),r}}}function de(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(null!=t.nodes){var r=t.nodes,o=null!=e.nodes?e.nodes.slice():[],i=0,a=0,s=null,u=-1,c=null,f=null,l=null,d=null,h=null;for(null!=e.nodes&&m();g();){var v=he(t,l,n)||ve(t,l,d,u,n)||pe(t,l,h,u,n);if(v)return v;if(null!=e.nodes){if(!c)return ye("child_unknown",{rule:e,node:t,child:l,index:u});if(c.match){var p=oe(l,c.match);if(p){if(null!=f&&i-1>f)return k(),ye("child_max_invalid",{rule:e,node:t,index:u,child:r.get(u),count:i,limit:f});var y=s;if(m()){if(a-1>=y){u-=1;continue}return null==oe(l,c.match)?(k(),ye("child_min_invalid",{rule:e,node:t,index:u,count:a-1,limit:y})):(p.rule=e,p.node=t,p.child=l,p.index=u,p.code=p.code.replace("node_","child_"),p)}return null!=f&&i>f?ye("child_unknown",{rule:e,node:t,child:l,index:u}):(p.rule=e,p.node=t,p.child=l,p.index=u,p.code=p.code.replace("node_","child_"),p)}}}}if(null!=f&&i>f)return ye("child_max_invalid",{rule:e,node:t,index:u-1,count:i,child:r.get(u-1),limit:f});if(null!=e.nodes)do{if(i<s)return ye("child_min_invalid",{rule:e,node:t,index:u,count:i,limit:s})}while(m())}function m(){return 0!==o.length&&(c=o.shift(),a=i,i=0,s=c.min||null,f=c.max||null,!0)}function g(){return d=(u+=1)?r.get(u-1):null,l=r.get(u),h=r.get(u+1),!!l&&(a=i,i+=1,!0)}function k(){u>0&&(u-=1,i=a)}}function he(t,e,n){var r=!0,o=!1,i=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(null!=u.parent&&re(e,u.match)){var c=oe(t,u.parent);if(c)return c.rule=u,c.parent=t,c.node=e,c.code=c.code.replace("node_","parent_"),c}}}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}}function ve(t,e,n,r,o){if(n){var i=!0,a=!1,s=void 0;try{for(var u,c=o[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var f=u.value;if(null!=f.previous&&re(e,f.match)){var l=oe(n,f.previous);if(l)return l.rule=f,l.node=t,l.child=e,l.index=r,l.previous=n,l.code=l.code.replace("node_","previous_sibling_"),l}}}catch(t){a=!0,s=t}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}}}function pe(t,e,n,r,o){if(n){var i=!0,a=!1,s=void 0;try{for(var u,c=o[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var f=u.value;if(null!=f.next&&re(e,f.match)){var l=oe(n,f.next,[],{match:e});if(l)return l.rule=f,l.node=t,l.child=e,l.index=r,l.next=n,l.code=l.code.replace("node_","next_sibling_"),l}}}catch(t){a=!0,s=t}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}}}function ye(t,e){return O({code:t},e)}function me(t){t.value.selection.isExpanded&&t.delete()}var ge={};function ke(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.plugins,n=void 0===e?[]:e,r=xt(O({},zt,Rt,Ut,Vt,Xt,ge)),o=te({isAtomic:function(){return!1},isVoid:function(){return!1}}),i=ne({rules:[{match:{object:"document"},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:{object:"block"}},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:[{object:"inline"},{object:"text"}]},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:{object:"inline"},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:[{object:"block"},{object:"inline"}],nodes:[{min:1}],normalize:function(t,e){var n=e.code,r=e.node;"child_min_invalid"===n&&r.nodes.isEmpty()&&t.insertNodeByKey(r.key,0,ut.create())}},{match:{object:"block"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],normalize:function(t,e){var n=e.code,r=e.node,o=ut.create(),i=void 0;if("first_child_object_invalid"===n)i=0;else{if("last_child_object_invalid"!==n)return;i=r.nodes.size}t.insertNodeByKey(r.key,i,o)}},{match:{object:"inline"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],previous:[{object:"block"},{object:"text"}],next:[{object:"block"},{object:"text"}],normalize:function(t,e){var n=e.code,r=e.node,o=e.index,i=ut.create(),a=void 0;if("first_child_object_invalid"===n)a=0;else if("last_child_object_invalid"===n)a=r.nodes.size;else if("previous_sibling_object_invalid"===n)a=o;else{if("next_sibling_object_invalid"!==n)return;a=o+1}t.insertNodeByKey(r.key,a,i)}},{match:{object:"text"},next:function(t,e){return"text"!==t.object||!e.marks.equals(t.marks)},normalize:function(t,e){var n=e.code,r=e.next;"next_sibling_invalid"===n&&t.mergeNodeByKey(r.key)}},{match:{object:"text"},previous:function(t){return"text"!==t.object||""!==t.text},next:function(t){return"text"!==t.object||""!==t.text},normalize:function(t,e){var n=e.code,r=e.next,o=e.previous;"next_sibling_invalid"===n?t.removeNodeByKey(r.key):"previous_sibling_invalid"===n&&t.removeNodeByKey(o.key)}}]});return[i].concat(E(n),[r,o])}ge.addMark=function(t,e){e=V.create(e);var n=t.value,r=n.document,o=n.selection;if(o.isExpanded)t.addMarkAtRange(o,e);else if(o.marks){var i=o.marks.add(e),a=o.set("marks",i);t.select(a)}else{var s=r.getActiveMarksAtRange(o).add(e),u=o.set("marks",s);t.select(u)}},ge.addMarks=function(t,e){e.forEach((function(e){return t.addMark(e)}))},ge.delete=function(t){var e=t.value.selection;t.deleteAtRange(e),t.moveToFocus()},ge.deleteBackward=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t.value,r=n.selection;r.isExpanded?t.delete():t.deleteBackwardAtRange(r,e)},ge.deleteCharBackward=function(t){var e=t.value.selection;e.isExpanded?t.delete():t.deleteCharBackwardAtRange(e)},ge.deleteLineBackward=function(t){var e=t.value.selection;e.isExpanded?t.delete():t.deleteLineBackwardAtRange(e)},ge.deleteWordBackward=function(t){var e=t.value.selection;e.isExpanded?t.delete():t.deleteWordBackwardAtRange(e)},ge.deleteForward=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t.value,r=n.selection;r.isExpanded?t.delete():t.deleteForwardAtRange(r,e)},ge.deleteCharForward=function(t){var e=t.value.selection;e.isExpanded?t.delete():t.deleteCharForwardAtRange(e)},ge.deleteLineForward=function(t){var e=t.value.selection;e.isExpanded?t.delete():t.deleteLineForwardAtRange(e)},ge.deleteWordForward=function(t){var e=t.value.selection;e.isExpanded?t.delete():t.deleteWordForwardAtRange(e)},ge.insertBlock=function(t,e){me(t),e=lt.create(e);var n=t.value.selection;t.insertBlockAtRange(n,e);var r=t.value.document.getNode(e.key);r&&t.moveToEndOfNode(r)},ge.insertFragment=function(t,e){if(e.nodes.size){me(t);var n=t.value,r=n,o=r.document,i=r.selection,a=i.start,s=i.end,u=n,c=u.startText,f=u.endText,l=u.startInline,d=e.getLastText(),h=e.getClosestInline(d.key),v=e.getClosestBlock(d.key),p=e.nodes.first(),y=e.nodes.last(),m=Array.from(o.texts(),(function(t){return N(t,1)[0].key})),g=!l||a.isAtStartOfNode(c)||s.isAtStartOfNode(c)||a.isAtEndOfNode(f)||s.isAtEndOfNode(f),k=p.hasBlockChildren()||y.hasBlockChildren();t.insertFragmentAtRange(i,e);var _=(o=(n=t.value).document).getTexts().filter((function(t){return!m.includes(t.key)})),b=g?_.last():_.takeLast(2).first();if(b&&(h||k))t.moveToEndOfNode(b);else if(b){var A=v.nodes,x=A.findLastIndex((function(t){return t&&"inline"===t.object})),w=A.takeLast(A.size-x-1).reduce((function(t,e){return t+e.text.length}),0);t.moveToStartOfNode(b).moveForward(w)}}},ge.insertInline=function(t,e){me(t),e=it.create(e);var n=t.value.selection;t.insertInlineAtRange(n,e);var r=t.value.document.getNode(e.key);r&&t.moveToEndOfNode(r)},ge.insertText=function(t,e,n){me(t);var r=t.value,o=r.document,i=r.selection;n=n||i.marks||o.getInsertMarksAtRange(i),t.withoutNormalizing((function(){t.insertTextAtRange(i,e,n),i.marks&&o!==t.value.document&&t.select({marks:null})}))},ge.removeMark=function(t,e){e=V.create(e);var n=t.value,r=n.document,o=n.selection;if(o.isExpanded)t.removeMarkAtRange(o,e);else if(o.marks){var i=o.marks.remove(e),a=o.set("marks",i);t.select(a)}else{var s=r.getActiveMarksAtRange(o).remove(e),u=o.set("marks",s);t.select(u)}},ge.replaceMark=function(t,e,n){t.removeMark(e),t.addMark(n)},ge.setBlocks=function(t,e){var n=t.value.selection;t.setBlocksAtRange(n,e)},ge.setInlines=function(t,e){var n=t.value.selection;t.setInlinesAtRange(n,e)},ge.splitBlock=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;me(t);var n=t.value,r=n.selection,o=n.document,i=r.marks||o.getInsertMarksAtRange(r);t.splitBlockAtRange(r,e).moveToEnd(),i&&0!==i.size&&t.select({marks:i})},ge.splitInline=function(t,e){me(t);var n=t.value.selection;t.splitInlineAtRange(n,e)},ge.toggleMark=function(t,e){e=V.create(e),t.value.activeMarks.has(e)?t.removeMark(e):t.addMark(e)},ge.unwrapBlock=function(t,e){var n=t.value.selection;t.unwrapBlockAtRange(n,e)},ge.unwrapInline=function(t,e){var n=t.value.selection;t.unwrapInlineAtRange(n,e)},ge.wrapBlock=function(t,e){var n=t.value.selection;t.wrapBlockAtRange(n,e)},ge.wrapInline=function(t,e){var n=t.value.selection;t.wrapInlineAtRange(n,e)},ge.wrapText=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=t.value,o=r.selection;t.wrapTextAtRange(o,e,n),o.isCollapsed&&t.moveStartBackward(e.length),t.moveEndBackward(n.length),o.isForward!==t.value.selection.isForward&&t.flip()};var _e=c()("slate:editor"),be=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};A(this,t);var o=n.controller,i=void 0===o?this:o,a=n.construct,s=void 0===a||a,u=e.onChange,c=void 0===u?function(){}:u,f=e.plugins,l=void 0===f?[]:f,d=e.readOnly,h=void 0!==d&&d,v=e.value,p=void 0===v?ht.create():v;this.controller=i,this.middleware={},this.onChange=c,this.operations=Object(r.List)(),this.readOnly=null,this.value=null,this.tmp={dirty:[],flushing:!1,merge:null,normalize:!0,save:!0};var y=ke({plugins:l});we(this,y),s&&(this.run("onConstruct"),this.setReadOnly(h),this.setValue(p,n))}return x(t,[{key:"applyOperation",value:function(t){var e=this,n=this.operations,r=this.controller,o=this.value;i()(t)&&(t=O({},t,{value:o})),t=_t.create(t),this.withoutNormalizing((function(){r.save(t),o=e.value})),_e("apply",{operation:t}),this.value=t.apply(o),this.operations=n.push(t);var a=function(t){var e=t.type,n=t.node,r=t.path,o=t.newPath;switch(e){case"add_mark":case"insert_text":case"remove_mark":case"remove_text":case"set_mark":case"set_node":var i=L.getAncestors(r).toArray();return[].concat(E(i),[r]);case"insert_node":var a=n.getKeysToPathsTable(),s=Object.values(a).map((function(t){return r.concat(t)})),u=L.getAncestors(r).toArray();return[].concat(E(u),[r],E(s));case"split_node":var c=L.getAncestors(r).toArray(),f=L.increment(r);return[].concat(E(c),[r,f]);case"merge_node":var l=L.getAncestors(r).toArray(),d=L.decrement(r);return[].concat(E(l),[d]);case"move_node":if(L.isEqual(r,o))return[];var h=L.getAncestors(r).reduce((function(e,n){return e.push.apply(e,E(L.transform(n,t).toArray())),e}),[]),v=L.getAncestors(o).reduce((function(e,n){return e.push.apply(e,E(L.transform(n,t).toArray())),e}),[]);return[].concat(E(h),E(v));case"remove_node":var p=L.getAncestors(r).toArray();return[].concat(E(p));default:return[]}}(t),s=this.tmp.dirty.reduce((function(e,n){n=L.create(n);var r=L.transform(n,t);return e=e.concat(r.toArray())}),a);return this.tmp.dirty=s,this.tmp.flushing||(this.tmp.flushing=!0,Promise.resolve().then((function(){return e.flush()}))),r}},{key:"flush",value:function(){this.run("onChange");var t=this.value,e=this.operations,n=this.controller,o={value:t,operations:e};return this.operations=Object(r.List)(),this.tmp.flushing=!1,this.onChange(o),n}},{key:"command",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=this.controller;if("function"==typeof t)return t.apply(void 0,[o].concat(n)),Ae(this),o;_e("command",{type:t,args:n});var i={type:t,args:n};return this.run("onCommand",i),Ae(this),o}},{key:"hasCommand",value:function(t){var e=this.controller;return t in e&&e[t].__command}},{key:"hasQuery",value:function(t){var e=this.controller;return t in e&&e[t].__query}},{key:"normalize",value:function(){var t=this.value,e=this.controller,n=t.document,r=n.getKeysToPathsTable(),o=Object.values(r).map(L.create);this.tmp.dirty=this.tmp.dirty.concat(o),Ae(this);var i=t.selection;return n=t.document,i.isUnset&&n.nodes.size&&e.moveToStartOfDocument(),e}},{key:"query",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=this.controller;if("function"==typeof t)return t.apply(void 0,[o].concat(n));_e("query",{type:t,args:n});var i={type:t,args:n};return this.run("onQuery",i)}},{key:"registerCommand",value:function(t){var e=this,n=this.controller;if(t in n&&n[t].__command)return n;Object(s.a)(!(t in n),"You cannot register a `"+t+"` command because it would overwrite an existing property of the `Editor`.");var r=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.command.apply(e,[t].concat(r))};return n[t]=r,r.__command=!0,n}},{key:"registerQuery",value:function(t){var e=this,n=this.controller;if(t in n&&n[t].__query)return n;Object(s.a)(!(t in n),"You cannot register a `"+t+"` query because it would overwrite an existing property of the `Editor`.");var r=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.query.apply(e,[t].concat(r))};return n[t]=r,r.__query=!0,n}},{key:"run",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=this.controller,i=this.middleware,a=i[t]||[],u=0;function c(){var t=a[u++];if(t){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];r.length&&(n=r);var s=t.apply(void 0,E(n).concat([o,c]));return s}}return Object.defineProperty(c,"change",{get:function(){Object(s.a)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(c,"onChange",{get:function(){Object(s.a)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(c,"props",{get:function(){Object(s.a)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(c,"schema",{get:function(){Object(s.a)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(c,"stack",{get:function(){Object(s.a)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),c()}},{key:"setReadOnly",value:function(t){return this.readOnly=t,this}},{key:"setValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.normalize,r=void 0===n?t!==this.value:n;return this.value=t,r&&this.normalize(),this}},{key:"withoutNormalizing",value:function(t){var e=this.controller,n=this.tmp.normalize;return this.tmp.normalize=!1,t(e),this.tmp.normalize=n,Ae(this),e}},{key:"change",value:function(t){Object(a.a)(!1,"As of Slate 0.43 the `change` object has been replaced with `editor`, so the `editor.change()` method is deprecated.`");for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.apply(void 0,[this.controller].concat(n))}},{key:"call",value:function(t){Object(a.a)(!1,"As of Slate 0.43 the `editor.call(fn)` method has been deprecated, please use `editor.command(fn)` instead.");for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,[this.controller].concat(n)),this.controller}},{key:"applyOperations",value:function(t){var e=this;return Object(a.a)(!1,"As of Slate 0.43 the `applyOperations` method is deprecated, please apply each operation in a loop instead."),t.forEach((function(t){return e.applyOperation(t)})),this.controller}},{key:"setOperationFlag",value:function(t,e){return Object(a.a)(!1,"As of slate@0.41 the `change.setOperationFlag` method has been deprecated."),this.tmp[t]=e,this}},{key:"getFlag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a.a)(!1,"As of slate@0.41 the `change.getFlag` method has been deprecated."),void 0!==e[t]?e[t]:this.tmp[t]}},{key:"unsetOperationFlag",value:function(t){return Object(a.a)(!1,"As of slate@0.41 the `change.unsetOperationFlag` method has been deprecated."),delete this.tmp[t],this}},{key:"withoutNormalization",value:function(t){return Object(a.a)(!1,"As of slate@0.41 the `change.withoutNormalization` helper has been renamed to `change.withoutNormalizing`."),this.withoutNormalizing(t)}},{key:"editor",get:function(){return Object(a.a)(!1,"As of Slate 0.43 the `change` object has been replaced with `editor`, so you don't need to access `change.editor`."),this.controller}}]),t}();function Ae(t){t.tmp.normalize&&t.tmp.dirty.length&&t.withoutNormalizing((function(){for(;t.tmp.dirty.length;){var e=t.tmp.dirty.pop();xe(t,e)}}))}function xe(t,e){for(var n=t.controller,r=t.value,o=r.document,i=o.assertNode(e),a=0,s=100+("text"===i.object?1:i.nodes.size);i;){var u=i.normalize(n);if(!u)break;u(n),o=(r=t.value).document;var c=i.key,f=o.getDescendant(e);if(f&&f.key===c)i=f;else{if(!(f=o.getDescendant(c)))break;i=f,e=o.getPath(c)}if(++a>s)throw new Error("A schema rule could not be normalized after sufficient iterations. This is usually due to a `rule.normalize` or `plugin.normalizeNode` function of a schema being incorrectly written, causing an infinite loop.")}}function we(t,e){if(Array.isArray(e))e.forEach((function(e){return we(t,e)}));else if(null!=e){var n=e.commands,r=e.queries,o=e.schema,i=j(e,["commands","queries","schema"]);if(n){var a=xt(n);we(t,a)}if(r){var s=te(r);we(t,s)}if(o){var u=ne(o);we(t,u)}for(var c in i){var f=i[c];(t.middleware[c]=t.middleware[c]||[]).push(f)}}}var Oe={marks:void 0,text:void 0},Se=function(t){function e(){return A(this,e),T(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),x(e,[{key:"updateMark",value:function(t,e){var n=this.marks;if(e.equals(t))return this;if(!n.has(t))return this;var r=n.withMutations((function(n){n.remove(t).add(e)}));return this.set("marks",r)}},{key:"addMark",value:function(t){var e=this.marks;return this.set("marks",e.add(t))}},{key:"addMarks",value:function(t){var e=this.marks;return this.set("marks",e.union(t))}},{key:"insertText",value:function(t,e){var n=this.text,r=n.slice(0,t)+e+n.slice(t);return this.set("text",r)}},{key:"removeMark",value:function(t){var e=this.marks;return this.set("marks",e.remove(t))}},{key:"toJSON",value:function(){return{object:this.object,text:this.text,marks:this.marks.toArray().map((function(t){return t.toJSON()}))}}}],[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(a.a)(!1,"As of slate@0.47 the `Leaf` model is deprecated."),e.isLeaf(t))return t;if("string"==typeof t&&(t={text:t}),i()(t))return e.fromJSON(t);throw new Error("`Leaf.create` only accepts objects, strings or leaves, but you passed it: "+t)}},{key:"createLeaves",value:function(t){if(t.size<=1)return t;var e=!1,n=Object(r.List)().withMutations((function(n){t.findLast((function(t,r){var o=n.first();if(o){if(o.marks.equals(t.marks))return e=!0,void n.set(0,o.set("text",""+t.text+o.text));if(""===o.text)return e=!0,void n.set(0,t);if(""===t.text)return void(e=!0)}n.unshift(t)}))}));return e?n:t}},{key:"splitLeaves",value:function(t,e){if(e<0)return[Object(r.List)(),t];if(0===t.size)return[Object(r.List)(),Object(r.List)()];var n=0,o=-1,i=void 0,a=void 0;return t.find((function(t){o++;var r=n,s=t.text;if((n+=s.length)<e)return!1;if(r>e)return!1;var u=e-r;return i=t.set("text",s.slice(0,u)),a=t.set("text",s.slice(u)),!0})),i?""===i.text?0===o?[r.List.of(i),t]:[t.take(o),t.skip(o)]:""===a.text?o===t.size-1?[t,r.List.of(a)]:[t.take(o+1),t.skip(o+1)]:[t.take(o).push(i),t.skip(o+1).unshift(a)]:[t,Object(r.List)()]}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(r.List.isList(t)||Array.isArray(t)){var n=new r.List(t.map(e.create));return n}throw new Error("`Leaf.createList` only accepts arrays or lists, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var n=t.text,o=void 0===n?"":n,i=t.marks,a=void 0===i?[]:i;return new e({text:o,marks:Object(r.Set)(a.map(V.fromJSON))})}},{key:"isLeafList",value:function(t){return r.List.isList(t)&&t.every((function(t){return e.isLeaf(t)}))}}]),e}(Object(r.Record)(Oe));function je(t,e){var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,u=!0,c=!1,f=void 0;try{for(var l,d=Object.getOwnPropertyNames(t)[Symbol.iterator]();!(u=(l=d.next()).done);u=!0){var h=l.value;if(!s.hasOwnProperty(h)){var v=Object.getOwnPropertyDescriptor(t,h);Object.defineProperty(s,h,v)}}}catch(t){c=!0,f=t}finally{try{!u&&d.return&&d.return()}finally{if(c)throw f}}var p=!0,y=!1,m=void 0;try{for(var g,k=Object.getOwnPropertyNames(t.prototype)[Symbol.iterator]();!(p=(g=k.next()).done);p=!0){var _=g.value;if(!s.prototype.hasOwnProperty(_)){v=Object.getOwnPropertyDescriptor(t.prototype,_);Object.defineProperty(s.prototype,_,v)}}}catch(t){y=!0,m=t}finally{try{!p&&k.return&&k.return()}finally{if(y)throw m}}}}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}Object.entries({Annotation:et,Block:lt,Change:At,Decoration:$,Document:rt,Editor:be,Inline:it,Leaf:Se,Mark:V,Node:ct,Operation:_t,Point:K,Range:X,Selection:H,Text:ut,Value:ht}).forEach((function(t){var e,n,r,o,i=N(t,2),a=i[0],s=i[1];return je((e=a.toLowerCase(),n=G[e],r="is"+e.charAt(0).toUpperCase()+e.slice(1),(o=function(){function t(){A(this,t)}return x(t,[{key:"object",get:function(){return e}}]),t}())[r]=Q.bind(null,e),o.prototype[n]=!0,o),[s])})),je(function(){function t(){A(this,t)}return x(t,[{key:"toJS",value:function(){return this.toJSON.apply(this,arguments)}}],[{key:"fromJS",value:function(){return this.fromJSON.apply(this,arguments)}}]),t}(),[et,lt,$,rt,it,Se,V,ct,_t,K,X,H,ut,ht]);var Te=!0,Ne=Symbol("LEAF"),Ee=Symbol("STORE_KEY"),Be=Symbol("undefined"),Pe=Symbol("null"),Fe=new WeakMap;function ze(t,e){var n=function(e){var n=t[e];if(!n)throw new Error('Object does not have a property named "'+e+'".');t[e]=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];if(!Te)return n.apply(this,r);Fe.has(this)||Fe.set(this,{noArgs:{},hasArgs:{}});var i=Fe.get(this),a=i.noArgs,s=i.hasArgs,u=0!==r.length,c=void 0,f=void 0;if(void 0!==(c=u?Ce(s,f=[e].concat(r)):a[e]))return c===Be?void 0:c;var l=n.apply(this,r),d=void 0===l?Be:l;return u?Ie(s,f,d):a[e]=d,l}},r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){n(a.value)}}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}}function Ce(t,e){var n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if(void 0===s?s=Be:null==s&&(s=Pe),void 0===(t="object"===(void 0===s?"undefined":b(s))?t[Ee]&&t[Ee].get(s):t[s]))return}}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return t[Ne]}function Ie(t,e,n){var r=t,o=!0,i=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;if(void 0===c?c=Be:null==c&&(c=Pe),"object"===(void 0===c?"undefined":b(c)))if(r[Ee]||(r[Ee]=new WeakMap),r[Ee].has(c))r=r[Ee].get(c);else{var f={};r[Ee].set(c,f),r=f}else r[c]||(r[c]={}),r=r[c]}}catch(t){i=!0,a=t}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}return r[Ne]=n,t}var Re=function(){function t(){A(this,t)}return x(t,[{key:"getFirstText",value:function(){if("text"===this.object)return this;var t=null,e=this.nodes.find((function(e){return"text"===e.object||!!(t=e.getFirstText())}));return t||e}},{key:"getKeysToPathsTable",value:function(){var t=w({},this.key,[]);return this.nodes&&this.nodes.forEach((function(e,n){var r=e.getKeysToPathsTable();for(var o in r){var i=r[o];Object(a.a)(!(o in t),'A node with a duplicate key of "'+o+'" was found! Duplicate keys are not allowed, you should use `node.regenerateKey` before inserting if you are reusing an existing node.'),t[o]=[n].concat(E(i))}})),t}},{key:"getLastText",value:function(){if("text"===this.object)return this;var t=null,e=this.nodes.findLast((function(e){return"text"===e.object||(t=e.getLastText())}));return t||e}},{key:"getNode",value:function(t){return(t=this.resolvePath(t))?"text"===this.object&&t.size?null:t.size?this.getDescendant(t):this:null}},{key:"getPath",value:function(t){if(r.List.isList(t))return t;if(ct.isNode(t)&&this.descendants){var e=!0,n=!1,o=void 0;try{for(var i,a=this.descendants()[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value,u=N(s,2),c=u[0],f=u[1];if(t===c)return f}}catch(t){n=!0,o=t}finally{try{!e&&a.return&&a.return()}finally{if(n)throw o}}}var l=this.getKeysToPathsTable()[t];return l?Object(r.List)(l):null}},{key:"getText",value:function(){return"text"===this.object?this.text:this.nodes.reduce((function(t,e){return t+e.text}),"")}},{key:"hasNode",value:function(t){return!!this.getNode(t)}},{key:"normalize",value:function(t){return t.run("normalizeNode",this)}},{key:"regenerateKey",value:function(){var t=_.create();return this.set("key",t)}},{key:"resolvePath",value:function(t,e){return"string"==typeof t?(t=this.getPath(t),null!=e&&(t=t.concat(e))):t=L.create(t),t}},{key:"validate",value:function(t){return t.run("validateNode",this)}}]),t}();ze(Re.prototype,["getFirstText","getKeysToPathsTable","getLastText","getText","normalize","validate"]),je(Re,[lt,rt,it,ut]);var Me=void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function De(){return!0}var Le=function(){function t(){A(this,t)}return x(t,[{key:"addMark",value:function(t,e){t=this.resolvePath(t);var n=this.assertDescendant(t);return n=n.addMark(e),this.replaceNode(t,n)}},{key:"ancestors",value:function(t){return this.createIterable({path:t,direction:null,downward:!1,includeTargetAncestors:!0,includeRoot:!0})}},{key:"blocks",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.onlyLeaves,n=t.onlyRoots,r=t.onlyTypes,o=t.match,i=j(t,["onlyLeaves","onlyRoots","onlyTypes","match"]),a=this.descendants(O({includeDocument:!1,includeInlines:!1,includeTexts:!1},i,{match:function(t,i){return!(r&&!r.includes(t.type))&&((!n||1===i.size)&&(!(e&&!t.isLeafBlock())&&!(o&&!o(t,i))))}}));return a}},{key:"createAnnotation",value:function(t){return t=et.createProperties(t),this.resolveAnnotation(t)}},{key:"createDecoration",value:function(t){return t=$.createProperties(t),this.resolveDecoration(t)}},{key:"createIterable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.direction,n=void 0===e?"forward":e,r=t.downward,o=void 0===r||r,i=t.upward,a=void 0===i||i,s=t.includeBlocks,u=void 0===s||s,c=t.includeDocument,f=void 0===c||c,l=t.includeInlines,d=void 0===l||l,h=t.includeRoot,v=void 0!==h&&h,p=t.includeTarget,y=void 0===p?!!t.range:p,m=t.includeTargetAncestors,g=void 0!==m&&m,k=t.includeTexts,_=void 0===k||k,b=t.match,A=void 0===b?null:b,x=this,O=null,S=null;t.range?(S=x.resolveRange(t.range),O=x.resolvePath(S.start.path)):t.path&&(O=x.resolvePath(t.path));var j=O&&x.assertNode(O),T="undefined"==typeof window?Me.Set:window.Set;return w({},Symbol.iterator,(function(){var t=new T,e=S&&S.start.path,r=S&&S.end.path,i=O,s=j,c=!1,l=!1,h=!1,p=function(){return i&&s?(v||s!==x)&&(u||"block"!==s.object)&&(f||"document"!==s.object)&&(d||"inline"!==s.object)&&(_||"text"!==s.object)?A&&!A(s,i)?m():{value:[s,i],done:!1}:m():{done:!0}},m=function u(){if(!i||!s)return p();if(e&&!l)return h?i.size===e.size-1?(l=!0,i=O,s=j,u()):(i=e.slice(0,i.size+1),s=x.assertNode(i),p()):(h=!0,i=L.create([]),s=x,p());if(y&&!c)return c=!0,p();if(r&&i.equals(r))return s=null,i=null,u();if(o&&s.nodes&&s.nodes.size&&!t.has(s)){t.add(s);var f="forward"===n?0:s.nodes.size-1;return i=i.push(f),s=x.assertNode(i),p()}if("forward"===n){var d=L.increment(i),v=x.getNode(d);if(v)return i=d,s=v,p()}if("backward"===n&&0!==i.last()){var m=L.decrement(i),k=x.getNode(m);if(k)return i=m,s=k,p()}return a&&i.size?(i=L.lift(i),s=x.assertNode(i),t.has(s)?u():(t.add(s),g?p():u())):(i=null,s=null,u())};return{next:m}}))}},{key:"createPoint",value:function(t){return t=K.createProperties(t),this.resolvePoint(t)}},{key:"createRange",value:function(t){return t=X.createProperties(t),this.resolveRange(t)}},{key:"createSelection",value:function(t){return t=H.createProperties(t),this.resolveSelection(t)}},{key:"descendants",value:function(t){return this.createIterable(O({path:[]},t))}},{key:"filterDescendants",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,e=[],n=!0,o=!1,i=void 0;try{for(var a,s=this.descendants()[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value,c=N(u,2),f=c[0],l=c[1];t(f,l)&&e.push(f)}}catch(t){o=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return Object(r.List)(e)}},{key:"findDescendant",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,e=!0,n=!1,r=void 0;try{for(var o,i=this.descendants()[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value,s=N(a,2),u=s[0],c=s[1];if(t(u,c))return u}}catch(t){n=!0,r=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}return null}},{key:"forEachDescendant",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,e=!0,n=!1,r=void 0;try{for(var o,i=this.descendants()[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value,s=t.apply(void 0,E(a));if(!1===s)return}}catch(t){n=!0,r=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}},{key:"getActiveMarksAtRange",value:function(t){if((t=this.resolveRange(t)).isUnset)return Object(r.Set)();if(t.isCollapsed){var e=t.start;return this.getInsertMarksAtPoint(e)}var n=t,o=n.start,i=n.end,a=o.path,s=o.offset,u=i.path,c=i.offset,f=this.getDescendant(a),l=this.getDescendant(u);if(!a.equals(u)){for(;!a.equals(u)&&0===c;){var d=this.texts({path:u,direction:"backward"}),h=N(d,1),v=N(h[0],2);l=v[0],u=v[1],c=l.text.length}for(;!a.equals(u)&&s===f.text.length;){var p=this.texts({path:a}),y=N(p,1),m=N(y[0],2);f=m[0],a=m[1],s=0}}if(a.equals(u))return f.marks;var g=f.marks;if(0===g.size)return Object(r.Set)();var k=l.marks,_=g.intersect(k);if(0===_.size)return _;var b=this.texts({path:a}),A=N(b,1),x=N(A[0],2);for(f=x[0],a=x[1];!a.equals(u);){if(0!==f.text.length&&0===(_=_.intersect(f.marks)).size)return Object(r.Set)();var w=this.texts({path:a}),O=N(w,1),S=N(O[0],2);f=S[0],a=S[1]}return _}},{key:"getAncestors",value:function(t){var e=this.ancestors(t),n=Array.from(e,(function(t){return N(t,1)[0]})).reverse();return Object(r.List)(n)}},{key:"getBlocks",value:function(){var t=this.blocks({onlyLeaves:!0}),e=Array.from(t,(function(t){return N(t,1)[0]}));return Object(r.List)(e)}},{key:"getBlocksByType",value:function(t){var e=this.blocks({onlyLeaves:!0,onlyTypes:[t]}),n=Array.from(e,(function(t){return N(t,1)[0]}));return Object(r.List)(n)}},{key:"getChild",value:function(t){return!(t=this.resolvePath(t))||t.size>1?null:this.nodes.get(t.first())}},{key:"getClosest",value:function(t,e){var n=!0,r=!1,o=void 0;try{for(var i,a=this.ancestors(t)[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,u=N(s,2),c=u[0];if(e(c,u[1]))return c}}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return null}},{key:"getClosestBlock",value:function(t){return this.getClosest(t,(function(t){return"block"===t.object}))}},{key:"getClosestInline",value:function(t){return this.getClosest(t,(function(t){return"inline"===t.object}))}},{key:"getClosestVoid",value:function(t,e){return Object(s.a)(!ht.isValue(e),"As of Slate 0.42.0, the `node.getClosestVoid` method takes an `editor` instead of a `value`."),this.getClosest(t,(function(t){return e.isVoid(t)}))}},{key:"getCommonAncestor",value:function(t,e){if(t=this.resolvePath(t),e=this.resolvePath(e),!t||!e)return null;var n=L.relate(t,e);return this.getNode(n)}},{key:"getDecorations",value:function(t){var e=t.run("decorateNode",this);return e=$.createList(e)}},{key:"getDepth",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!(t=this.resolvePath(t)))return null;var n=this.getNode(t),r=n?t.size-1+e:null;return r}},{key:"getDescendant",value:function(t){if(!(t=this.resolvePath(t))||!t.size)return null;var e=this;return t.forEach((function(t){return!!(e=e.getIn(["nodes",t]))})),e}},{key:"getDescendantsAtRange",value:function(t){var e=this.descendants({range:t}),n=Array.from(e,(function(t){return N(t,1)[0]}));return Object(r.List)(n)}},{key:"getFragmentAtRange",value:function(t){if((t=this.resolveRange(t)).isUnset)return rt.create();for(var e=t,n=e.start,r=e.end,o=this,i=r.path,a=r.offset,s="end";i.size;){var u=i.last();o=o.splitNode(i,a),a=u+1,(i=L.lift(i)).size||"end"!==s||(i=n.path,a=n.offset,s="start")}var c=n.path.first()+1,f=r.path.first()+2,l=o.nodes.slice(c,f);return rt.create({nodes:l})}},{key:"getFurthest",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De,n=this.ancestors(t),r=Array.from(n).reverse(),o=!0,i=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value,f=N(c,2),l=f[0],d=f[1];if(e(l,d))return l}}catch(t){i=!0,a=t}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}return null}},{key:"getFurthestBlock",value:function(t){return this.getFurthest(t,(function(t){return"block"===t.object}))}},{key:"getFurthestChild",value:function(t){return(t=this.resolvePath(t))&&t.size?this.nodes.get(t.first()):null}},{key:"getFurthestInline",value:function(t){return this.getFurthest(t,(function(t){return"inline"===t.object}))}},{key:"getInlines",value:function(){var t=this.inlines({onlyLeaves:!0}),e=Array.from(t,(function(t){return N(t,1)[0]}));return Object(r.List)(e)}},{key:"getInlinesByType",value:function(t){var e=this.inlines({onlyLeaves:!0,onlyTypes:[t]}),n=Array.from(e,(function(t){return N(t,1)[0]}));return Object(r.List)(n)}},{key:"getInsertMarksAtPoint",value:function(t){var e=t=this.resolvePoint(t),n=e.path,r=e.offset,o=this.getDescendant(n);if(0!==r)return o.marks;var i=void 0,a=void 0,s=!0,u=!1,c=void 0;try{for(var f,l=this.ancestors(n)[Symbol.iterator]();!(s=(f=l.next()).done);s=!0){var d=f.value,h=N(d,2),v=h[0],p=h[1];"block"===v.object&&(i=v,a=p)}}catch(t){u=!0,c=t}finally{try{!s&&l.return&&l.return()}finally{if(u)throw c}}var y=L.drop(n,a.size),m=i.texts({path:y,direction:"backward"}),g=N(m,1)[0];return g?N(g,1)[0].marks:o.marks}},{key:"getInsertMarksAtRange",value:function(t){var e=(t=this.resolveRange(t)).start;return t.isUnset?Object(r.Set)():t.isCollapsed?this.getInsertMarksAtPoint(e):this.getDescendant(e.path).marks}},{key:"getLeafBlocksAtRange",value:function(t){var e=this.blocks({range:t,onlyLeaves:!0}),n=Array.from(e,(function(t){return N(t,1)[0]}));return Object(r.List)(n)}},{key:"getLeafInlinesAtRange",value:function(t){var e=this.inlines({range:t,onlyLeaves:!0}),n=Array.from(e,(function(t){return N(t,1)[0]}));return Object(r.List)(n)}},{key:"getNodesToPathsMap",value:function(){var t="undefined"==typeof window?new Me.Map:new window.Map;return t.set(this,L.create([])),this.forEachDescendant((function(e,n){t.set(e,n)})),t}},{key:"getMarks",value:function(){var t=this.marks(),e=Array.from(t,(function(t){return N(t,1)[0]}));return Object(r.OrderedSet)(e)}},{key:"getMarksAtRange",value:function(t){var e=this.marks({range:t}),n=Array.from(e,(function(t){return N(t,1)[0]}));return Object(r.OrderedSet)(n)}},{key:"getMarksByType",value:function(t){var e=this.marks({onlyTypes:[t]}),n=Array.from(e,(function(t){return N(t,1)[0]}));return Object(r.OrderedSet)(n)}},{key:"getNextBlock",value:function(t){var e=this.blocks({path:t,onlyLeaves:!0}),n=N(e,1)[0];return n?n[0]:null}},{key:"getNextNode",value:function(t){var e=this.createIterable({path:t,downward:!1}),n=N(e,1)[0];return n?n[0]:null}},{key:"getNextSibling",value:function(t){var e=this.siblings(t),n=N(e,1)[0];return n?n[0]:null}},{key:"getNextText",value:function(t){var e=this.texts({path:t}),n=N(e,1)[0];return n?n[0]:null}},{key:"getOffset",value:function(t){t=this.resolvePath(t),this.assertDescendant(t);var e=t.first(),n=this.nodes.slice(0,e).reduce((function(t,e){return t+e.text.length}),0);return 1===t.size?n:n+this.nodes.get(e).getOffset(L.drop(t))}},{key:"getOffsetAtRange",value:function(t){if((t=this.resolveRange(t)).isUnset)throw new Error("The range cannot be unset to calculcate its offset.");if(t.isExpanded)throw new Error("The range must be collapsed to calculcate its offset.");var e=t.start;return this.getOffset(e.path)+e.offset}},{key:"getParent",value:function(t){if(!(t=this.resolvePath(t)))return null;if(!t.size)return null;var e=L.lift(t);return this.getNode(e)}},{key:"getPreviousBlock",value:function(t){var e=this.blocks({path:t,onlyLeaves:!0,direction:"backward"}),n=N(e,1)[0];return n?n[0]:null}},{key:"getPreviousNode",value:function(t){var e=this.createIterable({path:t,downward:!1,direction:"backward"}),n=N(e,1)[0];return n?n[0]:null}},{key:"getPreviousSibling",value:function(t){var e=this.siblings(t,{direction:"backward"}),n=N(e,1)[0];return n?n[0]:null}},{key:"getPreviousText",value:function(t){var e=this.texts({path:t,direction:"backward"}),n=N(e,1)[0];return n?n[0]:null}},{key:"getRootBlocksAtRange",value:function(t){var e=this.blocks({range:t,onlyRoots:!0}),n=Array.from(e,(function(t){return N(t,1)[0]}));return Object(r.List)(n)}},{key:"getRootInlinesAtRange",value:function(t){var e=this.inlines({range:t,onlyRoots:!0}),n=Array.from(e,(function(t){return N(t,1)[0]}));return Object(r.List)(n)}},{key:"getTextAtOffset",value:function(t){if(0===t)return this.getFirstText();if(t===this.text.length)return this.getLastText();if(t<0||t>this.text.length)return null;var e=0,n=!0,r=!1,o=void 0;try{for(var i,a=this.texts()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,u=N(s,1)[0];if((e+=u.text.length)>t)return u}}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return null}},{key:"getTextDirection",value:function(){var t=y()(this.text);return"neutral"===t?null:t}},{key:"getTexts",value:function(){var t=this.texts(),e=Array.from(t,(function(t){return N(t,1)[0]}));return Object(r.List)(e)}},{key:"getTextsAtRange",value:function(t){var e=this.texts({range:t}),n=Array.from(e,(function(t){return N(t,1)[0]}));return Object(r.List)(n)}},{key:"hasBlockChildren",value:function(){return!(!this.nodes||!this.nodes.find((function(t){return"block"===t.object})))}},{key:"hasChild",value:function(t){return!!this.getChild(t)}},{key:"hasInlineChildren",value:function(){return!(!this.nodes||!this.nodes.find((function(t){return"inline"===t.object||"text"===t.object})))}},{key:"hasDescendant",value:function(t){return!!this.getDescendant(t)}},{key:"hasVoidParent",value:function(t,e){return Object(s.a)(!ht.isValue(e),"As of Slate 0.42.0, the `node.hasVoidParent` method takes an `editor` instead of a `value`."),!!this.getClosestVoid(t,e)}},{key:"inlines",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.onlyLeaves,r=e.onlyRoots,o=e.onlyTypes,i=e.match,a=j(e,["onlyLeaves","onlyRoots","onlyTypes","match"]),s=this.descendants(O({includeBlocks:!1,includeTexts:!1,includeDocument:!1},a,{match:function(e,a){return!(o&&!o.includes(e.type))&&(!(n&&!e.isLeafInline())&&((!r||"block"===t.getParent(a).object)&&!(i&&!i(e,a))))}}));return s}},{key:"insertNode",value:function(t,e){var n=(t=this.resolvePath(t)).last(),r=L.lift(t),o=this.assertNode(r),i=o.nodes.splice(n,0,e);return o=o.set("nodes",i),this.replaceNode(r,o)}},{key:"insertText",value:function(t,e,n){t=this.resolvePath(t);var r=this.assertDescendant(t);return r=r.insertText(e,n),this.replaceNode(t,r)}},{key:"isLeafBlock",value:function(){return"block"===this.object&&!this.nodes.some((function(t){return"block"===t.object}))}},{key:"isLeafInline",value:function(){return"inline"===this.object&&!this.nodes.some((function(t){return"inline"===t.object}))}},{key:"isInRange",value:function(t,e){if(t=this.resolvePath(t),(e=this.resolveRange(e)).isUnset)return!1;var n=L.compare(t,e.start.path),r=L.compare(t,e.end.path),o=-1!==n&&1!==r;return o}},{key:"mapChildren",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,n=this.nodes;n.forEach((function(r,o){var i=e(r,o,t.nodes);i!==r&&(n=n.set(i.key,i))}));var r=this.set("nodes",n);return r}},{key:"mapDescendants",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,n=this.nodes;n.forEach((function(r,o){var i=r;"text"!==i.object&&(i=i.mapDescendants(e)),(i=e(i,o,t.nodes))!==r&&(n=n.set(o,i))}));var r=this.set("nodes",n);return r}},{key:"marks",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.onlyTypes,n=void 0===e?null:e,r=t.match,o=j(t,["onlyTypes","match"]),i=this.texts(o);return w({},Symbol.iterator,(function(){var t=i[Symbol.iterator](),e=null,o=null,a=[];return{next:function i(){if(a.length){var s=a.shift();return n&&!n.includes(s.type)||r&&!r(s,e,o)?i():{value:[s,e,o],done:!1}}var u=t.next(),c=u.value;if(u.done)return{done:!0};var f=N(c,2);return e=f[0],o=f[1],a=e.marks.toArray(),i()}}}))}},{key:"mergeNode",value:function(t){var e=this.assertNode(t);if(0===(t=this.resolvePath(t)).last())throw new Error("Unable to merge node because it has no previous sibling: "+e);var n=L.decrement(t),r=this.assertNode(n);if(r.object!==e.object)throw new Error("Unable to merge two different kinds of nodes: "+r+" and "+e);var o="text"===r.object?r.mergeText(e):r.set("nodes",r.nodes.concat(e.nodes)),i=this;return i=(i=(i=i.removeNode(t)).removeNode(n)).insertNode(n,o)}},{key:"moveNode",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.assertNode(t);t=this.resolvePath(t),e=this.resolvePath(e,n);var o=L.lift(e);this.assertNode(o);var i=_t.create({type:"move_node",path:t,newPath:e});e=L.transform(t,i).first();var a=this;return a=(a=a.removeNode(t)).insertNode(e,r)}},{key:"removeMark",value:function(t,e){t=this.resolvePath(t);var n=this.assertDescendant(t);return n=n.removeMark(e),this.replaceNode(t,n)}},{key:"removeNode",value:function(t){this.assertDescendant(t);var e=(t=this.resolvePath(t)).flatMap((function(t){return["nodes",t]}));return this.deleteIn(e)}},{key:"removeText",value:function(t,e,n){var r=this.assertDescendant(t);return r=r.removeText(e,n.length),this.replaceNode(t,r)}},{key:"replaceNode",value:function(t,e){if(!(t=this.resolvePath(t)))throw new Error("Unable to replace a node because it could not be found in the first place: "+t);if(!t.size)return e;this.assertNode(t);var n=t.flatMap((function(t){return["nodes",t]}));return this.setIn(n,e)}},{key:"resolveAnnotation",value:function(t){return t=(t=et.create(t)).normalize(this)}},{key:"resolveDecoration",value:function(t){return t=(t=$.create(t)).normalize(this)}},{key:"resolvePoint",value:function(t){return t=(t=K.create(t)).normalize(this)}},{key:"resolveRange",value:function(t){return t=(t=X.create(t)).normalize(this)}},{key:"resolveSelection",value:function(t){return t=(t=H.create(t)).normalize(this)}},{key:"setNode",value:function(t,e){var n=this.assertNode(t);return n=n.merge(e),this.replaceNode(t,n)}},{key:"setMark",value:function(t,e,n){t=this.resolvePath(t);var r=this.assertDescendant(t);return r=r.setMark(e,n),this.replaceNode(t,r)}},{key:"siblings",value:function(t,e){return this.createIterable(O({path:t,upward:!1,downward:!1},e))}},{key:"splitNode",value:function(t,e,n){var r=this.assertNode(t);t=this.resolvePath(t);var o=void 0,i=void 0;if("text"===r.object){var a=r.splitText(e),s=N(a,2);o=s[0],i=s[1]}else{var u=r.nodes.take(e),c=r.nodes.skip(e);o=r.set("nodes",u),i=r.set("nodes",c).regenerateKey()}n&&"text"!==r.object&&(i=i.merge(n));var f=this;return f=(f=(f=f.removeNode(t)).insertNode(t,i)).insertNode(t,o)}},{key:"texts",value:function(t){return this.descendants(O({includeBlocks:!1,includeInlines:!1,includeDocument:!1},t))}},{key:"getBlocksAtRange",value:function(t){return Object(a.a)(!1,"As of slate@0.44 the `node.getBlocksAtRange` method has been renamed to `getLeafBlocksAtRange`."),this.getLeafBlocksAtRange(t)}},{key:"getBlocksAtRangeAsArray",value:function(t){return Object(a.a)(!1,"As of slate@0.44 the `node.getBlocksAtRangeAsArray` method has been renamed to `getLeafBlocksAtRangeAsArray`."),this.getLeafBlocksAtRangeAsArray(t)}},{key:"getInlinesAtRange",value:function(t){return Object(a.a)(!1,"As of slate@0.44 the `node.getInlinesAtRange` method has been renamed to `getLeafInlinesAtRange`."),this.getLeafInlinesAtRange(t)}},{key:"getInlinesAtRangeAsArray",value:function(t){return Object(a.a)(!1,"As of slate@0.44 the `node.getInlinesAtRangeAsArray` method has been renamed to `getLeafInlinesAtRangeAsArray`."),this.getLeafInlinesAtRangeAsArray(t)}},{key:"getNextTextAndPath",value:function(t){return Object(a.a)(!1,"As of slate@0.47, the `getNextTextAndPath` method has been renamed to `getNextTextEntry`."),this.getNextTextEntry(t)}},{key:"getNextDeepMatchingNodeAndPath",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};Object(a.a)(!1,"As of slate@0.47, the `getNextDeepMatchingNodeAndPath` method is deprecated.");var n=this.getNextMatchingNodeAndPath(t);if(!n)return null;for(var r=N(n,2),o=r[0],i=r[1],s=void 0,u=function(){return s="text"!==o.object&&o.findFirstDescendantAndPath(e,i)};u(s);){var c=s,f=N(c,2);o=f[0],i=f[1]}return o?e(o)?[o,i]:this.getNextDeepMatchingNodeAndPath(n[1],e):null}},{key:"getPreviousTextAndPath",value:function(t){return Object(a.a)(!1,"As of slate@0.47, the `getPreviousTextAndPath` method has been renamed to `getPreviousTextEntry`."),this.getPreviousTextEntry(t)}},{key:"findFirstDescendantAndPath",value:function(t,e){return Object(a.a)(!1,"As of slate@0.47, the `findFirstDescendantAndPath` method is deprecated."),this.findDescendantAndPath(t,e,!1)}},{key:"getPreviousMatchingNodeAndPath",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};if(Object(a.a)(!1,"As of slate@0.47, the `getPreviousMatchingNodeAndPath` method is deprecated."),!t)return null;for(var n=t.size;n>0;n--){var r=t.slice(0,n);if(0!==r.last()){for(var o=L.decrement(r),i=this.getNode(o);i&&!e(i);)o=L.decrement(o),i=this.getNode(o);if(i)return[i,o]}}return null}},{key:"getPreviousDeepMatchingNodeAndPath",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};Object(a.a)(!1,"As of slate@0.47, the `getPreviousDeepMatchingNodeAndPath` method is deprecated.");var n=this.getPreviousMatchingNodeAndPath(t);if(!n)return null;for(var r=N(n,2),o=r[0],i=r[1],s=void 0,u=function(){return s="text"!==o.object&&o.findLastDescendantAndPath(e,i)};u(s);){var c=s,f=N(c,2);o=f[0],i=f[1]}return o?e(o)?[o,i]:this.getPreviousDeepMatchingNodeAndPath(n[1],e):null}},{key:"findLastDescendantAndPath",value:function(t,e){return Object(a.a)(!1,"As of slate@0.47, the `findLastDescendantAndPath` method is deprecated."),this.findDescendantAndPath(t,e,!0)}},{key:"findDescendantAndPath",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.create([]),n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(a.a)(!1,"As of slate@0.47, the `findDescendantAndPath` method is deprecated.");var r=void 0,o=void 0;return this.forEachDescendantWithPath((function(e,n,i){if(t(e,n,i))return r=e,o=n,!1}),e,n),r?[r,o]:null}},{key:"forEachDescendantWithPath",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.create([]),n=arguments[2];Object(a.a)(!1,"As of slate@0.47, the `forEachDescendantWithPath` method is deprecated.");var r=this.nodes,o=void 0;return n&&(r=r.reverse()),r.forEach((function(i,a){var s=e.concat(a);return!1===t(i,s,r)?(o=!1,!1):"text"!==i.object?o=i.forEachDescendantWithPath(t,s,n):void 0})),o}},{key:"getNextMatchingNodeAndPath",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};if(Object(a.a)(!1,"As of slate@0.47, the `getNextMatchingNodeAndPath` method is deprecated."),!t)return null;for(var n=t.size;n>0;n--){for(var r=t.slice(0,n),o=L.increment(r),i=this.getNode(o);i&&!e(i);)o=L.increment(o),i=this.getNode(o);if(i)return[i,o]}return null}},{key:"getSelectionIndexes",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object(a.a)(!1,"As of slate@0.47, the `getSelectionIndexes` method is deprecated.");var n=t.start,r=t.end;if(!e)return null;if(t.isUnset)return null;if(n.path.equals(r.path)){var o=this.getFurthestAncestor(n.path),i=o?this.nodes.indexOf(o):null;return{start:i,end:i+1}}var s=null,u=null;return this.nodes.forEach((function(t,e){return"text"===t.object?(null==s&&t.key===n.key&&(s=e),null==u&&t.key===r.key&&(u=e+1)):(null==s&&t.hasDescendant(n.key)&&(s=e),null==u&&t.hasDescendant(r.key)&&(u=e+1)),null==s||null==u})),e&&null==s&&(s=0),e&&null==u&&(u=this.nodes.size),null==s?null:{start:s,end:u}}},{key:"getTextsBetweenPositionsAsArray",value:function(t,e){return Object(a.a)(!1,"As of slate@0.47, the `getTextsBetweenPositionsAsArray` method is deprecated."),t=this.resolvePath(t),e=this.resolvePath(e),this.getTextsBetweenPathPositionsAsArray(t,e)}},{key:"getOrderedMarksBetweenPositions",value:function(t,e,n,o){Object(a.a)(!1,"As of slate@0.47, the `getOrderedMarksBetweenPositions` method is deprecated."),t=this.resolvePath(t),n=this.resolvePath(n);var i=this.getDescendant(t);if(L.isEqual(t,n))return i.marks;var s=this.getTextsBetweenPathPositionsAsArray(t,n);return Object(r.OrderedSet)().withMutations((function(t){s.forEach((function(e){t.union(e.marks)}))}))}},{key:"getTextsBetweenPathPositionsAsArray",value:function(t,e){if(Object(a.a)(!1,"As of slate@0.47, the `getTextsBetweenPathPositionsAsArray` method is deprecated."),t&&e&&L.isEqual(t,e))return[this.getDescendant(t)];if(!t&&!e)return this.getTextsAsArray();var n=t?t.get(0,0):0,r=e?e.get(0,this.nodes.size-1):this.nodes.size-1,o=[];return this.nodes.slice(n,r+1).forEach((function(i,a){if("text"===i.object)o.push(i);else{var s=t&&0===a?L.drop(t):null,u=e&&a===r-n?L.drop(e):null;o=o.concat(i.getTextsBetweenPathPositionsAsArray(s,u))}})),o}},{key:"getFurthestAncestor",value:function(t){return Object(a.a)(!1,"As of slate@0.47, the `getFurthestAncestor` method has been renamed to `getFurthestChild`."),this.getFurthestChild(t)}},{key:"getLeafBlocksAtRangeAsArray",value:function(t){if(Object(a.a)(!1,"As of slate@0.47, the `getLeafBlocksAtRangeAsArray` method is deprecated."),(t=this.resolveRange(t)).isUnset)return[];var e=t,n=e.start,r=e.end;return this.getLeafBlocksBetweenPathPositionsAsArray(n.path,r.path)}},{key:"getLeafBlocksBetweenPathPositionsAsArray",value:function(t,e){if(Object(a.a)(!1,"As of slate@0.47, the `getLeafBlocksBetweenPathPositionsAsArray` method is deprecated."),t&&e&&L.isEqual(t,e))return[this.getClosestBlock(t)];if(!t&&!e)return this.getBlocksAsArray();var n=t?t.get(0,0):0,r=e?e.get(0,this.nodes.size-1):this.nodes.size-1,o=[];return this.nodes.slice(n,r+1).forEach((function(i,a){if("block"===i.object)if(i.isLeafBlock())o.push(i);else{var s=t&&0===a?L.drop(t):null,u=e&&a===r-n?L.drop(e):null;o=o.concat(i.getLeafBlocksBetweenPathPositionsAsArray(s,u))}})),o}},{key:"getBlocksAsArray",value:function(){Object(a.a)(!1,"As of slate@0.47, the `getBlocksAsArray` method is deprecated.");var t=this.blocks({onlyLeaves:!0});return Array.from(t,(function(t){return N(t,1)[0]}))}},{key:"getBlocksByTypeAsArray",value:function(t){Object(a.a)(!1,"As of slate@0.47, the `getBlocksByTypeAsArray` method is deprecated.");var e=this.blocks({onlyLeaves:!0,onlyTypes:[t]});return Array.from(e,(function(t){return N(t,1)[0]}))}},{key:"getFurthestOnlyChildAncestor",value:function(t){Object(a.a)(!1,"As of slate@0.47, the `getFurthestOnlyChildAncestor` method is deprecated.");var e=this.getAncestors(t);return e&&e.rest().reverse().takeUntil((function(t){return t.nodes.size>1})).last()||null}},{key:"getInlinesAsArray",value:function(){return Object(a.a)(!1,"As of slate@0.47, the `getInlinesAsArray` method is deprecated."),Array.from(this.inlines({onlyLeaves:!0}),(function(t){return N(t,1)[0]}))}},{key:"getInlinesByTypeAsArray",value:function(t){return Object(a.a)(!1,"As of slate@0.47, the `getInlinesByTypeAsArray` method is deprecated."),Array.from(this.inlines({onlyLeaves:!0,onlyTypes:[t]}),(function(t){return N(t,1)[0]}))}},{key:"getLeafInlinesAtRangeAsArray",value:function(t){var e=this;return Object(a.a)(!1,"As of slate@0.47, the `getLeafInlinesAtRangeAsArray` method is deprecated."),(t=this.resolveRange(t)).isUnset?[]:this.getTextsAtRangeAsArray(t).map((function(t){return e.getClosestInline(t.key)})).filter((function(t){return t}))}},{key:"getOrderedMarks",value:function(){return Object(a.a)(!1,"As of slate@0.47, the `getOrderedMarks` method has been folded into `getMarks`, which will now return an ordered set."),this.getMarks()}},{key:"getOrderedMarksAtRange",value:function(t){return Object(a.a)(!1,"As of slate@0.47, the `getOrderedMarksAtRange` method has been folded into `getMarksAtRange`, which will now return an ordered set."),this.getMarksAtRange(t)}},{key:"getOrderedMarksByType",value:function(t){return Object(a.a)(!1,"As of slate@0.47, the `getOrderedMarksByType` method has been folded into `getMarksByType`, which will now return an ordered set."),this.getMarksByType(t)}},{key:"getMarksByTypeAsArray",value:function(t){return Object(a.a)(!1,"As of slate@0.47, the `getMarksByTypeAsArray` method is deprecated."),this.nodes.reduce((function(e,n){return"text"===n.object?e.concat(n.marks.filter((function(e){return e.type===t}))):e.concat(n.getMarksByTypeAsArray(t))}),[])}},{key:"getMarksAsArray",value:function(){var t;Object(a.a)(!1,"As of slate@0.47, the `getMarksAsArray` method is deprecated.");var e=[],n=!0,r=!1,o=void 0;try{for(var i,s=this.texts()[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var u=i.value,c=N(u,1)[0];e.push(c.marks.toArray())}}catch(t){r=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return(t=[]).concat.apply(t,e)}},{key:"getRootInlinesAtRangeAsArray",value:function(t){var e=this;return Object(a.a)(!1,"As of slate@0.47, the `getRootInlinesAtRangeAsArray` method is deprecated."),(t=this.resolveRange(t)).isUnset?Object(r.List)():this.getTextsAtRangeAsArray(t).map((function(t){return e.getFurthestInline(t.key)})).filter((function(t){return t}))}},{key:"getTextsAsArray",value:function(){Object(a.a)(!1,"As of slate@0.47, the `getTextsAsArray` method is deprecated.");var t=this.texts();return Array.from(t,(function(t){return N(t,1)[0]}))}},{key:"getTextsAtRangeAsArray",value:function(t){Object(a.a)(!1,"As of slate@0.47, the `getTextsAtRangeAsArray` method is deprecated.");var e=this.texts({range:t});return Array.from(e,(function(t){return N(t,1)[0]}))}},{key:"getMarksAtPosition",value:function(t,e){Object(a.a)(!1,"As of slate@0.47, the `getMarksAtPosition` method is deprecated."),t=this.resolvePath(t);var n=this.getDescendant(t).marks;if(0!==e)return Object(r.OrderedSet)(n);var o=this.getClosestBlock(t);if(""===o.text)return Object(r.OrderedSet)(n);var i=this.texts({path:t,direction:"backward"}),s=N(i,1)[0];if(!s)return Object(r.OrderedSet)();var u=N(s,2),c=u[0],f=u[1];return o.hasDescendant(f)?Object(r.OrderedSet)(c.marks):Object(r.OrderedSet)(n)}},{key:"getNodesAtRange",value:function(t){Object(a.a)(!1,"As of slate@0.47, the `getNodesAtRange` method has been renamed to `getDescendantsAtRange`.");var e=this.descendants({range:t}),n=Array.from(e,(function(t){return N(t,1)[0]}));return Object(r.List)(n)}},{key:"isNodeInRange",value:function(t,e){return Object(a.a)(!1,"As of slate@0.47, the `isNodeInRange` method has been renamed to `isInRange`."),this.isInRange(t,e)}},{key:"text",get:function(){return this.getText()}}]),t}(),qe=function(t){Le.prototype["assert"+t]=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=this["get"+t].apply(this,[e].concat(r));if(null==i)throw new Error("`Node.assert"+t+"` could not find node with path or key: "+e);return i}},Ke=!0,Je=!1,Ue=void 0;try{for(var Ve,We=["Child","Depth","Descendant","Node","Parent","Path"][Symbol.iterator]();!(Ke=(Ve=We.next()).done);Ke=!0){qe(Ve.value)}}catch(t){Je=!0,Ue=t}finally{try{!Ke&&We.return&&We.return()}finally{if(Je)throw Ue}}ze(Le.prototype,["getBlocksAsArray","getBlocksByTypeAsArray","getDecorations","getFragmentAtRange","getInlinesAsArray","getInlinesByTypeAsArray","getInsertMarksAtRange","getLeafBlocksAtRangeAsArray","getLeafBlocksAtRangeAsArray","getLeafInlinesAtRangeAsArray","getMarksAsArray","getMarksAtPosition","getMarksByTypeAsArray","getNextBlock","getNodesAtRange","getNodesToPathsMap","getOffset","getOffsetAtRange","getOrderedMarksBetweenPositions","getPreviousBlock","getRootBlocksAtRange","getRootInlinesAtRangeAsArray","getTextAtOffset","getTextDirection","getTextsAsArray","getTextsBetweenPathPositionsAsArray"]),je(Le,[lt,rt,it]),je(function(){function t(){A(this,t)}return x(t,[{key:"flip",value:function(){return this.setPoints([this.focus,this.anchor])}},{key:"moveForward",value:function(t){return this.updatePoints((function(e){return e.moveForward(t)}))}},{key:"moveBackward",value:function(t){return this.updatePoints((function(e){return e.moveBackward(t)}))}},{key:"moveAnchorBackward",value:function(t){return this.setAnchor(this.anchor.moveBackward(t))}},{key:"moveAnchorForward",value:function(t){return this.setAnchor(this.anchor.moveForward(t))}},{key:"moveAnchorTo",value:function(t,e){return this.setAnchor(this.anchor.moveTo(t,e))}},{key:"moveAnchorToStartOfNode",value:function(t){return this.setAnchor(this.anchor.moveToStartOfNode(t))}},{key:"moveAnchorToEndOfNode",value:function(t){return this.setAnchor(this.anchor.moveToEndOfNode(t))}},{key:"moveEndBackward",value:function(t){return this.setEnd(this.end.moveBackward(t))}},{key:"moveEndForward",value:function(t){return this.setEnd(this.end.moveForward(t))}},{key:"moveEndTo",value:function(t,e){return this.setEnd(this.end.moveTo(t,e))}},{key:"moveEndToStartOfNode",value:function(t){return this.setEnd(this.end.moveToStartOfNode(t))}},{key:"moveEndToEndOfNode",value:function(t){return this.setEnd(this.end.moveToEndOfNode(t))}},{key:"moveFocusBackward",value:function(t){return this.setFocus(this.focus.moveBackward(t))}},{key:"moveFocusForward",value:function(t){return this.setFocus(this.focus.moveForward(t))}},{key:"moveFocusTo",value:function(t,e){return this.setFocus(this.focus.moveTo(t,e))}},{key:"moveFocusToStartOfNode",value:function(t){return this.setFocus(this.focus.moveToStartOfNode(t))}},{key:"moveFocusToEndOfNode",value:function(t){return this.setFocus(this.focus.moveToEndOfNode(t))}},{key:"moveStartBackward",value:function(t){return this.setStart(this.start.moveBackward(t))}},{key:"moveStartForward",value:function(t){return this.setStart(this.start.moveForward(t))}},{key:"moveStartTo",value:function(t,e){return this.setStart(this.start.moveTo(t,e))}},{key:"moveStartToStartOfNode",value:function(t){return this.setStart(this.start.moveToStartOfNode(t))}},{key:"moveStartToEndOfNode",value:function(t){return this.setStart(this.start.moveToEndOfNode(t))}},{key:"moveTo",value:function(t,e){return this.updatePoints((function(n){return n.moveTo(t,e)}))}},{key:"moveToAnchor",value:function(){return this.setFocus(this.anchor)}},{key:"moveToEnd",value:function(){return this.setStart(this.end)}},{key:"moveToEndOfNode",value:function(t){return this.updatePoints((function(e){return e.moveToEndOfNode(t)}))}},{key:"moveToFocus",value:function(){return this.setAnchor(this.focus)}},{key:"moveToRangeOfNode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.setPoints([this.anchor.moveToStartOfNode(t),this.focus.moveToEndOfNode(e)]);return n}},{key:"moveToStart",value:function(){return this.setEnd(this.start)}},{key:"moveToStartOfNode",value:function(t){return this.updatePoints((function(e){return e.moveToStartOfNode(t)}))}},{key:"normalize",value:function(t){return this.updatePoints((function(e){return e.normalize(t)}))}},{key:"setAnchor",value:function(t){return this.set("anchor",t)}},{key:"setEnd",value:function(t){return this.isBackward?this.setAnchor(t):this.setFocus(t)}},{key:"setFocus",value:function(t){return this.set("focus",t)}},{key:"setPoints",value:function(t){var e=N(t,2),n=e[0],r=e[1];return this.set("anchor",n).set("focus",r)}},{key:"updatePoints",value:function(t){var e=this.anchor,n=this.focus;return e=t(e),n=t(n),this.merge({anchor:e,focus:n})}},{key:"setStart",value:function(t){return this.isBackward?this.setFocus(t):this.setAnchor(t)}},{key:"setProperties",value:function(t){var e=t=X.createProperties(t),n=e.anchor,r=e.focus,o=j(e,["anchor","focus"]);return n&&(o.anchor=K.create(n)),r&&(o.focus=K.create(r)),this.merge(o)}},{key:"toJSON",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={object:this.object,anchor:this.anchor.toJSON(t),focus:this.focus.toJSON(t)};return e}},{key:"toRange",value:function(){var t=X.createProperties(this);return X.create(t)}},{key:"unset",value:function(){return this.updatePoints((function(t){return t.unset()}))}},{key:"isCollapsed",get:function(){return this.anchor===this.focus||this.anchor.key===this.focus.key&&this.anchor.offset===this.focus.offset}},{key:"isExpanded",get:function(){return!this.isCollapsed}},{key:"isBackward",get:function(){var t=this.isUnset,e=this.anchor,n=this.focus;return t?null:e.key===n.key?e.offset>n.offset:L.isBefore(n.path,e.path)}},{key:"isForward",get:function(){var t=this.isBackward;return null==t?null:!t}},{key:"isUnset",get:function(){var t=this.anchor,e=this.focus;return t.isUnset||e.isUnset}},{key:"isSet",get:function(){return!this.isUnset}},{key:"start",get:function(){return this.isBackward?this.focus:this.anchor}},{key:"end",get:function(){return this.isBackward?this.anchor:this.focus}}]),t}(),[et,$,X,H])}).call(this,n(72))},,,,,,,,,,function(t,e,n){var r=n(459),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e),n.d(e,"version",(function(){return rr})),n.d(e,"Collection",(function(){return g})),n.d(e,"Iterable",(function(){return ir})),n.d(e,"Seq",(function(){return M})),n.d(e,"Map",(function(){return _e})),n.d(e,"OrderedMap",(function(){return rn})),n.d(e,"List",(function(){return Je})),n.d(e,"Stack",(function(){return cn})),n.d(e,"Set",(function(){return kn})),n.d(e,"OrderedSet",(function(){return Kn})),n.d(e,"Record",(function(){return $n})),n.d(e,"Range",(function(){return Sn})),n.d(e,"Repeat",(function(){return tr})),n.d(e,"is",(function(){return X})),n.d(e,"fromJS",(function(){return er})),n.d(e,"hash",(function(){return rt})),n.d(e,"isImmutable",(function(){return w})),n.d(e,"isCollection",(function(){return v})),n.d(e,"isKeyed",(function(){return p})),n.d(e,"isIndexed",(function(){return y})),n.d(e,"isAssociative",(function(){return m})),n.d(e,"isOrdered",(function(){return S})),n.d(e,"isValueObject",(function(){return Z})),n.d(e,"get",(function(){return Vt})),n.d(e,"getIn",(function(){return jn})),n.d(e,"has",(function(){return Ut})),n.d(e,"hasIn",(function(){return Nn})),n.d(e,"merge",(function(){return ae})),n.d(e,"mergeDeep",(function(){return ue})),n.d(e,"mergeWith",(function(){return se})),n.d(e,"mergeDeepWith",(function(){return ce})),n.d(e,"remove",(function(){return $t})),n.d(e,"removeIn",(function(){return Zt})),n.d(e,"set",(function(){return Yt})),n.d(e,"setIn",(function(){return Gt})),n.d(e,"update",(function(){return te})),n.d(e,"updateIn",(function(){return Ht}));var r={};function o(t){t&&(t.value=!0)}function i(){}function a(t){return void 0===t.size&&(t.size=t.__iterate(u)),t.size}function s(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?a(t)+e:e}function u(){return!0}function c(t,e,n){return(0===t&&!h(t)||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function f(t,e){return d(t,e,0)}function l(t,e){return d(t,e,e)}function d(t,e,n){return void 0===t?n:h(t)?e===1/0?e:0|Math.max(0,e+t):void 0===e||e===t?t:0|Math.min(e,t)}function h(t){return t<0||0===t&&1/t==-1/0}function v(t){return Boolean(t&&t["@@__IMMUTABLE_ITERABLE__@@"])}function p(t){return Boolean(t&&t["@@__IMMUTABLE_KEYED__@@"])}function y(t){return Boolean(t&&t["@@__IMMUTABLE_INDEXED__@@"])}function m(t){return p(t)||y(t)}var g=function(t){return v(t)?t:M(t)},k=function(t){function e(t){return p(t)?t:D(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(g),_=function(t){function e(t){return y(t)?t:L(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(g),b=function(t){function e(t){return v(t)&&!m(t)?t:q(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(g);g.Keyed=k,g.Indexed=_,g.Set=b;function A(t){return Boolean(t&&t["@@__IMMUTABLE_SEQ__@@"])}function x(t){return Boolean(t&&t["@@__IMMUTABLE_RECORD__@@"])}function w(t){return v(t)||x(t)}var O="@@__IMMUTABLE_ORDERED__@@";function S(t){return Boolean(t&&t[O])}var j="function"==typeof Symbol&&Symbol.iterator,T=j||"@@iterator",N=function(t){this.next=t};function E(t,e,n,r){var o=0===t?e:1===t?n:[e,n];return r?r.value=o:r={value:o,done:!1},r}function B(){return{value:void 0,done:!0}}function P(t){return!!C(t)}function F(t){return t&&"function"==typeof t.next}function z(t){var e=C(t);return e&&e.call(t)}function C(t){var e=t&&(j&&t[j]||t["@@iterator"]);if("function"==typeof e)return e}N.prototype.toString=function(){return"[Iterator]"},N.KEYS=0,N.VALUES=1,N.ENTRIES=2,N.prototype.inspect=N.prototype.toSource=function(){return this.toString()},N.prototype[T]=function(){return this};var I=Object.prototype.hasOwnProperty;function R(t){return!(!Array.isArray(t)&&"string"!=typeof t)||t&&"object"==typeof t&&Number.isInteger(t.length)&&t.length>=0&&(0===t.length?1===Object.keys(t).length:t.hasOwnProperty(t.length-1))}var M=function(t){function e(t){return null==t?W():w(t)?t.toSeq():function(t){var e=H(t);if(e)return e;if("object"==typeof t)return new J(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(t,e){var n=this._cache;if(n){for(var r=n.length,o=0;o!==r;){var i=n[e?r-++o:o++];if(!1===t(i[1],i[0],this))break}return o}return this.__iterateUncached(t,e)},e.prototype.__iterator=function(t,e){var n=this._cache;if(n){var r=n.length,o=0;return new N((function(){if(o===r)return{value:void 0,done:!0};var i=n[e?r-++o:o++];return E(t,i[0],i[1])}))}return this.__iteratorUncached(t,e)},e}(g),D=function(t){function e(t){return null==t?W().toKeyedSeq():v(t)?p(t)?t.toSeq():t.fromEntrySeq():x(t)?t.toSeq():$(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(M),L=function(t){function e(t){return null==t?W():v(t)?p(t)?t.entrySeq():t.toIndexedSeq():x(t)?t.toSeq().entrySeq():Y(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(M),q=function(t){function e(t){return(v(t)&&!m(t)?t:L(t)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(M);M.isSeq=A,M.Keyed=D,M.Set=q,M.Indexed=L,M.prototype["@@__IMMUTABLE_SEQ__@@"]=!0;var K=function(t){function e(t){this._array=t,this.size=t.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this.has(t)?this._array[s(this,t)]:e},e.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length,o=0;o!==r;){var i=e?r-++o:o++;if(!1===t(n[i],i,this))break}return o},e.prototype.__iterator=function(t,e){var n=this._array,r=n.length,o=0;return new N((function(){if(o===r)return{value:void 0,done:!0};var i=e?r-++o:o++;return E(t,i,n[i])}))},e}(L),J=function(t){function e(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},e.prototype.has=function(t){return I.call(this._object,t)},e.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,o=r.length,i=0;i!==o;){var a=r[e?o-++i:i++];if(!1===t(n[a],a,this))break}return i},e.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,o=r.length,i=0;return new N((function(){if(i===o)return{value:void 0,done:!0};var a=r[e?o-++i:i++];return E(t,a,n[a])}))},e}(D);J.prototype[O]=!0;var U,V=function(t){function e(t){this._collection=t,this.size=t.length||t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=z(this._collection),r=0;if(F(n))for(var o;!(o=n.next()).done&&!1!==t(o.value,r++,this););return r},e.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=z(this._collection);if(!F(n))return new N(B);var r=0;return new N((function(){var e=n.next();return e.done?e:E(t,r++,e.value)}))},e}(L);function W(){return U||(U=new K([]))}function $(t){var e=Array.isArray(t)?new K(t):P(t)?new V(t):void 0;if(e)return e.fromEntrySeq();if("object"==typeof t)return new J(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function Y(t){var e=H(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function H(t){return R(t)?new K(t):P(t)?new V(t):void 0}function G(t){return Boolean(t&&t["@@__IMMUTABLE_MAP__@@"])}function Q(t){return G(t)&&S(t)}function Z(t){return Boolean(t&&"function"==typeof t.equals&&"function"==typeof t.hashCode)}function X(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!!(Z(t)&&Z(e)&&t.equals(e))}var tt="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function et(t){return t>>>1&1073741824|3221225471&t}var nt=Object.prototype.valueOf;function rt(t){switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return function(t){if(t!=t||t===1/0)return 0;var e=0|t;e!==t&&(e^=4294967295*t);for(;t>4294967295;)e^=t/=4294967295;return et(e)}(t);case"string":return t.length>lt?function(t){var e=vt[t];void 0===e&&(e=ot(t),ht===dt&&(ht=0,vt={}),ht++,vt[t]=e);return e}(t):ot(t);case"object":case"function":return null===t?1108378658:"function"==typeof t.hashCode?et(t.hashCode(t)):(t.valueOf!==nt&&"function"==typeof t.valueOf&&(t=t.valueOf(t)),function(t){var e;if(ut&&void 0!==(e=st.get(t)))return e;if(void 0!==(e=t[ft]))return e;if(!at){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[ft]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}e=++ct,1073741824&ct&&(ct=0);if(ut)st.set(t,e);else{if(void 0!==it&&!1===it(t))throw new Error("Non-extensible objects are not allowed as keys.");if(at)Object.defineProperty(t,ft,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[ft]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[ft]=e}}return e}(t));case"undefined":return 1108378659;default:if("function"==typeof t.toString)return ot(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function ot(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return et(e)}var it=Object.isExtensible,at=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();var st,ut="function"==typeof WeakMap;ut&&(st=new WeakMap);var ct=0,ft="__immutablehash__";"function"==typeof Symbol&&(ft=Symbol(ft));var lt=16,dt=255,ht=0,vt={},pt=function(t){function e(t,e){this._iter=t,this._useKeys=e,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this._iter.get(t,e)},e.prototype.has=function(t){return this._iter.has(t)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var t=this,e=bt(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},e.prototype.map=function(t,e){var n=this,r=_t(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e,r){return t(e,r,n)}),e)},e.prototype.__iterator=function(t,e){return this._iter.__iterator(t,e)},e}(D);pt.prototype[O]=!0;var yt=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var n=this,r=0;return e&&a(this),this._iter.__iterate((function(o){return t(o,e?n.size-++r:r++,n)}),e)},e.prototype.__iterator=function(t,e){var n=this,r=this._iter.__iterator(1,e),o=0;return e&&a(this),new N((function(){var i=r.next();return i.done?i:E(t,e?n.size-++o:o++,i.value,i)}))},e}(L),mt=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){return t(e,e,n)}),e)},e.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new N((function(){var e=n.next();return e.done?e:E(t,e.value,e.value,e)}))},e}(q),gt=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){if(e){Pt(e);var r=v(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}}),e)},e.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new N((function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Pt(r);var o=v(r);return E(t,o?r.get(0):r[0],o?r.get(1):r[1],e)}}}))},e}(D);function kt(t){var e=zt(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Ct,e.__iterateUncached=function(e,n){var r=this;return t.__iterate((function(t,n){return!1!==e(n,t,r)}),n)},e.__iteratorUncached=function(e,n){if(2===e){var r=t.__iterator(e,n);return new N((function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(1===e?0:1,n)},e}function _t(t,e,n){var o=zt(t);return o.size=t.size,o.has=function(e){return t.has(e)},o.get=function(o,i){var a=t.get(o,r);return a===r?i:e.call(n,a,o,t)},o.__iterateUncached=function(r,o){var i=this;return t.__iterate((function(t,o,a){return!1!==r(e.call(n,t,o,a),o,i)}),o)},o.__iteratorUncached=function(r,o){var i=t.__iterator(2,o);return new N((function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return E(r,s,e.call(n,a[1],s,t),o)}))},o}function bt(t,e){var n=this,r=zt(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var e=kt(t);return e.reverse=function(){return t.flip()},e}),r.get=function(n,r){return t.get(e?n:-1-n,r)},r.has=function(n){return t.has(e?n:-1-n)},r.includes=function(e){return t.includes(e)},r.cacheResult=Ct,r.__iterate=function(n,r){var o=this,i=0;return r&&a(t),t.__iterate((function(t,a){return n(t,e?a:r?o.size-++i:i++,o)}),!r)},r.__iterator=function(r,o){var i=0;o&&a(t);var s=t.__iterator(2,!o);return new N((function(){var t=s.next();if(t.done)return t;var a=t.value;return E(r,e?a[0]:o?n.size-++i:i++,a[1],t)}))},r}function At(t,e,n,o){var i=zt(t);return o&&(i.has=function(o){var i=t.get(o,r);return i!==r&&!!e.call(n,i,o,t)},i.get=function(o,i){var a=t.get(o,r);return a!==r&&e.call(n,a,o,t)?a:i}),i.__iterateUncached=function(r,i){var a=this,s=0;return t.__iterate((function(t,i,u){if(e.call(n,t,i,u))return s++,r(t,o?i:s-1,a)}),i),s},i.__iteratorUncached=function(r,i){var a=t.__iterator(2,i),s=0;return new N((function(){for(;;){var i=a.next();if(i.done)return i;var u=i.value,c=u[0],f=u[1];if(e.call(n,f,c,t))return E(r,o?c:s++,f,i)}}))},i}function xt(t,e,n,r){var o=t.size;if(c(e,n,o))return t;var i=f(e,o),a=l(n,o);if(i!=i||a!=a)return xt(t.toSeq().cacheResult(),e,n,r);var u,d=a-i;d==d&&(u=d<0?0:d);var h=zt(t);return h.size=0===u?u:t.size&&u||void 0,!r&&A(t)&&u>=0&&(h.get=function(e,n){return(e=s(this,e))>=0&&e<u?t.get(e+i,n):n}),h.__iterateUncached=function(e,n){var o=this;if(0===u)return 0;if(n)return this.cacheResult().__iterate(e,n);var a=0,s=!0,c=0;return t.__iterate((function(t,n){if(!s||!(s=a++<i))return c++,!1!==e(t,r?n:c-1,o)&&c!==u})),c},h.__iteratorUncached=function(e,n){if(0!==u&&n)return this.cacheResult().__iterator(e,n);if(0===u)return new N(B);var o=t.__iterator(e,n),a=0,s=0;return new N((function(){for(;a++<i;)o.next();if(++s>u)return{value:void 0,done:!0};var t=o.next();return r||1===e||t.done?t:E(e,s-1,0===e?void 0:t.value[1],t)}))},h}function wt(t,e,n,r){var o=zt(t);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,u=0;return t.__iterate((function(t,i,c){if(!s||!(s=e.call(n,t,i,c)))return u++,o(t,r?i:u-1,a)})),u},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=t.__iterator(2,i),u=!0,c=0;return new N((function(){var t,i,f;do{if((t=s.next()).done)return r||1===o?t:E(o,c++,0===o?void 0:t.value[1],t);var l=t.value;i=l[0],f=l[1],u&&(u=e.call(n,f,i,a))}while(u);return 2===o?t:E(o,i,f,t)}))},o}function Ot(t,e){var n=p(t),r=[t].concat(e).map((function(t){return v(t)?n&&(t=k(t)):t=n?$(t):Y(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===r.length)return t;if(1===r.length){var o=r[0];if(o===t||n&&p(o)||y(t)&&y(o))return o}var i=new K(r);return n?i=i.toKeyedSeq():y(t)||(i=i.toSetSeq()),(i=i.flatten(!0)).size=r.reduce((function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}}),0),i}function St(t,e,n){var r=zt(t);return r.__iterateUncached=function(o,i){if(i)return this.cacheResult().__iterate(o,i);var a=0,s=!1;return function t(u,c){u.__iterate((function(i,u){return(!e||c<e)&&v(i)?t(i,c+1):(a++,!1===o(i,n?u:a-1,r)&&(s=!0)),!s}),i)}(t,0),a},r.__iteratorUncached=function(r,o){if(o)return this.cacheResult().__iterator(r,o);var i=t.__iterator(r,o),a=[],s=0;return new N((function(){for(;i;){var t=i.next();if(!1===t.done){var u=t.value;if(2===r&&(u=u[1]),e&&!(a.length<e)||!v(u))return n?t:E(r,s++,u,t);a.push(i),i=u.__iterator(r,o)}else i=a.pop()}return{value:void 0,done:!0}}))},r}function jt(t,e,n){e||(e=It);var r=p(t),o=0,i=t.toSeq().map((function(e,r){return[r,e,o++,n?n(e,r,t):e]})).valueSeq().toArray();return i.sort((function(t,n){return e(t[3],n[3])||t[2]-n[2]})).forEach(r?function(t,e){i[e].length=2}:function(t,e){i[e]=t[1]}),r?D(i):y(t)?L(i):q(i)}function Tt(t,e,n){if(e||(e=It),n){var r=t.toSeq().map((function(e,r){return[e,n(e,r,t)]})).reduce((function(t,n){return Nt(e,t[1],n[1])?n:t}));return r&&r[0]}return t.reduce((function(t,n){return Nt(e,t,n)?n:t}))}function Nt(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(null==n||n!=n)||r>0}function Et(t,e,n,r){var o=zt(t),i=new K(n).map((function(t){return t.size}));return o.size=r?i.max():i.min(),o.__iterate=function(t,e){for(var n,r=this.__iterator(1,e),o=0;!(n=r.next()).done&&!1!==t(n.value,o++,this););return o},o.__iteratorUncached=function(t,o){var i=n.map((function(t){return t=g(t),z(o?t.reverse():t)})),a=0,s=!1;return new N((function(){var n;return s||(n=i.map((function(t){return t.next()})),s=r?n.every((function(t){return t.done})):n.some((function(t){return t.done}))),s?{value:void 0,done:!0}:E(t,a++,e.apply(null,n.map((function(t){return t.value}))))}))},o}function Bt(t,e){return t===e?t:A(t)?e:t.constructor(e)}function Pt(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Ft(t){return p(t)?k:y(t)?_:b}function zt(t){return Object.create((p(t)?D:y(t)?L:q).prototype)}function Ct(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):M.prototype.cacheResult.call(this)}function It(t,e){return void 0===t&&void 0===e?0:void 0===t?1:void 0===e?-1:t>e?1:t<e?-1:0}function Rt(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),o=0;o<n;o++)r[o]=t[o+e];return r}function Mt(t,e){if(!t)throw new Error(e)}function Dt(t){Mt(t!==1/0,"Cannot perform this action with an infinite size.")}function Lt(t){if(R(t)&&"string"!=typeof t)return t;if(S(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}function qt(t){return t&&("function"!=typeof t.constructor||"Object"===t.constructor.name)}function Kt(t){return"object"==typeof t&&(w(t)||Array.isArray(t)||qt(t))}function Jt(t){try{return"string"==typeof t?JSON.stringify(t):String(t)}catch(e){return JSON.stringify(t)}}function Ut(t,e){return w(t)?t.has(e):Kt(t)&&I.call(t,e)}function Vt(t,e,n){return w(t)?t.get(e,n):Ut(t,e)?"function"==typeof t.get?t.get(e):t[e]:n}function Wt(t){if(Array.isArray(t))return Rt(t);var e={};for(var n in t)I.call(t,n)&&(e[n]=t[n]);return e}function $t(t,e){if(!Kt(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(w(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!I.call(t,e))return t;var n=Wt(t);return Array.isArray(n)?n.splice(e,1):delete n[e],n}function Yt(t,e,n){if(!Kt(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(w(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,n)}if(I.call(t,e)&&n===t[e])return t;var r=Wt(t);return r[e]=n,r}function Ht(t,e,n,o){o||(o=n,n=void 0);var i=function t(e,n,o,i,a,s){var u=n===r;if(i===o.length){var c=u?a:n,f=s(c);return f===c?n:f}if(!u&&!Kt(n))throw new TypeError("Cannot update within non-data-structure value in path ["+o.slice(0,i).map(Jt)+"]: "+n);var l=o[i],d=u?r:Vt(n,l,r),h=t(d===r?e:w(d),d,o,i+1,a,s);return h===d?n:h===r?$t(n,l):Yt(u?e?Pe():{}:n,l,h)}(w(t),t,Lt(e),0,n,o);return i===r?n:i}function Gt(t,e,n){return Ht(t,e,r,(function(){return n}))}function Qt(t,e){return Gt(this,t,e)}function Zt(t,e){return Ht(t,e,(function(){return r}))}function Xt(t){return Zt(this,t)}function te(t,e,n,r){return Ht(t,[e],n,r)}function ee(t,e,n){return 1===arguments.length?t(this):te(this,t,e,n)}function ne(t,e,n){return Ht(this,t,e,n)}function re(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return ie(this,t)}function oe(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if("function"!=typeof t)throw new TypeError("Invalid merger function: "+t);return ie(this,e,t)}function ie(t,e,n){for(var o=[],i=0;i<e.length;i++){var a=k(e[i]);0!==a.size&&o.push(a)}return 0===o.length?t:0!==t.toSeq().size||t.__ownerID||1!==o.length?t.withMutations((function(t){for(var e=n?function(e,o){te(t,o,r,(function(t){return t===r?e:n(t,e,o)}))}:function(e,n){t.set(n,e)},i=0;i<o.length;i++)o[i].forEach(e)})):t.constructor(o[0])}function ae(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return le(t,e)}function se(t,e){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return le(e,n,t)}function ue(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return fe(t,e)}function ce(t,e){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return fe(e,n,t)}function fe(t,e,n){return le(t,e,function(t){return function e(n,r,o){return Kt(n)&&Kt(r)?le(n,[r],e):t?t(n,r,o):r}}(n))}function le(t,e,n){if(!Kt(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(w(t))return"function"==typeof n&&t.mergeWith?t.mergeWith.apply(t,[n].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var r=Array.isArray(t),o=t,i=r?_:k,a=r?function(e){o===t&&(o=Wt(o)),o.push(e)}:function(e,r){var i=I.call(o,r),a=i&&n?n(o[r],e,r):e;i&&a===o[r]||(o===t&&(o=Wt(o)),o[r]=a)},s=0;s<e.length;s++)i(e[s]).forEach(a);return o}function de(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return fe(this,t)}function he(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return fe(this,e,t)}function ve(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Ht(this,t,Pe(),(function(t){return le(t,e)}))}function pe(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Ht(this,t,Pe(),(function(t){return fe(t,e)}))}function ye(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function me(){return this.__ownerID?this:this.__ensureOwner(new i)}function ge(){return this.__ensureOwner()}function ke(){return this.__altered}yt.prototype.cacheResult=pt.prototype.cacheResult=mt.prototype.cacheResult=gt.prototype.cacheResult=Ct;var _e=function(t){function e(e){return null==e?Pe():G(e)&&!S(e)?e:Pe().withMutations((function(n){var r=t(e);Dt(r.size),r.forEach((function(t,e){return n.set(e,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Pe().withMutations((function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}}))},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},e.prototype.set=function(t,e){return Fe(this,t,e)},e.prototype.remove=function(t){return Fe(this,t,r)},e.prototype.deleteAll=function(t){var e=g(t);return 0===e.size?this:this.withMutations((function(t){e.forEach((function(e){return t.remove(e)}))}))},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Pe()},e.prototype.sort=function(t){return rn(jt(this,t))},e.prototype.sortBy=function(t,e){return rn(jt(this,e,t))},e.prototype.map=function(t,e){return this.withMutations((function(n){n.forEach((function(r,o){n.set(o,t.call(e,r,o,n))}))}))},e.prototype.__iterator=function(t,e){return new Te(this,t,e)},e.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate((function(e){return r++,t(e[1],e[0],n)}),e),r},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Be(this.size,this._root,t,this.__hash):0===this.size?Pe():(this.__ownerID=t,this.__altered=!1,this)},e}(k);_e.isMap=G;var be=_e.prototype;be["@@__IMMUTABLE_MAP__@@"]=!0,be.delete=be.remove,be.removeAll=be.deleteAll,be.setIn=Qt,be.removeIn=be.deleteIn=Xt,be.update=ee,be.updateIn=ne,be.merge=be.concat=re,be.mergeWith=oe,be.mergeDeep=de,be.mergeDeepWith=he,be.mergeIn=ve,be.mergeDeepIn=pe,be.withMutations=ye,be.wasAltered=ke,be.asImmutable=ge,be["@@transducer/init"]=be.asMutable=me,be["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])},be["@@transducer/result"]=function(t){return t.asImmutable()};var Ae=function(t,e){this.ownerID=t,this.entries=e};Ae.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(X(n,o[i][0]))return o[i][1];return r},Ae.prototype.update=function(t,e,n,a,s,u,c){for(var f=s===r,l=this.entries,d=0,h=l.length;d<h&&!X(a,l[d][0]);d++);var v=d<h;if(v?l[d][1]===s:f)return this;if(o(c),(f||!v)&&o(u),!f||1!==l.length){if(!v&&!f&&l.length>=De)return function(t,e,n,r){t||(t=new i);for(var o=new Se(t,rt(n),[n,r]),a=0;a<e.length;a++){var s=e[a];o=o.update(t,0,void 0,s[0],s[1])}return o}(t,l,a,s);var p=t&&t===this.ownerID,y=p?l:Rt(l);return v?f?d===h-1?y.pop():y[d]=y.pop():y[d]=[a,s]:y.push([a,s]),p?(this.entries=y,this):new Ae(t,y)}};var xe=function(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n};xe.prototype.get=function(t,e,n,r){void 0===e&&(e=rt(n));var o=1<<(31&(0===t?e:e>>>t)),i=this.bitmap;return 0==(i&o)?r:this.nodes[Re(i&o-1)].get(t+5,e,n,r)},xe.prototype.update=function(t,e,n,o,i,a,s){void 0===n&&(n=rt(o));var u=31&(0===e?n:n>>>e),c=1<<u,f=this.bitmap,l=0!=(f&c);if(!l&&i===r)return this;var d=Re(f&c-1),h=this.nodes,v=l?h[d]:void 0,p=ze(v,t,e+5,n,o,i,a,s);if(p===v)return this;if(!l&&p&&h.length>=Le)return function(t,e,n,r,o){for(var i=0,a=new Array(32),s=0;0!==n;s++,n>>>=1)a[s]=1&n?e[i++]:void 0;return a[r]=o,new we(t,i+1,a)}(t,h,f,u,p);if(l&&!p&&2===h.length&&Ce(h[1^d]))return h[1^d];if(l&&p&&1===h.length&&Ce(p))return p;var y=t&&t===this.ownerID,m=l?p?f:f^c:f|c,g=l?p?Me(h,d,p,y):function(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var o=new Array(r),i=0,a=0;a<r;a++)a===e&&(i=1),o[a]=t[a+i];return o}(h,d,y):function(t,e,n,r){var o=t.length+1;if(r&&e+1===o)return t[e]=n,t;for(var i=new Array(o),a=0,s=0;s<o;s++)s===e?(i[s]=n,a=-1):i[s]=t[s+a];return i}(h,d,p,y);return y?(this.bitmap=m,this.nodes=g,this):new xe(t,m,g)};var we=function(t,e,n){this.ownerID=t,this.count=e,this.nodes=n};we.prototype.get=function(t,e,n,r){void 0===e&&(e=rt(n));var o=31&(0===t?e:e>>>t),i=this.nodes[o];return i?i.get(t+5,e,n,r):r},we.prototype.update=function(t,e,n,o,i,a,s){void 0===n&&(n=rt(o));var u=31&(0===e?n:n>>>e),c=i===r,f=this.nodes,l=f[u];if(c&&!l)return this;var d=ze(l,t,e+5,n,o,i,a,s);if(d===l)return this;var h=this.count;if(l){if(!d&&--h<qe)return function(t,e,n,r){for(var o=0,i=0,a=new Array(n),s=0,u=1,c=e.length;s<c;s++,u<<=1){var f=e[s];void 0!==f&&s!==r&&(o|=u,a[i++]=f)}return new xe(t,o,a)}(t,f,h,u)}else h++;var v=t&&t===this.ownerID,p=Me(f,u,d,v);return v?(this.count=h,this.nodes=p,this):new we(t,h,p)};var Oe=function(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n};Oe.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(X(n,o[i][0]))return o[i][1];return r},Oe.prototype.update=function(t,e,n,i,a,s,u){void 0===n&&(n=rt(i));var c=a===r;if(n!==this.keyHash)return c?this:(o(u),o(s),Ie(this,t,e,n,[i,a]));for(var f=this.entries,l=0,d=f.length;l<d&&!X(i,f[l][0]);l++);var h=l<d;if(h?f[l][1]===a:c)return this;if(o(u),(c||!h)&&o(s),c&&2===d)return new Se(t,this.keyHash,f[1^l]);var v=t&&t===this.ownerID,p=v?f:Rt(f);return h?c?l===d-1?p.pop():p[l]=p.pop():p[l]=[i,a]:p.push([i,a]),v?(this.entries=p,this):new Oe(t,this.keyHash,p)};var Se=function(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n};Se.prototype.get=function(t,e,n,r){return X(n,this.entry[0])?this.entry[1]:r},Se.prototype.update=function(t,e,n,i,a,s,u){var c=a===r,f=X(i,this.entry[0]);return(f?a===this.entry[1]:c)?this:(o(u),c?void o(s):f?t&&t===this.ownerID?(this.entry[1]=a,this):new Se(t,this.keyHash,[i,a]):(o(s),Ie(this,t,e,rt(i),[i,a])))},Ae.prototype.iterate=Oe.prototype.iterate=function(t,e){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===t(n[e?o-r:r]))return!1},xe.prototype.iterate=we.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[e?o-r:r];if(i&&!1===i.iterate(t,e))return!1}},Se.prototype.iterate=function(t,e){return t(this.entry)};var je,Te=function(t){function e(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&Ee(t._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n=e.node,r=e.index++,o=void 0;if(n.entry){if(0===r)return Ne(t,n.entry)}else if(n.entries){if(r<=(o=n.entries.length-1))return Ne(t,n.entries[this._reverse?o-r:r])}else if(r<=(o=n.nodes.length-1)){var i=n.nodes[this._reverse?o-r:r];if(i){if(i.entry)return Ne(t,i.entry);e=this._stack=Ee(i,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}},e}(N);function Ne(t,e){return E(t,e[0],e[1])}function Ee(t,e){return{node:t,index:0,__prev:e}}function Be(t,e,n,r){var o=Object.create(be);return o.size=t,o._root=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Pe(){return je||(je=Be(0))}function Fe(t,e,n){var o,i;if(t._root){var a={value:!1},s={value:!1};if(o=ze(t._root,t.__ownerID,0,void 0,e,n,a,s),!s.value)return t;i=t.size+(a.value?n===r?-1:1:0)}else{if(n===r)return t;i=1,o=new Ae(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=o,t.__hash=void 0,t.__altered=!0,t):o?Be(i,o):Pe()}function ze(t,e,n,i,a,s,u,c){return t?t.update(e,n,i,a,s,u,c):s===r?t:(o(c),o(u),new Se(e,i,[a,s]))}function Ce(t){return t.constructor===Se||t.constructor===Oe}function Ie(t,e,n,r,o){if(t.keyHash===r)return new Oe(e,r,[t.entry,o]);var i,a=31&(0===n?t.keyHash:t.keyHash>>>n),s=31&(0===n?r:r>>>n),u=a===s?[Ie(t,e,n+5,r,o)]:(i=new Se(e,r,o),a<s?[t,i]:[i,t]);return new xe(e,1<<a|1<<s,u)}function Re(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function Me(t,e,n,r){var o=r?t:Rt(t);return o[e]=n,o}var De=8,Le=16,qe=8;function Ke(t){return Boolean(t&&t["@@__IMMUTABLE_LIST__@@"])}var Je=function(t){function e(e){var n=Ge();if(null==e)return n;if(Ke(e))return e;var r=t(e),o=r.size;return 0===o?n:(Dt(o),o>0&&o<32?He(0,o,5,null,new Ve(r.toArray())):n.withMutations((function(t){t.setSize(o),r.forEach((function(e,n){return t.set(n,e)}))})))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(t,e){if((t=s(this,t))>=0&&t<this.size){var n=Xe(this,t+=this._origin);return n&&n.array[31&t]}return e},e.prototype.set=function(t,e){return function(t,e,n){if((e=s(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?tn(t,e).set(0,n):tn(t,0,e+1).set(e,n)}));e+=t._origin;var r=t._tail,o=t._root,i={value:!1};e>=en(t._capacity)?r=Qe(r,t.__ownerID,0,e,n,i):o=Qe(o,t.__ownerID,t._level,e,n,i);if(!i.value)return t;if(t.__ownerID)return t._root=o,t._tail=r,t.__hash=void 0,t.__altered=!0,t;return He(t._origin,t._capacity,t._level,o,r)}(this,t,e)},e.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},e.prototype.insert=function(t,e){return this.splice(t,0,e)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Ge()},e.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(n){tn(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])}))},e.prototype.pop=function(){return tn(this,0,-1)},e.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){tn(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])}))},e.prototype.shift=function(){return tn(this,1)},e.prototype.concat=function(){for(var e=arguments,n=[],r=0;r<arguments.length;r++){var o=e[r],i=t("string"!=typeof o&&P(o)?o:[o]);0!==i.size&&n.push(i)}return 0===n.length?this:0!==this.size||this.__ownerID||1!==n.length?this.withMutations((function(t){n.forEach((function(e){return e.forEach((function(e){return t.push(e)}))}))})):this.constructor(n[0])},e.prototype.setSize=function(t){return tn(this,0,t)},e.prototype.map=function(t,e){var n=this;return this.withMutations((function(r){for(var o=0;o<n.size;o++)r.set(o,t.call(e,r.get(o),o,r))}))},e.prototype.slice=function(t,e){var n=this.size;return c(t,e,n)?this:tn(this,f(t,n),l(e,n))},e.prototype.__iterator=function(t,e){var n=e?this.size:0,r=Ye(this,e);return new N((function(){var o=r();return o===$e?{value:void 0,done:!0}:E(t,e?--n:n++,o)}))},e.prototype.__iterate=function(t,e){for(var n,r=e?this.size:0,o=Ye(this,e);(n=o())!==$e&&!1!==t(n,e?--r:r++,this););return r},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?He(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):0===this.size?Ge():(this.__ownerID=t,this.__altered=!1,this)},e}(_);Je.isList=Ke;var Ue=Je.prototype;Ue["@@__IMMUTABLE_LIST__@@"]=!0,Ue.delete=Ue.remove,Ue.merge=Ue.concat,Ue.setIn=Qt,Ue.deleteIn=Ue.removeIn=Xt,Ue.update=ee,Ue.updateIn=ne,Ue.mergeIn=ve,Ue.mergeDeepIn=pe,Ue.withMutations=ye,Ue.wasAltered=ke,Ue.asImmutable=ge,Ue["@@transducer/init"]=Ue.asMutable=me,Ue["@@transducer/step"]=function(t,e){return t.push(e)},Ue["@@transducer/result"]=function(t){return t.asImmutable()};var Ve=function(t,e){this.array=t,this.ownerID=e};Ve.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&31;if(r>=this.array.length)return new Ve([],t);var o,i=0===r;if(e>0){var a=this.array[r];if((o=a&&a.removeBefore(t,e-5,n))===a&&i)return this}if(i&&!o)return this;var s=Ze(this,t);if(!i)for(var u=0;u<r;u++)s.array[u]=void 0;return o&&(s.array[r]=o),s},Ve.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r,o=n-1>>>e&31;if(o>=this.array.length)return this;if(e>0){var i=this.array[o];if((r=i&&i.removeAfter(t,e-5,n))===i&&o===this.array.length-1)return this}var a=Ze(this,t);return a.array.splice(o+1),r&&(a.array[o]=r),a};var We,$e={};function Ye(t,e){var n=t._origin,r=t._capacity,o=en(r),i=t._tail;return a(t._root,t._level,0);function a(t,s,u){return 0===s?function(t,a){var s=a===o?i&&i.array:t&&t.array,u=a>n?0:n-a,c=r-a;c>32&&(c=32);return function(){if(u===c)return $e;var t=e?--c:u++;return s&&s[t]}}(t,u):function(t,o,i){var s,u=t&&t.array,c=i>n?0:n-i>>o,f=1+(r-i>>o);f>32&&(f=32);return function(){for(;;){if(s){var t=s();if(t!==$e)return t;s=null}if(c===f)return $e;var n=e?--f:c++;s=a(u&&u[n],o-5,i+(n<<o))}}}(t,s,u)}}function He(t,e,n,r,o,i,a){var s=Object.create(Ue);return s.size=e-t,s._origin=t,s._capacity=e,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function Ge(){return We||(We=He(0,0,5))}function Qe(t,e,n,r,i,a){var s,u=r>>>n&31,c=t&&u<t.array.length;if(!c&&void 0===i)return t;if(n>0){var f=t&&t.array[u],l=Qe(f,e,n-5,r,i,a);return l===f?t:((s=Ze(t,e)).array[u]=l,s)}return c&&t.array[u]===i?t:(a&&o(a),s=Ze(t,e),void 0===i&&u===s.array.length-1?s.array.pop():s.array[u]=i,s)}function Ze(t,e){return e&&t&&e===t.ownerID?t:new Ve(t?t.array.slice():[],e)}function Xe(t,e){if(e>=en(t._capacity))return t._tail;if(e<1<<t._level+5){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&31],r-=5;return n}}function tn(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new i,o=t._origin,a=t._capacity,s=o+e,u=void 0===n?a:n<0?a+n:o+n;if(s===o&&u===a)return t;if(s>=u)return t.clear();for(var c=t._level,f=t._root,l=0;s+l<0;)f=new Ve(f&&f.array.length?[void 0,f]:[],r),l+=1<<(c+=5);l&&(s+=l,o+=l,u+=l,a+=l);for(var d=en(a),h=en(u);h>=1<<c+5;)f=new Ve(f&&f.array.length?[f]:[],r),c+=5;var v=t._tail,p=h<d?Xe(t,u-1):h>d?new Ve([],r):v;if(v&&h>d&&s<a&&v.array.length){for(var y=f=Ze(f,r),m=c;m>5;m-=5){var g=d>>>m&31;y=y.array[g]=Ze(y.array[g],r)}y.array[d>>>5&31]=v}if(u<a&&(p=p&&p.removeAfter(r,0,u)),s>=h)s-=h,u-=h,c=5,f=null,p=p&&p.removeBefore(r,0,s);else if(s>o||h<d){for(l=0;f;){var k=s>>>c&31;if(k!==h>>>c&31)break;k&&(l+=(1<<c)*k),c-=5,f=f.array[k]}f&&s>o&&(f=f.removeBefore(r,c,s-l)),f&&h<d&&(f=f.removeAfter(r,c,h-l)),l&&(s-=l,u-=l)}return t.__ownerID?(t.size=u-s,t._origin=s,t._capacity=u,t._level=c,t._root=f,t._tail=p,t.__hash=void 0,t.__altered=!0,t):He(s,u,c,f,p)}function en(t){return t<32?0:t-1>>>5<<5}var nn,rn=function(t){function e(t){return null==t?an():Q(t)?t:an().withMutations((function(e){var n=k(t);Dt(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):an()},e.prototype.set=function(t,e){return sn(this,t,e)},e.prototype.remove=function(t){return sn(this,t,r)},e.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},e.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],n)}),e)},e.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?on(e,n,t,this.__hash):0===this.size?an():(this.__ownerID=t,this._map=e,this._list=n,this)},e}(_e);function on(t,e,n,r){var o=Object.create(rn.prototype);return o.size=t?t.size:0,o._map=t,o._list=e,o.__ownerID=n,o.__hash=r,o}function an(){return nn||(nn=on(Pe(),Ge()))}function sn(t,e,n){var o,i,a=t._map,s=t._list,u=a.get(e),c=void 0!==u;if(n===r){if(!c)return t;s.size>=32&&s.size>=2*a.size?(o=(i=s.filter((function(t,e){return void 0!==t&&u!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(o.__ownerID=i.__ownerID=t.__ownerID)):(o=a.remove(e),i=u===s.size-1?s.pop():s.set(u,void 0))}else if(c){if(n===s.get(u)[1])return t;o=a,i=s.set(u,[e,n])}else o=a.set(e,s.size),i=s.set(s.size,[e,n]);return t.__ownerID?(t.size=o.size,t._map=o,t._list=i,t.__hash=void 0,t):on(o,i)}rn.isOrderedMap=Q,rn.prototype[O]=!0,rn.prototype.delete=rn.prototype.remove;function un(t){return Boolean(t&&t["@@__IMMUTABLE_STACK__@@"])}var cn=function(t){function e(t){return null==t?hn():un(t)?t:hn().pushAll(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(t,e){var n=this._head;for(t=s(this,t);n&&t--;)n=n.next;return n?n.value:e},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var t=arguments;if(0===arguments.length)return this;for(var e=this.size+arguments.length,n=this._head,r=arguments.length-1;r>=0;r--)n={value:t[r],next:n};return this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):dn(e,n)},e.prototype.pushAll=function(e){if(0===(e=t(e)).size)return this;if(0===this.size&&un(e))return e;Dt(e.size);var n=this.size,r=this._head;return e.__iterate((function(t){n++,r={value:t,next:r}}),!0),this.__ownerID?(this.size=n,this._head=r,this.__hash=void 0,this.__altered=!0,this):dn(n,r)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):hn()},e.prototype.slice=function(e,n){if(c(e,n,this.size))return this;var r=f(e,this.size);if(l(n,this.size)!==this.size)return t.prototype.slice.call(this,e,n);for(var o=this.size-r,i=this._head;r--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):dn(o,i)},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?dn(this.size,this._head,t,this.__hash):0===this.size?hn():(this.__ownerID=t,this.__altered=!1,this)},e.prototype.__iterate=function(t,e){var n=this;if(e)return new K(this.toArray()).__iterate((function(e,r){return t(e,r,n)}),e);for(var r=0,o=this._head;o&&!1!==t(o.value,r++,this);)o=o.next;return r},e.prototype.__iterator=function(t,e){if(e)return new K(this.toArray()).__iterator(t,e);var n=0,r=this._head;return new N((function(){if(r){var e=r.value;return r=r.next,E(t,n++,e)}return{value:void 0,done:!0}}))},e}(_);cn.isStack=un;var fn,ln=cn.prototype;function dn(t,e,n,r){var o=Object.create(ln);return o.size=t,o._head=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function hn(){return fn||(fn=dn(0))}ln["@@__IMMUTABLE_STACK__@@"]=!0,ln.shift=ln.pop,ln.unshift=ln.push,ln.unshiftAll=ln.pushAll,ln.withMutations=ye,ln.wasAltered=ke,ln.asImmutable=ge,ln["@@transducer/init"]=ln.asMutable=me,ln["@@transducer/step"]=function(t,e){return t.unshift(e)},ln["@@transducer/result"]=function(t){return t.asImmutable()};function vn(t){return Boolean(t&&t["@@__IMMUTABLE_SET__@@"])}function pn(t){return vn(t)&&S(t)}function yn(t,e){if(t===e)return!0;if(!v(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||p(t)!==p(e)||y(t)!==y(e)||S(t)!==S(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!m(t);if(S(t)){var o=t.entries();return e.every((function(t,e){var r=o.next().value;return r&&X(r[1],t)&&(n||X(r[0],e))}))&&o.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var a=t;t=e,e=a}var s=!0,u=e.__iterate((function(e,o){if(n?!t.has(e):i?!X(e,t.get(o,r)):!X(t.get(o,r),e))return s=!1,!1}));return s&&t.size===u}function mn(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function gn(t){if(!t||"object"!=typeof t)return t;if(!v(t)){if(!Kt(t))return t;t=M(t)}if(p(t)){var e={};return t.__iterate((function(t,n){e[n]=gn(t)})),e}var n=[];return t.__iterate((function(t){n.push(gn(t))})),n}var kn=function(t){function e(e){return null==e?wn():vn(e)&&!S(e)?e:wn().withMutations((function(n){var r=t(e);Dt(r.size),r.forEach((function(t){return n.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(k(t).keySeq())},e.intersect=function(t){return(t=g(t).toArray()).length?bn.intersect.apply(e(t.pop()),t):wn()},e.union=function(t){return(t=g(t).toArray()).length?bn.union.apply(e(t.pop()),t):wn()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(t){return this._map.has(t)},e.prototype.add=function(t){return An(this,this._map.set(t,t))},e.prototype.remove=function(t){return An(this,this._map.remove(t))},e.prototype.clear=function(){return An(this,this._map.clear())},e.prototype.map=function(t,e){var n=this,r=[],o=[];return this.forEach((function(i){var a=t.call(e,i,i,n);a!==i&&(r.push(i),o.push(a))})),this.withMutations((function(t){r.forEach((function(e){return t.remove(e)})),o.forEach((function(e){return t.add(e)}))}))},e.prototype.union=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(n){for(var r=0;r<e.length;r++)t(e[r]).forEach((function(t){return n.add(t)}))})):this.constructor(e[0])},e.prototype.intersect=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var r=[];return this.forEach((function(t){e.every((function(e){return e.includes(t)}))||r.push(t)})),this.withMutations((function(t){r.forEach((function(e){t.remove(e)}))}))},e.prototype.subtract=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var r=[];return this.forEach((function(t){e.some((function(e){return e.includes(t)}))&&r.push(t)})),this.withMutations((function(t){r.forEach((function(e){t.remove(e)}))}))},e.prototype.sort=function(t){return Kn(jt(this,t))},e.prototype.sortBy=function(t,e){return Kn(jt(this,e,t))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate((function(e){return t(e,e,n)}),e)},e.prototype.__iterator=function(t,e){return this._map.__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):0===this.size?this.__empty():(this.__ownerID=t,this._map=e,this)},e}(b);kn.isSet=vn;var _n,bn=kn.prototype;function An(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function xn(t,e){var n=Object.create(bn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function wn(){return _n||(_n=xn(Pe()))}bn["@@__IMMUTABLE_SET__@@"]=!0,bn.delete=bn.remove,bn.merge=bn.concat=bn.union,bn.withMutations=ye,bn.asImmutable=ge,bn["@@transducer/init"]=bn.asMutable=me,bn["@@transducer/step"]=function(t,e){return t.add(e)},bn["@@transducer/result"]=function(t){return t.asImmutable()},bn.__empty=wn,bn.__make=xn;var On,Sn=function(t){function e(t,n,r){if(!(this instanceof e))return new e(t,n,r);if(Mt(0!==r,"Cannot step a Range by 0"),t=t||0,void 0===n&&(n=1/0),r=void 0===r?1:Math.abs(r),n<t&&(r=-r),this._start=t,this._end=n,this._step=r,this.size=Math.max(0,Math.ceil((n-t)/r-1)+1),0===this.size){if(On)return On;On=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},e.prototype.get=function(t,e){return this.has(t)?this._start+s(this,t)*this._step:e},e.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},e.prototype.slice=function(t,n){return c(t,n,this.size)?this:(t=f(t,this.size),(n=l(n,this.size))<=t?new e(0,0):new e(this.get(t,this._end),this.get(n,this._end),this._step))},e.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},e.prototype.lastIndexOf=function(t){return this.indexOf(t)},e.prototype.__iterate=function(t,e){for(var n=this.size,r=this._step,o=e?this._start+(n-1)*r:this._start,i=0;i!==n&&!1!==t(o,e?n-++i:i++,this);)o+=e?-r:r;return i},e.prototype.__iterator=function(t,e){var n=this.size,r=this._step,o=e?this._start+(n-1)*r:this._start,i=0;return new N((function(){if(i===n)return{value:void 0,done:!0};var a=o;return o+=e?-r:r,E(t,e?n-++i:i++,a)}))},e.prototype.equals=function(t){return t instanceof e?this._start===t._start&&this._end===t._end&&this._step===t._step:yn(this,t)},e}(L);function jn(t,e,n){for(var o=Lt(e),i=0;i!==o.length;)if((t=Vt(t,o[i++],r))===r)return n;return t}function Tn(t,e){return jn(this,t,e)}function Nn(t,e){return jn(t,e,r)!==r}function En(){Dt(this.size);var t={};return this.__iterate((function(e,n){t[n]=e})),t}g.isIterable=v,g.isKeyed=p,g.isIndexed=y,g.isAssociative=m,g.isOrdered=S,g.Iterator=N,mn(g,{toArray:function(){Dt(this.size);var t=new Array(this.size||0),e=p(this),n=0;return this.__iterate((function(r,o){t[n++]=e?[o,r]:r})),t},toIndexedSeq:function(){return new yt(this)},toJS:function(){return gn(this)},toKeyedSeq:function(){return new pt(this,!0)},toMap:function(){return _e(this.toKeyedSeq())},toObject:En,toOrderedMap:function(){return rn(this.toKeyedSeq())},toOrderedSet:function(){return Kn(p(this)?this.valueSeq():this)},toSet:function(){return kn(p(this)?this.valueSeq():this)},toSetSeq:function(){return new mt(this)},toSeq:function(){return y(this)?this.toIndexedSeq():p(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return cn(p(this)?this.valueSeq():this)},toList:function(){return Je(p(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Bt(this,Ot(this,t))},includes:function(t){return this.some((function(e){return X(e,t)}))},entries:function(){return this.__iterator(2)},every:function(t,e){Dt(this.size);var n=!0;return this.__iterate((function(r,o,i){if(!t.call(e,r,o,i))return n=!1,!1})),n},filter:function(t,e){return Bt(this,At(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return Dt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Dt(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate((function(r){n?n=!1:e+=t,e+=null!=r?r.toString():""})),e},keys:function(){return this.__iterator(0)},map:function(t,e){return Bt(this,_t(this,t,e))},reduce:function(t,e,n){return zn(this,t,e,n,arguments.length<2,!1)},reduceRight:function(t,e,n){return zn(this,t,e,n,arguments.length<2,!0)},reverse:function(){return Bt(this,bt(this,!0))},slice:function(t,e){return Bt(this,xt(this,t,e,!0))},some:function(t,e){return!this.every(Rn(t),e)},sort:function(t){return Bt(this,jt(this,t))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return a(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,n){var r=_e().asMutable();return t.__iterate((function(o,i){r.update(e.call(n,o,i,t),0,(function(t){return t+1}))})),r.asImmutable()}(this,t,e)},equals:function(t){return yn(this,t)},entrySeq:function(){var t=this;if(t._cache)return new K(t._cache);var e=t.toSeq().map(In).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Rn(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate((function(n,o,i){if(t.call(e,n,o,i))return r=[o,n],!1})),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(t){return this.find(u,null,t)},flatMap:function(t,e){return Bt(this,function(t,e,n){var r=Ft(t);return t.toSeq().map((function(o,i){return r(e.call(n,o,i,t))})).flatten(!0)}(this,t,e))},flatten:function(t){return Bt(this,St(this,t,!0))},fromEntrySeq:function(){return new gt(this)},get:function(t,e){return this.find((function(e,n){return X(n,t)}),void 0,e)},getIn:Tn,groupBy:function(t,e){return function(t,e,n){var r=p(t),o=(S(t)?rn():_e()).asMutable();t.__iterate((function(i,a){o.update(e.call(n,i,a,t),(function(t){return(t=t||[]).push(r?[a,i]:i),t}))}));var i=Ft(t);return o.map((function(e){return Bt(t,i(e))})).asImmutable()}(this,t,e)},has:function(t){return this.get(t,r)!==r},hasIn:function(t){return Nn(this,t)},isSubset:function(t){return t="function"==typeof t.includes?t:g(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:g(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(e){return X(e,t)}))},keySeq:function(){return this.toSeq().map(Cn).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return Tt(this,t)},maxBy:function(t,e){return Tt(this,e,t)},min:function(t){return Tt(this,t?Mn(t):Ln)},minBy:function(t,e){return Tt(this,e?Mn(e):Ln,t)},rest:function(){return this.slice(1)},skip:function(t){return 0===t?this:this.slice(Math.max(0,t))},skipLast:function(t){return 0===t?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,e){return Bt(this,wt(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Rn(t),e)},sortBy:function(t,e){return Bt(this,jt(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,e){return Bt(this,function(t,e,n){var r=zt(t);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return t.__iterate((function(t,o,s){return e.call(n,t,o,s)&&++a&&r(t,o,i)})),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=t.__iterator(2,o),s=!0;return new N((function(){if(!s)return{value:void 0,done:!0};var t=a.next();if(t.done)return t;var o=t.value,u=o[0],c=o[1];return e.call(n,c,u,i)?2===r?t:E(r,u,c,t):(s=!1,{value:void 0,done:!0})}))},r}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Rn(t),e)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=S(t),n=p(t),r=e?1:0;return function(t,e){return e=tt(e,3432918353),e=tt(e<<15|e>>>-15,461845907),e=tt(e<<13|e>>>-13,5),e=tt((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=et((e=tt(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(n?e?function(t,e){r=31*r+qn(rt(t),rt(e))|0}:function(t,e){r=r+qn(rt(t),rt(e))|0}:e?function(t){r=31*r+rt(t)|0}:function(t){r=r+rt(t)|0}),r)}(this))}});var Bn=g.prototype;Bn["@@__IMMUTABLE_ITERABLE__@@"]=!0,Bn[T]=Bn.values,Bn.toJSON=Bn.toArray,Bn.__toStringMapper=Jt,Bn.inspect=Bn.toSource=function(){return this.toString()},Bn.chain=Bn.flatMap,Bn.contains=Bn.includes,mn(k,{flip:function(){return Bt(this,kt(this))},mapEntries:function(t,e){var n=this,r=0;return Bt(this,this.toSeq().map((function(o,i){return t.call(e,[i,o],r++,n)})).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Bt(this,this.toSeq().flip().map((function(r,o){return t.call(e,r,o,n)})).flip())}});var Pn=k.prototype;Pn["@@__IMMUTABLE_KEYED__@@"]=!0,Pn[T]=Bn.entries,Pn.toJSON=En,Pn.__toStringMapper=function(t,e){return Jt(e)+": "+Jt(t)},mn(_,{toKeyedSeq:function(){return new pt(this,!1)},filter:function(t,e){return Bt(this,At(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Bt(this,bt(this,!1))},slice:function(t,e){return Bt(this,xt(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(e||0,0),0===n||2===n&&!e)return this;t=f(t,t<0?this.count():this.size);var r=this.slice(0,t);return Bt(this,1===n?r:r.concat(Rt(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return Bt(this,St(this,t,!1))},get:function(t,e){return(t=s(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,n){return n===t}),void 0,e)},has:function(t){return(t=s(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Bt(this,function(t,e){var n=zt(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return t.__iterate((function(t){return(!i||!1!==n(e,i++,o))&&!1!==n(t,i++,o)}),r),i},n.__iteratorUncached=function(n,r){var o,i=t.__iterator(1,r),a=0;return new N((function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?E(n,a++,e):E(n,a++,o.value,o)}))},n}(this,t))},interleave:function(){var t=[this].concat(Rt(arguments)),e=Et(this.toSeq(),L.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Bt(this,n)},keySeq:function(){return Sn(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,e){return Bt(this,wt(this,t,e,!1))},zip:function(){var t=[this].concat(Rt(arguments));return Bt(this,Et(this,Dn,t))},zipAll:function(){var t=[this].concat(Rt(arguments));return Bt(this,Et(this,Dn,t,!0))},zipWith:function(t){var e=Rt(arguments);return e[0]=this,Bt(this,Et(this,t,e))}});var Fn=_.prototype;function zn(t,e,n,r,o,i){return Dt(t.size),t.__iterate((function(t,i,a){o?(o=!1,n=t):n=e.call(r,n,t,i,a)}),i),n}function Cn(t,e){return e}function In(t,e){return[e,t]}function Rn(t){return function(){return!t.apply(this,arguments)}}function Mn(t){return function(){return-t.apply(this,arguments)}}function Dn(){return Rt(arguments)}function Ln(t,e){return t<e?1:t>e?-1:0}function qn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}Fn["@@__IMMUTABLE_INDEXED__@@"]=!0,Fn[O]=!0,mn(b,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),b.prototype.has=Bn.includes,b.prototype.contains=b.prototype.includes,mn(D,k.prototype),mn(L,_.prototype),mn(q,b.prototype);var Kn=function(t){function e(t){return null==t?Wn():pn(t)?t:Wn().withMutations((function(e){var n=b(t);Dt(n.size),n.forEach((function(t){return e.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(k(t).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(kn);Kn.isOrderedSet=pn;var Jn,Un=Kn.prototype;function Vn(t,e){var n=Object.create(Un);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Wn(){return Jn||(Jn=Vn(an()))}Un[O]=!0,Un.zip=Fn.zip,Un.zipWith=Fn.zipWith,Un.__empty=Wn,Un.__make=Vn;var $n=function(t,e){var n,r=function(i){var a=this;if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var s=Object.keys(t),u=o._indices={};o._name=e,o._keys=s,o._defaultValues=t;for(var c=0;c<s.length;c++){var f=s[c];u[f]=c,o[f]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+Gn(this)+' with property "'+f+'" since that property name is part of the Record API.'):Zn(o,f)}}this.__ownerID=void 0,this._values=Je().withMutations((function(t){t.setSize(a._keys.length),k(i).forEach((function(e,n){t.set(a._indices[n],e===a._defaultValues[n]?void 0:e)}))}))},o=r.prototype=Object.create(Yn);return o.constructor=r,e&&(r.displayName=e),r};$n.prototype.toString=function(){for(var t,e=Gn(this)+" { ",n=this._keys,r=0,o=n.length;r!==o;r++)e+=(r?", ":"")+(t=n[r])+": "+Jt(this.get(t));return e+" }"},$n.prototype.equals=function(t){return this===t||t&&this._keys===t._keys&&Qn(this).equals(Qn(t))},$n.prototype.hashCode=function(){return Qn(this).hashCode()},$n.prototype.has=function(t){return this._indices.hasOwnProperty(t)},$n.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._indices[t],r=this._values.get(n);return void 0===r?this._defaultValues[t]:r},$n.prototype.set=function(t,e){if(this.has(t)){var n=this._values.set(this._indices[t],e===this._defaultValues[t]?void 0:e);if(n!==this._values&&!this.__ownerID)return Hn(this,n)}return this},$n.prototype.remove=function(t){return this.set(t)},$n.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Hn(this,t)},$n.prototype.wasAltered=function(){return this._values.wasAltered()},$n.prototype.toSeq=function(){return Qn(this)},$n.prototype.toJS=function(){return gn(this)},$n.prototype.entries=function(){return this.__iterator(2)},$n.prototype.__iterator=function(t,e){return Qn(this).__iterator(t,e)},$n.prototype.__iterate=function(t,e){return Qn(this).__iterate(t,e)},$n.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._values.__ensureOwner(t);return t?Hn(this,e,t):(this.__ownerID=t,this._values=e,this)},$n.isRecord=x,$n.getDescriptiveName=Gn;var Yn=$n.prototype;function Hn(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._values=e,r.__ownerID=n,r}function Gn(t){return t.constructor.displayName||t.constructor.name||"Record"}function Qn(t){return $(t._keys.map((function(e){return[e,t.get(e)]})))}function Zn(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){Mt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}catch(t){}}Yn["@@__IMMUTABLE_RECORD__@@"]=!0,Yn.delete=Yn.remove,Yn.deleteIn=Yn.removeIn=Xt,Yn.getIn=Tn,Yn.hasIn=Bn.hasIn,Yn.merge=re,Yn.mergeWith=oe,Yn.mergeIn=ve,Yn.mergeDeep=de,Yn.mergeDeepWith=he,Yn.mergeDeepIn=pe,Yn.setIn=Qt,Yn.update=ee,Yn.updateIn=ne,Yn.withMutations=ye,Yn.asMutable=me,Yn.asImmutable=ge,Yn[T]=Yn.entries,Yn.toJSON=Yn.toObject=Bn.toObject,Yn.inspect=Yn.toSource=function(){return this.toString()};var Xn,tr=function(t){function e(t,n){if(!(this instanceof e))return new e(t,n);if(this._value=t,this.size=void 0===n?1/0:Math.max(0,n),0===this.size){if(Xn)return Xn;Xn=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(t,e){return this.has(t)?this._value:e},e.prototype.includes=function(t){return X(this._value,t)},e.prototype.slice=function(t,n){var r=this.size;return c(t,n,r)?this:new e(this._value,l(n,r)-f(t,r))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(t){return X(this._value,t)?0:-1},e.prototype.lastIndexOf=function(t){return X(this._value,t)?this.size:-1},e.prototype.__iterate=function(t,e){for(var n=this.size,r=0;r!==n&&!1!==t(this._value,e?n-++r:r++,this););return r},e.prototype.__iterator=function(t,e){var n=this,r=this.size,o=0;return new N((function(){return o===r?{value:void 0,done:!0}:E(t,e?r-++o:o++,n._value)}))},e.prototype.equals=function(t){return t instanceof e?X(this._value,t._value):yn(t)},e}(L);function er(t,e){return function t(e,n,r,o,i,a){var s=Array.isArray(r)?L:qt(r)?D:null;if(s){if(~e.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");e.push(r),i&&""!==o&&i.push(o);var u=n.call(a,o,s(r).map((function(o,a){return t(e,n,o,a,i,r)})),i&&i.slice());return e.pop(),i&&i.pop(),u}return r}([],e||nr,t,"",e&&e.length>2?[]:void 0,{"":t})}function nr(t,e){return p(e)?e.toMap():e.toList()}var rr="4.0.0-rc.11",or={version:rr,Collection:g,Iterable:g,Seq:M,Map:_e,OrderedMap:rn,List:Je,Stack:cn,Set:kn,OrderedSet:Kn,Record:$n,Range:Sn,Repeat:tr,is:X,fromJS:er,hash:rt,isImmutable:w,isCollection:v,isKeyed:p,isIndexed:y,isAssociative:m,isOrdered:S,isValueObject:Z,isSeq:A,isList:Ke,isMap:G,isOrderedMap:Q,isStack:un,isSet:vn,isOrderedSet:pn,isRecord:x,get:Vt,getIn:jn,has:Ut,hasIn:Nn,merge:ae,mergeDeep:ue,mergeWith:se,mergeDeepWith:ce,remove:$t,removeIn:Zt,set:Yt,setIn:Gt,update:te,updateIn:Ht},ir=g;e.default=or},function(t,e){var n=Array.isArray;t.exports=n},,,,,,function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(547),o=n(550);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},,,,,,function(t,e,n){var r=n(304),o=n(538),i=n(541),a=n(565);t.exports=function(t,e){return r(t)?t:o(t,e)?[t]:i(a(t))}},function(t,e,n){var r=n(330),o=n(539),i=n(540),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},,,,,,,,,,,function(t,e,n){var r=n(318),o=n(310);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},function(t,e,n){var r=n(270).Symbol;t.exports=r},function(t,e,n){var r=n(377),o=n(465);t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],f=i?i(n[c],t[c],c,n,t):void 0;void 0===f&&(f=t[c]),a?o(n,c,f):r(n,c,f)}return n}},,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(311)(Object,"create");t.exports=r},function(t,e,n){var r=n(555),o=n(556),i=n(557),a=n(558),s=n(559);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(463);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(561);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(329);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},,,,,,,,,,,,,,,,,,,,,function(t,e){var n=1e3,r=6e4,o=36e5,i=24*o;function a(t,e,n,r){var o=e>=1.5*n;return Math.round(t/n)+" "+r+(o?"s":"")}t.exports=function(t,e){e=e||{};var s=typeof t;if("string"===s&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(t);if("number"===s&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=i)return a(t,e,i,"day");if(e>=o)return a(t,e,o,"hour");if(e>=r)return a(t,e,r,"minute");if(e>=n)return a(t,e,n,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=i)return Math.round(t/i)+"d";if(e>=o)return Math.round(t/o)+"h";if(e>=r)return Math.round(t/r)+"m";if(e>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){var r=n(536),o=n(467)((function(t,e){return null==t?{}:r(t,e)}));t.exports=o},function(t,e,n){var r=n(311)(n(270),"Map");t.exports=r},function(t,e,n){var r=n(465),o=n(463),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(571),o=n(310),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},function(t,e,n){var r=n(468),o=n(596),i=n(471);t.exports=function(t){return i(t)?r(t):o(t)}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(459),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.process,s=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,n(257)(t))},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(604),o=n(473),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return i.call(t,e)})))}:o;t.exports=s},function(t,e,n){var r=n(470)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(607),o=n(376),i=n(608),a=n(609),s=n(610),u=n(318),c=n(462),f=c(r),l=c(o),d=c(i),h=c(a),v=c(s),p=u;(r&&"[object DataView]"!=p(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=p(new o)||i&&"[object Promise]"!=p(i.resolve())||a&&"[object Set]"!=p(new a)||s&&"[object WeakMap]"!=p(new s))&&(p=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case f:return"[object DataView]";case l:return"[object Map]";case d:return"[object Promise]";case h:return"[object Set]";case v:return"[object WeakMap]"}return e}),t.exports=p},function(t,e,n){var r=n(613);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){"use strict";e.a=function(t,e){if(!t)throw new Error("Invariant failed")}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r=n(317),o=n(353);t.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(72))},function(t,e,n){var r=n(544),o=n(560),i=n(562),a=n(563),s=n(564);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(318),o=n(271);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},function(t,e,n){var r=n(466);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(311),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,n){var r=n(572),o=n(575),i=n(577);t.exports=function(t){return i(o(t,void 0,r),t+"")}},function(t,e,n){var r=n(592),o=n(379),i=n(304),a=n(469),s=n(378),u=n(594),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),f=!n&&o(t),l=!n&&!f&&a(t),d=!n&&!f&&!l&&u(t),h=n||f||l||d,v=h?r(t.length,String):[],p=v.length;for(var y in t)!e&&!c.call(t,y)||h&&("length"==y||l&&("offset"==y||"parent"==y)||d&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,p))||v.push(y);return v}},function(t,e,n){(function(t){var r=n(270),o=n(593),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===i?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||o;t.exports=u}).call(this,n(257)(t))},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(461),o=n(380);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e,n){var r=n(468),o=n(599),i=n(471);t.exports=function(t){return i(t)?r(t,!0):o(t)}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(381),o=n(387),i=n(386),a=n(473),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:a;t.exports=s},function(t,e,n){var r=n(381),o=n(304);t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},function(t,e,n){var r=n(475),o=n(474),i=n(472);t.exports=function(t){return r(t,i,o)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(532);function o(t){return!0===r(t)&&"[object Object]"===Object.prototype.toString.call(t)}t.exports=function(t){var e,n;return!1!==o(t)&&("function"==typeof(e=t.constructor)&&(!1!==o(n=e.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},function(t,e,n){"use strict";
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */t.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},function(t,e,n){"use strict";(function(r){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.log=function(){var t;return"object"===("undefined"==typeof console?"undefined":o(console))&&console.log&&(t=console).log.apply(t,arguments)},e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))})),e.splice(o,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){var t;try{t=e.storage.getItem("debug")}catch(t){}!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=n(534)(e),t.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,n(98))},function(t,e,n){"use strict";t.exports=function(t){function e(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){var n;function a(){if(a.enabled){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];var i=a,s=Number(new Date),u=s-(n||s);i.diff=u,i.prev=n,i.curr=s,n=s,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");var c=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(function(t,n){if("%%"===t)return t;c++;var o=r.formatters[n];if("function"==typeof o){var a=e[c];t=o.call(i,a),e.splice(c,1),c--}return t})),r.formatArgs.call(i,e);var f=i.log||r.log;f.apply(i,e)}}return a.namespace=t,a.enabled=r.enabled(t),a.useColors=r.useColors(),a.color=e(t),a.destroy=o,a.extend=i,"function"==typeof r.init&&r.init(a),r.instances.push(a),a}function o(){var t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function i(t,e){return r(this.namespace+(void 0===e?":":e)+t)}return r.debug=r,r.default=r,r.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},r.disable=function(){r.enable("")},r.enable=function(t){var e;r.save(t),r.names=[],r.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),o=n.length;for(e=0;e<o;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){var i=r.instances[e];i.enabled=r.enabled(i.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;var e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=n(374),Object.keys(t).forEach((function(e){r[e]=t[e]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=e,r.enable(r.load()),r}},function(t,e,n){(function(t,r){var o;/*! https://mths.be/esrever v0.2.0 by @mathias */!function(i){var a=e,s=(t&&t.exports,"object"==typeof r&&r);s.global!==s&&s.window;var u=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,c=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,f=function(t){for(var e="",n=(t=t.replace(u,(function(t,e,n){return f(n)+e})).replace(c,"$2$1")).length;n--;)e+=t.charAt(n);return e},l={version:"0.2.0",reverse:f};void 0===(o=function(){return l}.call(e,n,e,t))||(t.exports=o)}()}).call(this,n(257)(t),n(72))},function(t,e,n){var r=n(537),o=n(568);t.exports=function(t,e){return r(t,e,(function(e,n){return o(t,n)}))}},function(t,e,n){var r=n(458),o=n(567),i=n(317);t.exports=function(t,e,n){for(var a=-1,s=e.length,u={};++a<s;){var c=e[a],f=r(t,c);n(f,c)&&o(u,i(c,t),f)}return u}},function(t,e,n){var r=n(304),o=n(329),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||(a.test(t)||!i.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var r=n(330),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[s]=n:delete t[s]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(542),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)})),e}));t.exports=a},function(t,e,n){var r=n(543);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(460);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e,n){var r=n(545),o=n(350),i=n(376);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,e,n){var r=n(546),o=n(551),i=n(552),a=n(553),s=n(554);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(349);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e,n){var r=n(461),o=n(548),i=n(271),a=n(462),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,f=u.toString,l=c.hasOwnProperty,d=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?d:s).test(a(t))}},function(t,e,n){var r,o=n(549),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(270)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(349),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(349),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},function(t,e,n){var r=n(349);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(351),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():o.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(351);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(351);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(351);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},function(t,e,n){var r=n(352);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(352);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(352);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(352);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},function(t,e,n){var r=n(566);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(330),o=n(464),i=n(304),a=n(329),s=r?r.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e,n){var r=n(377),o=n(317),i=n(378),a=n(271),s=n(353);t.exports=function(t,e,n,u){if(!a(t))return t;for(var c=-1,f=(e=o(e,t)).length,l=f-1,d=t;null!=d&&++c<f;){var h=s(e[c]),v=n;if(c!=l){var p=d[h];void 0===(v=u?u(p,h,d):void 0)&&(v=a(p)?p:i(e[c+1])?[]:{})}r(d,h,v),d=d[h]}return t}},function(t,e,n){var r=n(569),o=n(570);t.exports=function(t,e){return null!=t&&o(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(317),o=n(379),i=n(304),a=n(378),s=n(380),u=n(353);t.exports=function(t,e,n){for(var c=-1,f=(e=r(e,t)).length,l=!1;++c<f;){var d=u(e[c]);if(!(l=null!=t&&n(t,d)))break;t=t[d]}return l||++c!=f?l:!!(f=null==t?0:t.length)&&s(f)&&a(d,f)&&(i(t)||o(t))}},function(t,e,n){var r=n(318),o=n(310);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},function(t,e,n){var r=n(573);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},function(t,e,n){var r=n(381),o=n(574);t.exports=function t(e,n,i,a,s){var u=-1,c=e.length;for(i||(i=o),s||(s=[]);++u<c;){var f=e[u];n>0&&i(f)?n>1?t(f,n-1,i,a,s):r(s,f):a||(s[s.length]=f)}return s}},function(t,e,n){var r=n(330),o=n(379),i=n(304),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},function(t,e,n){var r=n(576),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,s=o(i.length-e,0),u=Array(s);++a<s;)u[a]=i[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=i[a];return c[e]=n(u),r(t,this,c)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(578),o=n(581)(r);t.exports=o},function(t,e,n){var r=n(579),o=n(466),i=n(580),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){t.exports=function(t){return t}},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var o=n(),i=16-(o-r);if(r=o,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(464),o=n(583),i=n(624),a=n(317),s=n(331),u=n(628),c=n(467),f=n(476),l=c((function(t,e){var n={};if(null==t)return n;var c=!1;e=r(e,(function(e){return e=a(e,t),c||(c=e.length>1),e})),s(t,f(t),n),c&&(n=o(n,7,u));for(var l=e.length;l--;)i(n,e[l]);return n}));t.exports=l},function(t,e,n){var r=n(584),o=n(590),i=n(377),a=n(591),s=n(598),u=n(601),c=n(602),f=n(603),l=n(605),d=n(606),h=n(476),v=n(388),p=n(611),y=n(612),m=n(618),g=n(304),k=n(469),_=n(620),b=n(271),A=n(622),x=n(382),w={};w["[object Arguments]"]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object DataView]"]=w["[object Boolean]"]=w["[object Date]"]=w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Map]"]=w["[object Number]"]=w["[object Object]"]=w["[object RegExp]"]=w["[object Set]"]=w["[object String]"]=w["[object Symbol]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w["[object Error]"]=w["[object Function]"]=w["[object WeakMap]"]=!1,t.exports=function t(e,n,O,S,j,T){var N,E=1&n,B=2&n,P=4&n;if(O&&(N=j?O(e,S,j,T):O(e)),void 0!==N)return N;if(!b(e))return e;var F=g(e);if(F){if(N=p(e),!E)return c(e,N)}else{var z=v(e),C="[object Function]"==z||"[object GeneratorFunction]"==z;if(k(e))return u(e,E);if("[object Object]"==z||"[object Arguments]"==z||C&&!j){if(N=B||C?{}:m(e),!E)return B?l(e,s(N,e)):f(e,a(N,e))}else{if(!w[z])return j?e:{};N=y(e,z,E)}}T||(T=new r);var I=T.get(e);if(I)return I;T.set(e,N),A(e)?e.forEach((function(r){N.add(t(r,n,O,r,e,T))})):_(e)&&e.forEach((function(r,o){N.set(o,t(r,n,O,o,e,T))}));var R=P?B?h:d:B?keysIn:x,M=F?void 0:R(e);return o(M||e,(function(r,o){M&&(r=e[o=r]),i(N,o,t(r,n,O,o,e,T))})),N}},function(t,e,n){var r=n(350),o=n(585),i=n(586),a=n(587),s=n(588),u=n(589);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e,n){var r=n(350);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(350),o=n(376),i=n(460);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(t,e),this.size=n.size,this}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(331),o=n(382);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(595),o=n(383),i=n(384),a=i&&i.isTypedArray,s=a?o(a):r;t.exports=s},function(t,e,n){var r=n(318),o=n(380),i=n(310),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},function(t,e,n){var r=n(385),o=n(597),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(470)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(331),o=n(472);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,n){var r=n(271),o=n(385),i=n(600),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){(function(t){var r=n(270),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(257)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(331),o=n(386);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}},function(t,e,n){var r=n(331),o=n(474);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(475),o=n(386),i=n(382);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(311)(n(270),"DataView");t.exports=r},function(t,e,n){var r=n(311)(n(270),"Promise");t.exports=r},function(t,e,n){var r=n(311)(n(270),"Set");t.exports=r},function(t,e,n){var r=n(311)(n(270),"WeakMap");t.exports=r},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(389),o=n(614),i=n(615),a=n(616),s=n(617);t.exports=function(t,e,n){var u=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new u(+t);case"[object DataView]":return o(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":return new u;case"[object Number]":case"[object String]":return new u(t);case"[object RegExp]":return i(t);case"[object Set]":return new u;case"[object Symbol]":return a(t)}}},function(t,e,n){var r=n(270).Uint8Array;t.exports=r},function(t,e,n){var r=n(389);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(330),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},function(t,e,n){var r=n(389);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(619),o=n(387),i=n(385);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},function(t,e,n){var r=n(271),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e,n){var r=n(621),o=n(383),i=n(384),a=i&&i.isMap,s=a?o(a):r;t.exports=s},function(t,e,n){var r=n(388),o=n(310);t.exports=function(t){return o(t)&&"[object Map]"==r(t)}},function(t,e,n){var r=n(623),o=n(383),i=n(384),a=i&&i.isSet,s=a?o(a):r;t.exports=s},function(t,e,n){var r=n(388),o=n(310);t.exports=function(t){return o(t)&&"[object Set]"==r(t)}},function(t,e,n){var r=n(317),o=n(625),i=n(626),a=n(353);t.exports=function(t,e){return e=r(e,t),null==(t=i(t,e))||delete t[a(o(e))]}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var r=n(458),o=n(627);t.exports=function(t,e){return e.length<2?t:r(t,o(e,0,-1))}},function(t,e){t.exports=function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}},function(t,e,n){var r=n(629);t.exports=function(t){return r(t)?void 0:t}},function(t,e,n){var r=n(318),o=n(387),i=n(310),a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,f=u.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=r(t))return!1;var e=o(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==f}},function(t,e,n){"use strict";var r,o;r=new RegExp("^[^---]*[A-Za-z--------]"),o=new RegExp("^[^A-Za-z--------]*[---]"),t.exports=function(t){return t=t.toString(),o.test(t)?"rtl":r.test(t)?"ltr":"neutral"}},function(t,e,n){"use strict";e.a=function(t,e){0}}])]);